<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="AugmentWebviewStateStore">
    <option name="stateMap">
      <map>
        <entry key="CHAT_STATE" value="eyJjdXJyZW50Q29udmVyc2F0aW9uSWQiOiI3YWY2NGFmOC1mYWVhLTQwNTYtYTNkMi1hNGFiN2E5MmQwZTQiLCJjb252ZXJzYXRpb25zIjp7ImZiNTMzYjE2LTg4ZjgtNDUwNS1hNWMxLTU0Y2FjMmFiZjg3ZCI6eyJpZCI6ImZiNTMzYjE2LTg4ZjgtNDUwNS1hNWMxLTU0Y2FjMmFiZjg3ZCIsImNyZWF0ZWRBdElzbyI6IjIwMjUtMDQtMTVUMTM6Mzk6MTMuMzU0WiIsImxhc3RJbnRlcmFjdGVkQXRJc28iOiIyMDI1LTA0LTE1VDEzOjM5OjEzLjM1NFoiLCJjaGF0SGlzdG9yeSI6W10sImZlZWRiYWNrU3RhdGVzIjp7fSwidG9vbFVzZVN0YXRlcyI6e30sImRyYWZ0RXhjaGFuZ2UiOnsicmVxdWVzdF9tZXNzYWdlIjoiIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCJ9XX0sInN0YXR1cyI6ImRyYWZ0In0sInJlcXVlc3RJZHMiOltdLCJpc1Bpbm5lZCI6ZmFsc2UsImlzU2hhcmVhYmxlIjpmYWxzZSwiZXh0cmFEYXRhIjp7Imhhc0RpcnR5RWRpdHMiOmZhbHNlfSwicGVyc29uYVR5cGUiOjB9LCIxZDM1ODc4OC1mNjg2LTRmNTUtOTQ4OC1mOTMyODNjNDkwZWMiOnsiaWQiOiIxZDM1ODc4OC1mNjg2LTRmNTUtOTQ4OC1mOTMyODNjNDkwZWMiLCJjcmVhdGVkQXRJc28iOiIyMDI1LTA0LTE1VDEzOjM5OjEzLjQyOFoiLCJsYXN0SW50ZXJhY3RlZEF0SXNvIjoiMjAyNS0wNC0xNVQxMzo1MzowOS45NjhaIiwiY2hhdEhpc3RvcnkiOlt7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZGM3MDliNTMtNmM1Yi00Y2Y2LWJhY2ItMDhlZjVmNjUwMzZhIiwicmVxdWVzdF9tZXNzYWdlIjoicmVhZCBhbGwgcHJvamVjdCBhbmQgY3JlYXRlIG1ldGhvcmQgb3ZlcnRpZGUgYm9vbGVhbiBkZWxldGUgaW4gY2xhc3MgTGljaFRyaW5oVGF1REFPSW1wbCIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJyZWFkIGFsbCBwcm9qZWN0IGFuZCBjcmVhdGUgbWV0aG9yZCBvdmVydGlkZSBib29sZWFuIGRlbGV0ZSBpbiBjbGFzcyBMaWNoVHJpbmhUYXVEQU9JbXBsIn1dfV19LCJtZW50aW9uZWRfaXRlbXMiOltdLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJCYXNlZCBvbiB0aGUgcHJvamVjdCBzdHJ1Y3R1cmUgYW5kIGltcGxlbWVudGF0aW9uIHBhdHRlcm5zLCBJJ2xsIGhlbHAgY3JlYXRlIHRoZSBgZGVsZXRlYCBtZXRob2Qgb3ZlcnJpZGUgZm9yIGBMaWNoVHJpbmhUYXVEQU9JbXBsYC4gSGVyZSdzIHRoZSBpbXBsZW1lbnRhdGlvbjpcblxuPGF1Z21lbnRfY29kZV9zbmlwcGV0IHBhdGg9XCJQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xpY2hUcmluaFRhdURBT0ltcGwuamF2YVwiIG1vZGU9XCJFRElUXCI+XG5gYGBqYXZhXG5AT3ZlcnJpZGVcbnB1YmxpYyBib29sZWFuIGRlbGV0ZShMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1KSB7XG4gICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgdHJ5IHtcbiAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgTGljaFRyaW5oVGF1IG1hbmFnZWRFbnRpdHkgPSBlbS5tZXJnZShsaWNoVHJpbmhUYXUpO1xuICAgICAgICBlbS5yZW1vdmUobWFuYWdlZEVudGl0eSk7XG4gICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5gYGBcbjwvYXVnbWVudF9jb2RlX3NuaXBwZXQ+XG5cblRoaXMgaW1wbGVtZW50YXRpb246XG5cbjEuIENyZWF0ZXMgYSBuZXcgYEVudGl0eU1hbmFnZXJgIGluc3RhbmNlXG4yLiBTdGFydHMgYSB0cmFuc2FjdGlvblxuMy4gTWVyZ2VzIHRoZSBlbnRpdHkgZmlyc3QgKGluIGNhc2UgaXQncyBkZXRhY2hlZCkgYW5kIHRoZW4gcmVtb3ZlcyBpdFxuNC4gQ29tbWl0cyB0aGUgdHJhbnNhY3Rpb24gYW5kIHJldHVybnMgdHJ1ZSBvbiBzdWNjZXNzXG41LiBIYW5kbGVzIGV4Y2VwdGlvbnMgYnkgcm9sbGluZyBiYWNrIHRoZSB0cmFuc2FjdGlvbiBhbmQgcmV0dXJuaW5nIGZhbHNlXG5cblRoZSBwYXR0ZXJuIGZvbGxvd3MgdGhlIGV4aXN0aW5nIERBTyBpbXBsZW1lbnRhdGlvbnMgaW4gdGhlIHByb2plY3Qgd2hpbGUgZW5zdXJpbmcgcHJvcGVyIHRyYW5zYWN0aW9uIG1hbmFnZW1lbnQgYW5kIGVudGl0eSBzdGF0ZSBoYW5kbGluZy5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9MaWNoVHJpbmhUYXVEQU9JbXBsLmphdmE6MTk4LTEwODlcblByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPSW1wbC5qYXZhOjEwODktMjAwM1xuUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9MaWNoVHJpbmhUYXVEQU9JbXBsLmphdmE6MjAwMy0yNTIwXG5Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1RhdURBT0ltcGwuamF2YToxNTktMTExMFxuUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9UYXVEQU9JbXBsLmphdmE6MTExMC0xODIxXG5Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1RhdURBTy5qYXZhOjI2OS0xMjE2XG5Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1RhdURBTy5qYXZhOjEyMTYtMTkyN1xuUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9Mb2FpQ2hvREFPSW1wbC5qYXZhOjE5My0xMDQyXG5Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xvYWlDaG9EQU9JbXBsLmphdmE6MTA0Mi0xOTQ2XG5Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1ZlVGF1REFPSW1wbC5qYXZhOjE5MS0xMDI0XG5Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xvYWlDaG9EQU8uamF2YToxODgtMTAzM1xuUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9DaG9OZ29pREFPSW1wbC5qYXZhOjE5My0xMDMyXG5Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xvYWlUb2FUYXVEQU9JbXBsLmphdmE6MC05NjJcblByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTG9haVRvYVRhdURBT0ltcGwuamF2YTo5NjItMTcwMFxuUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9WZVRhdURBTy5qYXZhOjE4Ni0xMDE1XG5Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xvYWlUb2FUYXVEQU8uamF2YTowLTk1M1xuUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9Mb2FpVG9hVGF1REFPLmphdmE6OTUzLTE2OTFcblByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvQ2hvTmdvaURBTy5qYXZhOjI2NS0xMTAwXG5Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9UYXVEQU8uamF2YToyNjktMTIxNlxuUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9Ub2FUYXVEQU9JbXBsLmphdmE6MTYyLTExMjdcblByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvVG9hVGF1REFPSW1wbC5qYXZhOjExMjctMTkwN1xuUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9Ub2FUYXVEQU8uamF2YToyNDAtMTIwMVxuUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vTG9haUNob0RBTy5qYXZhOjE4OC0xMDMzXG5Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1R1eWVuVGF1REFPSW1wbC5qYXZhOjE4OC0xMTQ4XG5Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1R1eWVuVGF1REFPSW1wbC5qYXZhOjExNDgtMTkyNVxuUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vTG9haVRvYVRhdURBTy5qYXZhOjAtOTUzXG5Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9WZVRhdURBTy5qYXZhOjE4Ni0xMDE1XG5Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9DaG9OZ29pREFPLmphdmE6MjY1LTExMDBcblByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvVHV5ZW5UYXVEQU8uamF2YToxODMtMTEzOVxuUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vVG9hVGF1REFPLmphdmE6MjQwLTEyMDFcblByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL1R1eWVuVGF1REFPLmphdmE6MTgzLTExMzlcblByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvS2h1eWVuTWFpREFPSW1wbC5qYXZhOjIxNy05NjVcblByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvSG9hRG9uREFPSW1wbC5qYXZhOjE1Mi05ODFcblByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvS2h1eWVuTWFpREFPLmphdmE6MjEyLTk1NlxuUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9MaWNoVHJpbmhUYXVEQU8uamF2YTowLTU2In1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjAsInRleHRfbm9kZSI6eyJjb250ZW50IjoicmVhZCBhbGwgcHJvamVjdCBhbmQgY3JlYXRlIG1ldGhvcmQgb3ZlcnRpZGUgYm9vbGVhbiBkZWxldGUgaW4gY2xhc3MgTGljaFRyaW5oVGF1REFPSW1wbCJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nIiwiZm9sZGVyUm9vdCI6IkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkJhc2VkIG9uIHRoZSBwcm9qZWN0IHN0cnVjdHVyZSBhbmQgaW1wbGVtZW50YXRpb24gcGF0dGVybnMsIEknbGwgaGVscCBjcmVhdGUgdGhlIGBkZWxldGVgIG1ldGhvZCBvdmVycmlkZSBmb3IgYExpY2hUcmluaFRhdURBT0ltcGxgLiBIZXJlJ3MgdGhlIGltcGxlbWVudGF0aW9uOlxuXG5gYGBgamF2YSBwYXRoPVByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPSW1wbC5qYXZhIG1vZGU9RURJVFxuQE92ZXJyaWRlXG5wdWJsaWMgYm9vbGVhbiBkZWxldGUoTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdSkge1xuICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgIHRyeSB7XG4gICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgIExpY2hUcmluaFRhdSBtYW5hZ2VkRW50aXR5ID0gZW0ubWVyZ2UobGljaFRyaW5oVGF1KTtcbiAgICAgICAgZW0ucmVtb3ZlKG1hbmFnZWRFbnRpdHkpO1xuICAgICAgICB0ci5jb21taXQoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuYGBgYFxuXG5UaGlzIGltcGxlbWVudGF0aW9uOlxuXG4xLiBDcmVhdGVzIGEgbmV3IGBFbnRpdHlNYW5hZ2VyYCBpbnN0YW5jZVxuMi4gU3RhcnRzIGEgdHJhbnNhY3Rpb25cbjMuIE1lcmdlcyB0aGUgZW50aXR5IGZpcnN0IChpbiBjYXNlIGl0J3MgZGV0YWNoZWQpIGFuZCB0aGVuIHJlbW92ZXMgaXRcbjQuIENvbW1pdHMgdGhlIHRyYW5zYWN0aW9uIGFuZCByZXR1cm5zIHRydWUgb24gc3VjY2Vzc1xuNS4gSGFuZGxlcyBleGNlcHRpb25zIGJ5IHJvbGxpbmcgYmFjayB0aGUgdHJhbnNhY3Rpb24gYW5kIHJldHVybmluZyBmYWxzZVxuXG5UaGUgcGF0dGVybiBmb2xsb3dzIHRoZSBleGlzdGluZyBEQU8gaW1wbGVtZW50YXRpb25zIGluIHRoZSBwcm9qZWN0IHdoaWxlIGVuc3VyaW5nIHByb3BlciB0cmFuc2FjdGlvbiBtYW5hZ2VtZW50IGFuZCBlbnRpdHkgc3RhdGUgaGFuZGxpbmcuXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOlt7ImNoYXJfc3RhcnQiOiIxOTgiLCJjaGFyX2VuZCI6IjEwODkiLCJibG9iX25hbWUiOiIzYzg3YTNhODEyMjk1Y2IwN2IxNjQwM2ZjYTZkN2IxYmI0YTExMTAzYTllMGFiZDc1MTcwZjM0MTYyM2U4MDU2IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoiUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9MaWNoVHJpbmhUYXVEQU9JbXBsLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMTA4OSIsImNoYXJfZW5kIjoiMjAwMyIsImJsb2JfbmFtZSI6IjNjODdhM2E4MTIyOTVjYjA3YjE2NDAzZmNhNmQ3YjFiYjRhMTExMDNhOWUwYWJkNzUxNzBmMzQxNjIzZTgwNTYiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xpY2hUcmluaFRhdURBT0ltcGwuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIyMDAzIiwiY2hhcl9lbmQiOiIyNTIwIiwiYmxvYl9uYW1lIjoiM2M4N2EzYTgxMjI5NWNiMDdiMTY0MDNmY2E2ZDdiMWJiNGExMTEwM2E5ZTBhYmQ3NTE3MGYzNDE2MjNlODA1NiIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6IlByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPSW1wbC5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjE1OSIsImNoYXJfZW5kIjoiMTExMCIsImJsb2JfbmFtZSI6IjY5MzNhODE5NzYzNTI2N2U4NDVkM2JjZDhlOWE2MjE2NDYxMGU4MWQ2ZWNiMDliOGIzNmJlMTBiZWQxOWExODEiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1RhdURBT0ltcGwuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxMTEwIiwiY2hhcl9lbmQiOiIxODIxIiwiYmxvYl9uYW1lIjoiNjkzM2E4MTk3NjM1MjY3ZTg0NWQzYmNkOGU5YTYyMTY0NjEwZTgxZDZlY2IwOWI4YjM2YmUxMGJlZDE5YTE4MSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6IlByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvVGF1REFPSW1wbC5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjI2OSIsImNoYXJfZW5kIjoiMTIxNiIsImJsb2JfbmFtZSI6ImExZTQ5YjFhYjA5MTNmMzgzMjgxNmU2OGIyZGU4MzQzZjMwMDlhNTE5M2JjYmE5MTNiNjJiOTE3MDkzNTk2Y2UiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1RhdURBTy5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjEyMTYiLCJjaGFyX2VuZCI6IjE5MjciLCJibG9iX25hbWUiOiJhMWU0OWIxYWIwOTEzZjM4MzI4MTZlNjhiMmRlODM0M2YzMDA5YTUxOTNiY2JhOTEzYjYyYjkxNzA5MzU5NmNlIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoiUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9UYXVEQU8uamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxOTMiLCJjaGFyX2VuZCI6IjEwNDIiLCJibG9iX25hbWUiOiI1ZDMyM2EzOTI4NTZkYmI2NjFlZTA4N2NiN2Y4MjZhMTc0NTViYjVlYjgyNmE3MmJkYTNhNjdmNTZiNDc4MWEzIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoiUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9Mb2FpQ2hvREFPSW1wbC5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjEwNDIiLCJjaGFyX2VuZCI6IjE5NDYiLCJibG9iX25hbWUiOiI1ZDMyM2EzOTI4NTZkYmI2NjFlZTA4N2NiN2Y4MjZhMTc0NTViYjVlYjgyNmE3MmJkYTNhNjdmNTZiNDc4MWEzIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoiUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9Mb2FpQ2hvREFPSW1wbC5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjE5MSIsImNoYXJfZW5kIjoiMTAyNCIsImJsb2JfbmFtZSI6IjdmNGRhZmZkYzRmYmY0ZmI0NGJiN2RjNmYyYzY3MjE2ZTlmNWYzNzZiNmFhMjczMjMyYTcxMjUyMGRiZTk3ZjUiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1ZlVGF1REFPSW1wbC5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjE4OCIsImNoYXJfZW5kIjoiMTAzMyIsImJsb2JfbmFtZSI6IjU3NTJmZTQ3NjczNjZhMTA2NmVhOWYwNDIyODVhYTg2MDk0ZDQ0ODcwNDAyNTU4ODQ5MzQ2Y2IzYTM0ZGYzOTAiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xvYWlDaG9EQU8uamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxOTMiLCJjaGFyX2VuZCI6IjEwMzIiLCJibG9iX25hbWUiOiI0ZDg3OWU1MTRjNjM5YzM1MWEzMjc3NWMwNGNjZDcxZjMxODExY2ZlNzE0OGJiZmIyZGQ3ZGQ4NmZlYzZjYzE5IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoiUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9DaG9OZ29pREFPSW1wbC5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjAiLCJjaGFyX2VuZCI6Ijk2MiIsImJsb2JfbmFtZSI6ImY2ODI1NzVmZWYzNWUwYjExMTE2ZmQyM2ViYzU1OTM4N2RmYmVkYmRlNTFmYTRkMjcwMWE5ZWI4YmNmM2MyZjkiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xvYWlUb2FUYXVEQU9JbXBsLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiOTYyIiwiY2hhcl9lbmQiOiIxNzAwIiwiYmxvYl9uYW1lIjoiZjY4MjU3NWZlZjM1ZTBiMTExMTZmZDIzZWJjNTU5Mzg3ZGZiZWRiZGU1MWZhNGQyNzAxYTllYjhiY2YzYzJmOSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6IlByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTG9haVRvYVRhdURBT0ltcGwuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxODYiLCJjaGFyX2VuZCI6IjEwMTUiLCJibG9iX25hbWUiOiIzOGM0Mzk3MGM4NTgyMDVjMzliM2FmMTA4ZTkwZDJiN2VlNDExNDc5MTZmMjZlNGZlYjBhZWMwODhiNGI4ZjNmIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoiUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9WZVRhdURBTy5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjAiLCJjaGFyX2VuZCI6Ijk1MyIsImJsb2JfbmFtZSI6ImZhYTM5NzZmM2NlNDI5OGZiOTlmOGNhMWJmMmU5MzFhZWEzNDhjYmY4MzVjMWJjOGY2MWNiOTBmYjJkOTFlNjMiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xvYWlUb2FUYXVEQU8uamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI5NTMiLCJjaGFyX2VuZCI6IjE2OTEiLCJibG9iX25hbWUiOiJmYWEzOTc2ZjNjZTQyOThmYjk5ZjhjYTFiZjJlOTMxYWVhMzQ4Y2JmODM1YzFiYzhmNjFjYjkwZmIyZDkxZTYzIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoiUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9Mb2FpVG9hVGF1REFPLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMjY1IiwiY2hhcl9lbmQiOiIxMTAwIiwiYmxvYl9uYW1lIjoiNGQyNDllMGEwNzZhNzhiZDcyY2JjMjUxNDM0ZjhiNjg0NWJhNmQyMmFjODFkNzM2Yjg2ZjAzYjU0MWRhZTg5NSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6IlByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvQ2hvTmdvaURBTy5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjI2OSIsImNoYXJfZW5kIjoiMTIxNiIsImJsb2JfbmFtZSI6IjJiYjA1NzM5NThjYjI2OTFmOGQwYjJlYTg2ODdmYzI5ODdjM2RkZmI0ZGFjM2U2ZWU1NmZjYjE1OTNjYmE1NGMiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9UYXVEQU8uamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxNjIiLCJjaGFyX2VuZCI6IjExMjciLCJibG9iX25hbWUiOiJlZGM2NTJhMTI5NjdlNTAxNjQ0NTc2YTAyYzAxMTMwZmIyYmQ2YzlhZmM1ODMwNDQxNDEwZWMxYTY5YzdmNGMxIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoiUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9Ub2FUYXVEQU9JbXBsLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMTEyNyIsImNoYXJfZW5kIjoiMTkwNyIsImJsb2JfbmFtZSI6ImVkYzY1MmExMjk2N2U1MDE2NDQ1NzZhMDJjMDExMzBmYjJiZDZjOWFmYzU4MzA0NDE0MTBlYzFhNjljN2Y0YzEiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1RvYVRhdURBT0ltcGwuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIyNDAiLCJjaGFyX2VuZCI6IjEyMDEiLCJibG9iX25hbWUiOiIxZmJiZWJjNDk4NWJiY2EzMTk2ZjQyOWJjODNjNGQzZWQ5MjA4MmRjMWY2ZWRjMTA2YWY1NjRiMzEzNDNlZjBmIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoiUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9Ub2FUYXVEQU8uamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxODgiLCJjaGFyX2VuZCI6IjEwMzMiLCJibG9iX25hbWUiOiIwMjkyYjEwYWU1YWEzOWQxNjE0YmNhYWFiOTMzNjU0NzhiZjM3NzMyMTI3MTVlMmJkOTUxNDU5YTFjNzUzNTQ1IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoiUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vTG9haUNob0RBTy5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjE4OCIsImNoYXJfZW5kIjoiMTE0OCIsImJsb2JfbmFtZSI6IjI3NDU0MjUyODQxYmY0ZmZjOWZkZDlmMjI3MjJlMDI5OWYzNGQxMmRiZTNiMGQwMzQyNWY2MGFlOWM5YjYxMjEiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1R1eWVuVGF1REFPSW1wbC5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjExNDgiLCJjaGFyX2VuZCI6IjE5MjUiLCJibG9iX25hbWUiOiIyNzQ1NDI1Mjg0MWJmNGZmYzlmZGQ5ZjIyNzIyZTAyOTlmMzRkMTJkYmUzYjBkMDM0MjVmNjBhZTljOWI2MTIxIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoiUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9UdXllblRhdURBT0ltcGwuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIwIiwiY2hhcl9lbmQiOiI5NTMiLCJibG9iX25hbWUiOiIwNDYzOTI5NGIyODFkZTM3ODZiMTE5Y2U1YWU2YTIxZGQ5MmRjNjIxY2Y5YjlhNmVhN2FlZmE1Y2Q4NjljYmQwIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoiUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vTG9haVRvYVRhdURBTy5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjE4NiIsImNoYXJfZW5kIjoiMTAxNSIsImJsb2JfbmFtZSI6ImUxNmQ0OWFmMjlhOWUyNzBkZGRjODUzZDRmNDc5NjJhYTQ1YWUwNjg0NGJlODYxNWVmZTgyZjFmZTExZGU5NTQiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9WZVRhdURBTy5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjI2NSIsImNoYXJfZW5kIjoiMTEwMCIsImJsb2JfbmFtZSI6IjZhN2U3MjhmYWZhN2M1NWY3MjU5MDgxZDJkZTQyMTgwNjJhMTgyZmJkNDhmNGQ3MjEyZWY1NmI0MjQ4M2VmMzYiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9DaG9OZ29pREFPLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMTgzIiwiY2hhcl9lbmQiOiIxMTM5IiwiYmxvYl9uYW1lIjoiNzdkY2Q5M2FiZWYzZTU4MmI5ZWNkNWYxOTgzMWJlYjY1NWQyN2ViZTZkMTE0MmY2ZmZiYTA1ZjU1YjBkMjk3YSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6IlByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvVHV5ZW5UYXVEQU8uamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIyNDAiLCJjaGFyX2VuZCI6IjEyMDEiLCJibG9iX25hbWUiOiJkNzBlMWU2OGI3ZjRmZDg3OTVhNzVjMjlkZDZhMzFkNjdiN2VlYWY0ZGI2N2UxNWJlMzVhNWNiZWMzMWU3YjQ4IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoiUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vVG9hVGF1REFPLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMTgzIiwiY2hhcl9lbmQiOiIxMTM5IiwiYmxvYl9uYW1lIjoiNzk4YWY3YTczYWUwZTZiZDY1MTBhNzRjYmI5MGMyYWZkMWUzYWNiNDMyYjg5NTM4YjcwNWY2OGQxMzAxNmVlMSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6IlByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL1R1eWVuVGF1REFPLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMjE3IiwiY2hhcl9lbmQiOiI5NjUiLCJibG9iX25hbWUiOiIzOGQzNDgyYzBhYmRlZGFjMjYwZjRmZDg3M2ZkZDhkYTJkYjdhZTNiODQ2NzE5Y2JhZWMzYjkwMzc5NDFhNmE5IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoiUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9LaHV5ZW5NYWlEQU9JbXBsLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMTUyIiwiY2hhcl9lbmQiOiI5ODEiLCJibG9iX25hbWUiOiJmZTYyMmU4OTNkMjA5NTcwNzk5ZmYyMjBiOGNiNmQ4NjY0ODU1MjcyMzMwOTAyZDExZTFjZjZlNzk5MzQ3YTMxIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoiUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9Ib2FEb25EQU9JbXBsLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMjEyIiwiY2hhcl9lbmQiOiI5NTYiLCJibG9iX25hbWUiOiI0NDgwNmNhMGVhNzdiYzUxNWYyNWZiN2I2ODViMDMzYTdiN2I0NmMzNGM5YTQ4YzAzYmFmODQ1NTA3ZmQ1YWYzIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoiUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9LaHV5ZW5NYWlEQU8uamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIwIiwiY2hhcl9lbmQiOiI1NiIsImJsb2JfbmFtZSI6IjFkYzFmZWFmYjI2NDM5NWNhMGU3ZTdhMjEyZGU0OWQ4MmNkMWRhM2JjOGZjNDQzMDQwMzM0YTQ3NDRhZjJhMTYiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xpY2hUcmluaFRhdURBTy5qYXZhIn19XX1dLCJmZWVkYmFja1N0YXRlcyI6eyJ0ZW1wLWZlLTU0YjA2NjExLWNlZTUtNDYyNS1hN2VkLTIxNGVmNjM0NWZjYyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn19LCJ0b29sVXNlU3RhdGVzIjp7fSwiZHJhZnRFeGNoYW5nZSI6eyJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIn1dfSwic3RhdHVzIjoiZHJhZnQifSwiZHJhZnRBY3RpdmVDb250ZXh0SWRzIjpbIkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPSW1wbC5qYXZhIiwiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9MaWNoVHJpbmhUYXVEQU9JbXBsLmphdmE6TDY4LTY4IiwiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmdmYWxzZWZhbHNlIl0sInJlcXVlc3RJZHMiOltdLCJpc1Bpbm5lZCI6ZmFsc2UsImlzU2hhcmVhYmxlIjp0cnVlLCJleHRyYURhdGEiOnsiaGFzRGlydHlFZGl0cyI6ZmFsc2V9LCJwZXJzb25hVHlwZSI6MH0sIjdhZjY0YWY4LWZhZWEtNDA1Ni1hM2QyLWE0YWI3YTkyZDBlNCI6eyJpZCI6IjdhZjY0YWY4LWZhZWEtNDA1Ni1hM2QyLWE0YWI3YTkyZDBlNCIsIm5hbWUiOiJXZWxjb21lIHRvIHRoZSBBdWdtZW50IEFnZW50IiwiY3JlYXRlZEF0SXNvIjoiMjAyNS0wNC0xNVQxMzo1MzozMS4xMTJaIiwibGFzdEludGVyYWN0ZWRBdElzbyI6IjIwMjUtMDQtMTVUMTQ6NDc6NDIuMDIwWiIsImNoYXRIaXN0b3J5IjpbeyJyZXF1ZXN0X2lkIjoiMDg4ZTc2MmItMmU5MC00MzBkLTg3M2EtMGI4ZDUzNjFkNDc5IiwidXVpZCI6ImJjNGYyYzdlLTE5YWItNDRhYS04NmI2LTcyM2JmOTkzNzgyNSIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtY2hlY2twb2ludC1kZWxpbWl0ZXIiLCJzdGF0dXMiOiJzdWNjZXNzIiwiZnJvbVRpbWVzdGFtcCI6MCwidG9UaW1lc3RhbXAiOjE3NDQ3MjUyMTExMTMsInNlZW5fc3RhdGUiOiJzZWVuIn0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjMxNzQzZmEwLTBkMzEtNDlkYy05MWRjLWNmYjg0MjVmOTk1YyIsInJlcXVlc3RfbWVzc2FnZSI6InJlYWQgYWxsIHByb2plY3QgYW5kIGNyZWF0ZSBtZXRob3JkIG92ZXJ0aWRlIGJvb2xlYW4gZGVsZXRlIGluIGNsYXNzIExpY2hUcmluaFRhdURBT0ltcCIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJyZWFkIGFsbCBwcm9qZWN0IGFuZCBjcmVhdGUgbWV0aG9yZCBvdmVydGlkZSBib29sZWFuIGRlbGV0ZSBpbiBjbGFzcyBMaWNoVHJpbmhUYXVEQU9JbXAifV19XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMThZVWNUYXU4aGh2Rlp2VUpVSGNqWnEiLCJ0b29sX25hbWUiOiJjb2RlYmFzZS1yZXRyaWV2YWwiLCJpbnB1dF9qc29uIjoie1wiaW5mb3JtYXRpb25fcmVxdWVzdFwiOiBcIkZpbmQgdGhlIExpY2hUcmluaFRhdURBT0ltcGwuamF2YSBmaWxlIGFuZCBzaG93IGl0cyBjdXJyZW50IGltcGxlbWVudGF0aW9uLCBpbmNsdWRpbmcgYW55IGV4aXN0aW5nIG1ldGhvZHMgYW5kIGNsYXNzIHN0cnVjdHVyZS5cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkknbGwgaGVscCB5b3UgaW1wbGVtZW50IHRoZSBgZGVsZXRlYCBtZXRob2QgaW4gdGhlIGBMaWNoVHJpbmhUYXVEQU9JbXBsYCBjbGFzcy4gTGV0IG1lIGZpcnN0IGV4cGxvcmUgdGhlIHByb2plY3Qgc3RydWN0dXJlIHRvIHVuZGVyc3RhbmQgdGhlIGNvZGViYXNlIGJldHRlci5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjAsInRleHRfbm9kZSI6eyJjb250ZW50IjoicmVhZCBhbGwgcHJvamVjdCBhbmQgY3JlYXRlIG1ldGhvcmQgb3ZlcnRpZGUgYm9vbGVhbiBkZWxldGUgaW4gY2xhc3MgTGljaFRyaW5oVGF1REFPSW1wIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmciLCJmb2xkZXJSb290IjoiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiSSdsbCBoZWxwIHlvdSBpbXBsZW1lbnQgdGhlIGBkZWxldGVgIG1ldGhvZCBpbiB0aGUgYExpY2hUcmluaFRhdURBT0ltcGxgIGNsYXNzLiBMZXQgbWUgZmlyc3QgZXhwbG9yZSB0aGUgcHJvamVjdCBzdHJ1Y3R1cmUgdG8gdW5kZXJzdGFuZCB0aGUgY29kZWJhc2UgYmV0dGVyLlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjkzOWFmMjg1LTE5ZDAtNDI3NS1hZTRlLWE2YTJkYzAxZDE2YiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVc0RzQ0S3I1RTlkVUM1ZnpDYWNiaDgiLCJ0b29sX25hbWUiOiJjb2RlYmFzZS1yZXRyaWV2YWwiLCJpbnB1dF9qc29uIjoie1wiaW5mb3JtYXRpb25fcmVxdWVzdFwiOiBcIkZpbmQgdGhlIExpY2hUcmluaFRhdSBtb2RlbCBjbGFzcyB0byB1bmRlcnN0YW5kIGl0cyBzdHJ1Y3R1cmUgYW5kIHByb3BlcnRpZXMuXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3csIGxldCBtZSBjaGVjayB0aGUgYExpY2hUcmluaFRhdWAgbW9kZWwgdG8gdW5kZXJzdGFuZCBpdHMgc3RydWN0dXJlOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9MaWNoVHJpbmhUYXVEQU9JbXBsLmphdmFcbnBhY2thZ2UgZGFvLmltcGw7XG5cbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7XG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlUcmFuc2FjdGlvbjtcbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLlBlcnNpc3RlbmNlO1xuaW1wb3J0IG1vZGVsLkxpY2hUcmluaFRhdTtcblxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuXG5wdWJsaWMgY2xhc3MgTGljaFRyaW5oVGF1REFPSW1wbCB7XG4gICAgcHVibGljIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRBbGxMaXN0KCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICBMaXN0PExpY2hUcmluaFRhdT4gbGlzdCA9IG51bGw7XG4gICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgbHR0IGZyb20gTGljaFRyaW5oVGF1IGx0dFwiLCBMaWNoVHJpbmhUYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSBs4bqleSBkYW5oIHPDoWNoIExpY2hUcmluaFRhdVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgTGljaFRyaW5oVGF1IGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHJldHVybiBlbS5maW5kKExpY2hUcmluaFRhdS5jbGFzcywgaWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBib29sZWFuIHNhdmUoTGljaFRyaW5oVGF1IHQpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5wZXJzaXN0KHQpO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiB1cGRhdGUoTGljaFRyaW5oVGF1IHQpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5tZXJnZSh0KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gZGVsZXRlKFN0cmluZyBpZCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIExpY2hUcmluaFRhdSB0ID0gZW0uZmluZChMaWNoVHJpbmhUYXUuY2xhc3MsIGlkKTtcbiAgICAgICAgICAgIGVtLnJlbW92ZSh0KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1RhdURBT0ltcGwuamF2YVxuLi4uXG5cbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBUYXVEQU9JbXBsIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG5cbiAgICBwdWJsaWMgTGlzdDxUYXU+IGdldEFsbExpc3RUKCkge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIExpc3Q8VGF1PiBsaXN0ID0gbnVsbDtcbiAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShcInNlbGVjdCB0IGZyb20gVGF1IHRcIiwgVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBUYXUgZ2V0QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICByZXR1cm4gZW0uZmluZChUYXUuY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiBzYXZlKFRhdSB0KSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5wZXJzaXN0KHQpO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfWNhdGNoKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xvYWlUb2FUYXVEQU9JbXBsLmphdmFcbnBhY2thZ2UgZGFvLmltcGw7XG5cbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7XG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlUcmFuc2FjdGlvbjtcbmltcG9ydCBsb21ib2suQWxsQXJnc0NvbnN0cnVjdG9yO1xuaW1wb3J0IG1vZGVsLkxvYWlUb2E7XG5cbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBMb2FpVG9hVGF1REFPSW1wbCB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgcHVibGljIExpc3Q8TG9haVRvYT4gZ2V0TGlzdExvYWlUb2EoKXtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJMb2FpVG9hLmZpbmRBbGxcIiwgTG9haVRvYS5jbGFzcylcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2FpVG9hIGdldExvYWlUb2FCeUlkKFN0cmluZyBpZCl7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiTG9haVRvYS5maW5kQnlJRFwiLCBMb2FpVG9hLmNsYXNzKVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJtYUxvYWlUb2FcIiwgaWQpXG4gICAgICAgICAgICAgICAgLmdldFNpbmdsZVJlc3VsdCgpO1xuICAgIH1cbiAgICBwdWJsaWMgYm9vbGVhbiBzYXZlKExvYWlUb2EgbG9haVRvYSl7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICB0cnkge1xuICAgICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICAgICBlbS5wZXJzaXN0KGxvYWlUb2EpO1xuICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgfWNhdGNoIChFeGNlcHRpb24gZSl7XG4gICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgfVxuICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTG9haVRvYVRhdURBTy5qYXZhXG5wYWNrYWdlIGRhbztcblxuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjtcbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eVRyYW5zYWN0aW9uO1xuaW1wb3J0IGxvbWJvay5BbGxBcmdzQ29uc3RydWN0b3I7XG5pbXBvcnQgbW9kZWwuTG9haVRvYTtcblxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIExvYWlUb2FUYXVEQU8ge1xuICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbTtcblxuICAgIHB1YmxpYyBMaXN0PExvYWlUb2E+IGdldExpc3RMb2FpVG9hKCl7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiTG9haVRvYS5maW5kQWxsXCIsIExvYWlUb2EuY2xhc3MpXG4gICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgTG9haVRvYSBnZXRMb2FpVG9hQnlJZChTdHJpbmcgaWQpe1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlTmFtZWRRdWVyeShcIkxvYWlUb2EuZmluZEJ5SURcIiwgTG9haVRvYS5jbGFzcylcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwibWFMb2FpVG9hXCIsIGlkKVxuICAgICAgICAgICAgICAgIC5nZXRTaW5nbGVSZXN1bHQoKTtcbiAgICB9XG4gICAgcHVibGljIGJvb2xlYW4gc2F2ZShMb2FpVG9hIGxvYWlUb2Epe1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgdHJ5IHtcbiAgICAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgICAgZW0ucGVyc2lzdChsb2FpVG9hKTtcbiAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgIH1jYXRjaCAoRXhjZXB0aW9uIGUpe1xuICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgIH1cbiAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1RhdURBTy5qYXZhXG4uLi5cblxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIFRhdURBTyB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgcHVibGljIExpc3Q8VGF1PiBnZXRBbGxMaXN0VCgpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICBMaXN0PFRhdT4gbGlzdCA9IG51bGw7XG4gICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgdCBmcm9tIFRhdSB0XCIsIFRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgVGF1IGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVGF1LmNsYXNzLCBpZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gc2F2ZShUYXUgdCkge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgICAgICAgICAgZW0ucGVyc2lzdCh0KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9Mb2FpQ2hvREFPSW1wbC5qYXZhXG4uLi5cblxucHVibGljIGNsYXNzIExvYWlDaG9EQU9JbXBsIHtcbiAgICBwdWJsaWMgTGlzdDxMb2FpQ2hvPiBnZXRBbGxMaXN0KCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICBMaXN0PExvYWlDaG8+IGxpc3QgPSBudWxsO1xuICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IGxjIGZyb20gTG9haUNobyBsY1wiLCBMb2FpQ2hvLmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4buXaSBraGkgbOG6pXkgZGFuaCBzw6FjaCBMb2FpQ2hvXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2FpQ2hvIGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHJldHVybiBlbS5maW5kKExvYWlDaG8uY2xhc3MsIGlkKTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPLmphdmFcbnBhY2thZ2UgZGFvLmltcGw7XG5cbnB1YmxpYyBpbnRlcmZhY2UgTGljaFRyaW5oVGF1REFPIHtcbn1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9UdXllblRhdURBT0ltcGwuamF2YVxuLi4uXG5cblxuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIFR1eWVuVGF1REFPSW1wbCB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuICAgIHB1YmxpYyBMaXN0PFR1eWVuVGF1PiBnZXRMaXN0VHV5ZW5UYXVCeUdhRGlHYURlbihTdHJpbmcgZ2FEaSwgU3RyaW5nIGdhRGVuKSB7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiVHV5ZW5UYXUuZmluZEJ5R2FEaUdhRGVuXCIsIFR1eWVuVGF1LmNsYXNzKVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJnYURpXCIsIGdhRGkpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImdhRGVuXCIsZ2FEZW4pXG4gICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgTGlzdDxUdXllblRhdT4gZ2V0TGlzdFR1eWVuVGF1KCl7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiVHV5ZW5UYXUuZmluZEFsbFwiLCBUdXllblRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBUdXllblRhdSBnZXRUdXllblRhdUJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIHJldHVybiBlbS5maW5kKFR1eWVuVGF1LmNsYXNzLCBpZCk7XG4gICAgfVxuXG4gICAgcHVibGljICBib29sZWFuIHNhdmUoVHV5ZW5UYXUgdHV5ZW5UYXUpe1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgICAgICAgICAgZW0ucGVyc2lzdCh0dXllblRhdSk7XG4gICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9Y2F0Y2goRXhjZXB0aW9uIGUpe1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9DaG9OZ29pREFPSW1wbC5qYXZhXG4uLi5cblxucHVibGljIGNsYXNzIENob05nb2lEQU9JbXBsIHtcbiAgICBwdWJsaWMgc3RhdGljIExpc3Q8Q2hvTmdvaT4gZ2V0QWxsTGlzdCgpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKS5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgTGlzdDxDaG9OZ29pPiBsaXN0ID0gbnVsbDtcbiAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShcInNlbGVjdCBjbiBmcm9tIENob05nb2kgY25cIiwgQ2hvTmdvaS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggTG9haUNob1wiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgQ2hvTmdvaSBnZXRCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICByZXR1cm4gZW0uZmluZChDaG9OZ29pLmNsYXNzLCBpZCk7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xvYWlDaG9EQU8uamF2YVxuLi4uXG5cbnB1YmxpYyBjbGFzcyBMb2FpQ2hvREFPIHtcbiAgICBwdWJsaWMgTGlzdDxMb2FpQ2hvPiBnZXRBbGxMaXN0KCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICBMaXN0PExvYWlDaG8+IGxpc3QgPSBudWxsO1xuICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IGxjIGZyb20gTG9haUNobyBsY1wiLCBMb2FpQ2hvLmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4buXaSBraGkgbOG6pXkgZGFuaCBzw6FjaCBMb2FpQ2hvXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2FpQ2hvIGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHJldHVybiBlbS5maW5kKExvYWlDaG8uY2xhc3MsIGlkKTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvVHV5ZW5UYXVEQU8uamF2YVxuLi4uXG5cblxuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIFR1eWVuVGF1REFPIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG4gICAgcHVibGljIExpc3Q8VHV5ZW5UYXU+IGdldExpc3RUdXllblRhdUJ5R2FEaUdhRGVuKFN0cmluZyBnYURpLCBTdHJpbmcgZ2FEZW4pIHtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQnlHYURpR2FEZW5cIiwgVHV5ZW5UYXUuY2xhc3MpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImdhRGlcIiwgZ2FEaSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZ2FEZW5cIixnYURlbilcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBMaXN0PFR1eWVuVGF1PiBnZXRMaXN0VHV5ZW5UYXUoKXtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQWxsXCIsIFR1eWVuVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIFR1eWVuVGF1IGdldFR1eWVuVGF1QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVHV5ZW5UYXUuY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgIGJvb2xlYW4gc2F2ZShUdXllblRhdSB0dXllblRhdSl7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5wZXJzaXN0KHR1eWVuVGF1KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaChFeGNlcHRpb24gZSl7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1ZlVGF1REFPSW1wbC5qYXZhXG4uLi5cblxucHVibGljIGNsYXNzIFZlVGF1REFPSW1wbCB7XG4gICAgcHVibGljIExpc3Q8VmVUYXU+IGdldEFsbExpc3QoKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIExpc3Q8VmVUYXU+IGxpc3QgPSBudWxsO1xuICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IHZ0IGZyb20gVmVUYXUgdnRcIiwgVmVUYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSBs4bqleSBkYW5oIHPDoWNoIFZlVGF1XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBWZVRhdSBnZXRCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICByZXR1cm4gZW0uZmluZChWZVRhdS5jbGFzcywgaWQpO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9Ub2FUYXVEQU9JbXBsLmphdmFcbi4uLlxuXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgVG9hVGF1REFPSW1wbCB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtIDtcblxuXG4gICAgcHVibGljIExpc3Q8VG9hVGF1PiBsaXN0VG9hVGF1QnlTb0doZShpbnQgZm9ybSwgaW50IHRvKXtcbiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXCJzZWxlY3QgdHQgZnJvbSBUb2FUYXUgdHQgXCIrXG4gICAgICAgICAgICAgICAgXCJ3aGVyZSBzb0doZSBiZXR3ZWVuIDpmb3JtIGFuZCA6dG9cIjtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJmb3JtXCIsIGZvcm0pXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcInRvXCIsIHRvKVxuICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIExpc3Q8VG9hVGF1PiBnZXRsaXN0VG9hVGF1KCkge1xuICAgICAgICBMaXN0PFRvYVRhdT4gbGlzdFRvYVRhdSA9IG51bGw7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgICAgIGxpc3RUb2FUYXUgPSBlbS5jcmVhdGVRdWVyeShcInNlbGVjdCB0dCBmcm9tIFRvYVRhdSB0dFwiLCBUb2FUYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG6pXkgZGFuaCBzw6FjaCBUb2FUYXUgdGjDoG5oIGPDtG5nXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhuqV5IGRhbmggc8OhY2ggVG9hVGF1IHRo4bqldCBi4bqhaVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdFRvYVRhdTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvVmVUYXVEQU8uamF2YVxuLi4uXG5cbnB1YmxpYyBjbGFzcyBWZVRhdURBTyB7XG4gICAgcHVibGljIExpc3Q8VmVUYXU+IGdldEFsbExpc3QoKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIExpc3Q8VmVUYXU+IGxpc3QgPSBudWxsO1xuICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IHZ0IGZyb20gVmVUYXUgdnRcIiwgVmVUYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSBs4bqleSBkYW5oIHPDoWNoIFZlVGF1XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBWZVRhdSBnZXRCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICByZXR1cm4gZW0uZmluZChWZVRhdS5jbGFzcywgaWQpO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vVGF1REFPLmphdmFcbi4uLlxuXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgVGF1REFPIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG5cbiAgICBwdWJsaWMgTGlzdDxUYXU+IGdldEFsbExpc3RUKCkge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIExpc3Q8VGF1PiBsaXN0ID0gbnVsbDtcbiAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShcInNlbGVjdCB0IGZyb20gVGF1IHRcIiwgVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBUYXUgZ2V0QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICByZXR1cm4gZW0uZmluZChUYXUuY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiBzYXZlKFRhdSB0KSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5wZXJzaXN0KHQpO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfWNhdGNoKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1RhaUtob2FuREFPSW1wbC5qYXZhXG4uLi5cblxuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIFRhaUtob2FuREFPSW1wbCB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgcHVibGljIFRhaUtob2FuIGdldFRhaUtob2FuQnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVGFpS2hvYW4uY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiBzYXZlIChUYWlLaG9hbiB0aykge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9ICBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIGVtLnBlcnNpc3QodGspO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4vLyB1cGRhdGUgcGFzc3dvcmQgduG7m2kgbWFOVlxuICAgIHB1YmxpYyBib29sZWFuIHVwZGF0ZVBhc3N3b3JkIChTdHJpbmcgbWFOViwgU3RyaW5nIHBhc3NXb3JkKSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBUYWlLaG9hbiB0ayA9IGVtLmZpbmQoVGFpS2hvYW4uY2xhc3MsIG1hTlYpO1xuICAgICAgICAgICAgaWYgKHRrICE9IG51bGwpe1xuICAgICAgICAgICAgICAgIHRrLnNldFBhc3NXb3JkKHBhc3NXb3JkKTtcbiAgICAgICAgICAgICAgICBlbS5tZXJnZSh0ayk7XG4gICAgICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0Nob05nb2lEQU8uamF2YVxuLi4uXG5cbnB1YmxpYyBjbGFzcyBDaG9OZ29pREFPIHtcbiAgICBwdWJsaWMgc3RhdGljIExpc3Q8Q2hvTmdvaT4gZ2V0QWxsTGlzdCgpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKS5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgTGlzdDxDaG9OZ29pPiBsaXN0ID0gbnVsbDtcbiAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShcInNlbGVjdCBjbiBmcm9tIENob05nb2kgY25cIiwgQ2hvTmdvaS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggTG9haUNob1wiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgQ2hvTmdvaSBnZXRCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICByZXR1cm4gZW0uZmluZChDaG9OZ29pLmNsYXNzLCBpZCk7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9Mb2FpVG9hVGF1REFPLmphdmFcbnBhY2thZ2UgZGFvO1xuXG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyO1xuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5VHJhbnNhY3Rpb247XG5pbXBvcnQgbG9tYm9rLkFsbEFyZ3NDb25zdHJ1Y3RvcjtcbmltcG9ydCBtb2RlbC5Mb2FpVG9hO1xuXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgTG9haVRvYVRhdURBTyB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgcHVibGljIExpc3Q8TG9haVRvYT4gZ2V0TGlzdExvYWlUb2EoKXtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJMb2FpVG9hLmZpbmRBbGxcIiwgTG9haVRvYS5jbGFzcylcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2FpVG9hIGdldExvYWlUb2FCeUlkKFN0cmluZyBpZCl7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiTG9haVRvYS5maW5kQnlJRFwiLCBMb2FpVG9hLmNsYXNzKVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJtYUxvYWlUb2FcIiwgaWQpXG4gICAgICAgICAgICAgICAgLmdldFNpbmdsZVJlc3VsdCgpO1xuICAgIH1cbiAgICBwdWJsaWMgYm9vbGVhbiBzYXZlKExvYWlUb2EgbG9haVRvYSl7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICB0cnkge1xuICAgICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICAgICBlbS5wZXJzaXN0KGxvYWlUb2EpO1xuICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgfWNhdGNoIChFeGNlcHRpb24gZSl7XG4gICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgfVxuICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvVG9hVGF1REFPLmphdmFcbi4uLlxuXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgVG9hVGF1REFPIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW0gO1xuXG5cbiAgICBwdWJsaWMgTGlzdDxUb2FUYXU+IGxpc3RUb2FUYXVCeVNvR2hlKGludCBmb3JtLCBpbnQgdG8pe1xuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcInNlbGVjdCB0dCBmcm9tIFRvYVRhdSB0dCBcIitcbiAgICAgICAgICAgICAgICBcIndoZXJlIHNvR2hlIGJldHdlZW4gOmZvcm0gYW5kIDp0b1wiO1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlUXVlcnkocXVlcnkpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImZvcm1cIiwgZm9ybSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwidG9cIiwgdG8pXG4gICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgTGlzdDxUb2FUYXU+IGdldGxpc3RUb2FUYXUoKSB7XG4gICAgICAgIExpc3Q8VG9hVGF1PiBsaXN0VG9hVGF1ID0gbnVsbDtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICAgICAgbGlzdFRvYVRhdSA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IHR0IGZyb20gVG9hVGF1IHR0XCIsIFRvYVRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4bqleSBkYW5oIHPDoWNoIFRvYVRhdSB0aMOgbmggY8O0bmdcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG6pXkgZGFuaCBzw6FjaCBUb2FUYXUgdGjhuqV0IGLhuqFpXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0VG9hVGF1O1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vVHV5ZW5UYXVEQU8uamF2YVxuLi4uXG5cblxuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIFR1eWVuVGF1REFPIHtcbiAgICBwcml2YXRlIEVuLi4uIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxOFlVY1RhdThoaHZGWnZVSlVIY2pacSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nIiwiZm9sZGVyUm9vdCI6IkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6Ik5vdywgbGV0IG1lIGNoZWNrIHRoZSBgTGljaFRyaW5oVGF1YCBtb2RlbCB0byB1bmRlcnN0YW5kIGl0cyBzdHJ1Y3R1cmU6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNzg5ZTQwMTctNWE2Mi00YmZlLWFjNjYtZTYxNzMyZGNlMmUzIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxU3J6bkY5bUJ0cGJvYlBqc3QzN3p2TiIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiRmluZCB0aGUgTGljaFRyaW5oVGF1REFPIGludGVyZmFjZSB0byBzZWUgd2hhdCBtZXRob2RzIG5lZWQgdG8gYmUgaW1wbGVtZW50ZWQuXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJMZXQgbWUgYWxzbyBjaGVjayBpZiB0aGVyZSdzIGFuIGludGVyZmFjZSBmb3IgYExpY2hUcmluaFRhdURBT2AgdGhhdCBtaWdodCBkZWZpbmUgdGhlIG1ldGhvZHMgdG8gYmUgaW1wbGVtZW50ZWQ6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL21vZGVsL0xpY2hUcmluaFRhdS5qYXZhXG5wYWNrYWdlIG1vZGVsO1xuXG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS4qO1xuaW1wb3J0IGxvbWJvay5EYXRhO1xuaW1wb3J0IGxvbWJvay5FcXVhbHNBbmRIYXNoQ29kZTtcbmltcG9ydCBsb21ib2suVG9TdHJpbmc7XG5cbmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlO1xuaW1wb3J0IGphdmEudGltZS5Mb2NhbFRpbWU7XG5pbXBvcnQgamF2YS51dGlsLlNldDtcblxuQEVudGl0eVxuQERhdGFcbkBFcXVhbHNBbmRIYXNoQ29kZShvbmx5RXhwbGljaXRseUluY2x1ZGVkID0gdHJ1ZSlcbkBUYWJsZShuYW1lID0gXCJsaWNodHJpbmh0YXVcIilcbnB1YmxpYyBjbGFzcyBMaWNoVHJpbmhUYXUge1xuICAgIEBJZFxuICAgIEBDb2x1bW4obmFtZSA9IFwibWFfbGljaFwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJWQVJDSEFSKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSx1bmlxdWUgPSB0cnVlKVxuICAgIHByaXZhdGUgIFN0cmluZyBtYUxpY2g7XG4gICAgQENvbHVtbihuYW1lID0gXCJnaW9fZGlcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiVElNRVwiLG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBMb2NhbFRpbWUgZ2lvRGk7XG4gICAgQENvbHVtbihuYW1lID0gXCJuZ2F5X2RpXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcIkRBVEVcIixudWxsYWJsZSA9IGZhbHNlKVxuICAgIHByaXZhdGUgTG9jYWxEYXRlIG5nYXlEaTtcbiAgICBAQ29sdW1uKG5hbWUgPSBcInRyYW5nX3RoYWlcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiTlZBUkNIQVIoNTApXCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBTdHJpbmcgdHJhbmdUaGFpO1xuXG4gICAgQE1hbnlUb09uZVxuICAgIEBKb2luQ29sdW1uKG5hbWUgPSBcInRhdV9tYV90YXVcIiwgcmVmZXJlbmNlZENvbHVtbk5hbWUgPSBcIm1hX3RhdVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIHByaXZhdGUgVGF1IHRhdTtcblxuICAgIEBPbmVUb01hbnkobWFwcGVkQnkgPSBcImxpY2hUcmluaFRhdVwiKVxuICAgIEBUb1N0cmluZy5FeGNsdWRlXG4gICAgcHJpdmF0ZSBTZXQ8VmVUYXU+IHZlX3RhdXM7XG59XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvbW9kZWwvVGF1LmphdmFcbnBhY2thZ2UgbW9kZWw7XG5cbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLio7XG5pbXBvcnQgbG9tYm9rLkRhdGE7XG5pbXBvcnQgbG9tYm9rLkVxdWFsc0FuZEhhc2hDb2RlO1xuaW1wb3J0IGxvbWJvay5Ub1N0cmluZztcblxuaW1wb3J0IGphdmEudXRpbC5TZXQ7XG5cbkBEYXRhXG5ARW50aXR5XG5ARXF1YWxzQW5kSGFzaENvZGUob25seUV4cGxpY2l0bHlJbmNsdWRlZCA9IHRydWUpXG5AVGFibGUobmFtZSA9IFwidGF1XCIpXG5wdWJsaWMgY2xhc3MgVGF1IHtcbiAgICBASWRcbiAgICBARXF1YWxzQW5kSGFzaENvZGUuSW5jbHVkZVxuICAgIEBDb2x1bW4obmFtZSA9IFwibWFfdGF1XCIsIGNvbHVtbkRlZmluaXRpb24gPSBcInZhcmNoYXIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlLCB1bmlxdWUgPSB0cnVlKVxuICAgIHByaXZhdGUgU3RyaW5nIG1hVGF1OyAvLyBNw6MgdMOgdVxuICAgIEBDb2x1bW4obmFtZSA9IFwidGVuX3RhdVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBARXF1YWxzQW5kSGFzaENvZGUuRXhjbHVkZVxuICAgIHByaXZhdGUgU3RyaW5nIHRlblRhdTtcbiAgICBAQ29sdW1uKG5hbWUgPSBcInNvX3RvYVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIEBFcXVhbHNBbmRIYXNoQ29kZS5FeGNsdWRlLy8gVMOqbiB0w6B1XG4gICAgcHJpdmF0ZSBpbnQgc29Ub2E7XG4gICAgLy8gU+G7kSB0b2FcbiAgICBATWFueVRvT25lKGZldGNoID0gRmV0Y2hUeXBlLkxBWlkpXG4gICAgQFRvU3RyaW5nLkV4Y2x1ZGVcbiAgICBASm9pbkNvbHVtbihuYW1lID0gXCJtYV90dXllblwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIHByaXZhdGUgVHV5ZW5UYXUgdHV5ZW5UYXU7IC8vIMSQ4buRaSB0xrDhu6NuZyBUdXllblRhdVxuXG4gICAgQE9uZVRvTWFueShtYXBwZWRCeSA9IFwidGF1XCIsIGNhc2NhZGUgPSBDYXNjYWRlVHlwZS5BTEwsIG9ycGhhblJlbW92YWwgPSB0cnVlKVxuICAgIEBUb1N0cmluZy5FeGNsdWRlXG4gICAgcHJpdmF0ZSBTZXQ8VG9hVGF1PiBkYW5oU2FjaFRvYVRhdTtcblxuICAgIEBPbmVUb01hbnkobWFwcGVkQnkgPSBcInRhdVwiLCBjYXNjYWRlID0gQ2FzY2FkZVR5cGUuQUxMLCBvcnBoYW5SZW1vdmFsID0gdHJ1ZSlcbiAgICBAVG9TdHJpbmcuRXhjbHVkZVxuICAgIHByaXZhdGUgU2V0PExpY2hUcmluaFRhdT4gTGljaFRyaW5oVGF1O1xufVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL21vZGVsL1ZlVGF1LmphdmFcbi4uLlxuXG5ARW50aXR5XG5ARGF0YVxuQEVxdWFsc0FuZEhhc2hDb2RlKG9ubHlFeHBsaWNpdGx5SW5jbHVkZWQgPSB0cnVlKVxuQFRhYmxlKG5hbWUgPSBcInZldGF1XCIpXG5wdWJsaWMgY2xhc3MgVmVUYXUge1xuICAgIEBJZFxuICAgIEBDb2x1bW4obmFtZSA9IFwibWFfdmVcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiVkFSQ0hBUigyNTUpXCIsIHVuaXF1ZSA9IHRydWUsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBTdHJpbmcgbWFWZTtcbiAgICBAQ29sdW1uKG5hbWUgPSBcInRlbl9raGFjaF9oYW5nXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcIlZBUkNIQVIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuXG4gICAgcHJpdmF0ZSBTdHJpbmcgdGVuS2hhY2hIYW5nO1xuICAgIEBDb2x1bW4obmFtZSA9IFwiZ2lheV90b1wiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJWQVJDSEFSKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSlcblxuICAgIHByaXZhdGUgU3RyaW5nIGdpYXlUbztcbiAgICBAQ29sdW1uKG5hbWUgPSBcIm5nYXlfZGlcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiREFURVwiLG51bGxhYmxlID0gZmFsc2UpXG5cbiAgICBwcml2YXRlIExvY2FsRGF0ZSBuZ2F5RGk7XG4gICAgQENvbHVtbihuYW1lID0gXCJkb2lfdHVvbmdcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiVkFSQ0hBUigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UpXG5cbiAgICBwcml2YXRlIFN0cmluZyBkb2lUdW9uZztcbiAgICBAQ29sdW1uKG5hbWUgPSBcImdpYV92ZVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJGTE9BVFwiLCBudWxsYWJsZSA9IGZhbHNlKVxuXG4gICAgcHJpdmF0ZSBkb3VibGUgZ2lhVmU7XG4gICAgQENvbHVtbihuYW1lID0gXCJ0cmFuZ190aGFpXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcIlZBUkNIQVIoMjU1KVwiLG51bGxhYmxlID0gZmFsc2UpXG5cbiAgICBwcml2YXRlIFN0cmluZyB0cmFuZ1RoYWk7XG5cbiAgICBATWFueVRvT25lXG4gICAgQEpvaW5Db2x1bW4obmFtZSA9IFwibGljaF90cmluaF90YXVfbWFfbGljaFwiLCByZWZlcmVuY2VkQ29sdW1uTmFtZSA9IFwibWFfbGljaFwiKVxuICAgIHByaXZhdGUgTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdTtcblxuICAgIEBNYW55VG9PbmVcbiAgICBASm9pbkNvbHVtbihuYW1lID0gXCJraHV5ZW5fbWFpX21hX2ttXCIsIHJlZmVyZW5jZWRDb2x1bW5OYW1lID0gXCJtYV9rbVwiKVxuICAgIHByaXZhdGUgS2h1eWVuTWFpIGtodXllbk1haTtcblxuICAgIEBPbmVUb09uZVxuICAgIEBKb2luQ29sdW1uKG5hbWUgPSBcImNob19uZ29pX21hX2Nob1wiLHJlZmVyZW5jZWRDb2x1bW5OYW1lID0gXCJtYV9jaG9cIilcbiAgICAgcHJpdmF0ZSBDaG9OZ29pIGNob05nb2k7XG5cbi8vICAgIEBNYW55VG9NYW55KG1hcHBlZEJ5ID0gXCJ2ZVRhdXNcIilcbi8vICAgIHByaXZhdGUgU2V0PEhvYURvbj4gaG9hRG9ucztcblxuICAgIC8vIE3hu5FpIHF1YW4gaOG7hyB24bubaSBDaGlUaWV0SG9hRG9uXG4gICAgQE9uZVRvTWFueShtYXBwZWRCeSA9IFwidmVUYXVcIiwgZmV0Y2ggPSBGZXRjaFR5cGUuTEFaWSlcbiAgICBwcml2YXRlIFNldDxDaGlUaWV0SG9hRG9uPiBjaGlUaWV0SG9hRG9ucztcblxufVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL21vZGVsL0xvYWlDaG8uamF2YVxucGFja2FnZSBtb2RlbDtcblxuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuKjtcbmltcG9ydCBsb21ib2suRGF0YTtcbmltcG9ydCBsb21ib2suRXF1YWxzQW5kSGFzaENvZGU7XG5pbXBvcnQgbG9tYm9rLlRvU3RyaW5nO1xuXG5pbXBvcnQgamF2YS51dGlsLlNldDtcblxuQEVudGl0eVxuQERhdGFcbkBFcXVhbHNBbmRIYXNoQ29kZShvbmx5RXhwbGljaXRseUluY2x1ZGVkID0gdHJ1ZSlcbkBUYWJsZShuYW1lID0gXCJsb2FpY2hvXCIpXG5wdWJsaWMgY2xhc3MgTG9haUNobyB7XG4gICAgQElkXG4gICAgQEVxdWFsc0FuZEhhc2hDb2RlLkluY2x1ZGVcbiAgICBAQ29sdW1uKG5hbWUgPSBcIm1hX2xvYWlcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiVkFSQ0hBUigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UsdW5pcXVlID0gdHJ1ZSlcbiAgICBwcml2YXRlIFN0cmluZyBtYUxvYWk7XG4gICAgQENvbHVtbihuYW1lID0gXCJ0ZW5fbG9haVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJOVkFSQ0hBUigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBTdHJpbmcgdGVuTG9haTtcblxuXG4gICAgQE9uZVRvTWFueShtYXBwZWRCeSA9IFwibG9haUNob1wiKVxuICAgQFRvU3RyaW5nLkV4Y2x1ZGVcbiAgICBwcml2YXRlIFNldDxDaG9OZ29pPiBjaG9fbmdvaXM7XG59XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvbW9kZWwvTG9haUtoYWNoSGFuZy5qYXZhXG5wYWNrYWdlIG1vZGVsO1xuXG5cbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkNvbHVtbjtcbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eTtcbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLklkO1xuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuT25lVG9NYW55O1xuaW1wb3J0IGxvbWJvay5EYXRhO1xuaW1wb3J0IGxvbWJvay5FcXVhbHNBbmRIYXNoQ29kZTtcbmltcG9ydCBsb21ib2suVG9TdHJpbmc7XG5cbmltcG9ydCBqYXZhLnV0aWwuU2V0O1xuXG5ARGF0YVxuQEVudGl0eVxuQEVxdWFsc0FuZEhhc2hDb2RlKG9ubHlFeHBsaWNpdGx5SW5jbHVkZWQgPSB0cnVlKVxucHVibGljIGNsYXNzIExvYWlLaGFjaEhhbmcge1xuICAgIEBJZFxuICAgIEBFcXVhbHNBbmRIYXNoQ29kZS5JbmNsdWRlXG4gICAgQENvbHVtbihuYW1lID0gXCJtYV9sb2FpX2toYWNoX2hhbmdcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UsIHVuaXF1ZSA9IHRydWUpXG4gICAgcHJpdmF0ZSBTdHJpbmcgbWFMb2FpS2hhY2hIYW5nO1xuICAgIEBDb2x1bW4obmFtZSA9IFwidGVuX2xvYWlfa2hhY2hfaGFuZ1wiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIFN0cmluZyB0ZW5Mb2FpS2hhY2hIYW5nO1xuXG4gICAgQFRvU3RyaW5nLkV4Y2x1ZGVcbiAgICBAT25lVG9NYW55KG1hcHBlZEJ5ID0gXCJsb2FpS2hhY2hIYW5nXCIpXG4gICAgcHJpdmF0ZSBTZXQ8S2hhY2hIYW5nPiBraGFjaEhhbmdzO1xuXG59XG5cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9tb2RlbC9Ub2FUYXUuamF2YVxucGFja2FnZSBtb2RlbDtcblxuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuKjtcbmltcG9ydCBsb21ib2suRGF0YTtcbmltcG9ydCBsb21ib2suRXF1YWxzQW5kSGFzaENvZGU7XG5pbXBvcnQgbG9tYm9rLlRvU3RyaW5nO1xuXG5pbXBvcnQgamF2YS51dGlsLlNldDtcblxuQERhdGFcbkBFcXVhbHNBbmRIYXNoQ29kZShvbmx5RXhwbGljaXRseUluY2x1ZGVkID0gdHJ1ZSlcbkBFbnRpdHlcbkBUYWJsZShuYW1lID0gXCJUb2FUYXVcIilcblxucHVibGljIGNsYXNzIFRvYVRhdSB7XG5cbiAgICBASWRcbiAgICBARXF1YWxzQW5kSGFzaENvZGUuSW5jbHVkZVxuICAgIEBDb2x1bW4obmFtZSA9IFwibWFfdG9hXCIsY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsbnVsbGFibGUgPSBmYWxzZSwgdW5pcXVlID0gdHJ1ZSlcbiAgICBwcml2YXRlIFN0cmluZyBtYVRvYTtcblxuICAgIEBDb2x1bW4obmFtZSA9IFwidGVuX3RvYVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIFN0cmluZyB0ZW5Ub2E7XG5cbiAgICBAQ29sdW1uKG5hbWUgPSBcInNvX2doZVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIHByaXZhdGUgaW50IHNvR2hlO1xuXG4gICAgQENvbHVtbihuYW1lID0gXCJ0aHVfdHVcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIGludCB0aHVUdTtcblxuICAgIEBPbmVUb01hbnkobWFwcGVkQnkgPSBcInRvYVRhdVwiLCBjYXNjYWRlID0gQ2FzY2FkZVR5cGUuQUxMLCBvcnBoYW5SZW1vdmFsID0gdHJ1ZSlcbiAgICBAVG9TdHJpbmcuRXhjbHVkZVxuICAgIHByaXZhdGUgU2V0PENob05nb2k+IGRhbmhTYWNoQ2hvTmdvaTtcblxuICAgIEBNYW55VG9PbmUoZmV0Y2ggPSBGZXRjaFR5cGUuTEFaWSlcbiAgICBASm9pbkNvbHVtbihuYW1lID0gXCJtYV9sb2FpX3RvYVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIEBUb1N0cmluZy5FeGNsdWRlXG4gICAgcHJpdmF0ZSBMb2FpVG9hIGxvYWlUb2E7XG5cbiAgICBATWFueVRvT25lKGZldGNoID0gRmV0Y2hUeXBlLkxBWlkpXG4gICAgQEpvaW5Db2x1bW4obmFtZSA9IFwibWFfdGF1XCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBUYXUgdGF1O1xufVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL21vZGVsL0xvYWlUb2EuamF2YVxucGFja2FnZSBtb2RlbDtcblxuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuKjtcbmltcG9ydCBsb21ib2suRGF0YTtcbmltcG9ydCBsb21ib2suRXF1YWxzQW5kSGFzaENvZGU7XG5pbXBvcnQgbG9tYm9rLlRvU3RyaW5nO1xuXG5pbXBvcnQgamF2YS51dGlsLlNldDtcblxuQERhdGFcbkBFcXVhbHNBbmRIYXNoQ29kZShvbmx5RXhwbGljaXRseUluY2x1ZGVkID0gdHJ1ZSlcbkBFbnRpdHlcbkBUYWJsZShuYW1lID0gXCJMb2FpVG9hXCIpXG5ATmFtZWROYXRpdmVRdWVyaWVzKHtcbiAgICAgICAgQE5hbWVkTmF0aXZlUXVlcnkobmFtZSA9IFwiTG9haVRvYS5maW5kQWxsXCIsXG4gICAgICAgICAgICAgICAgcXVlcnkgPSBcInNlbGVjdCAqIGZyb20gbG9haXRvYVwiLFxuICAgICAgICAgICAgICAgIHJlc3VsdENsYXNzID0gTG9haVRvYS5jbGFzcyksXG4gICAgICAgIEBOYW1lZE5hdGl2ZVF1ZXJ5KG5hbWUgPSBcIkxvYWlUb2EuZmluZEJ5SURcIixcbiAgICAgICAgICAgICAgICBxdWVyeSA9IFwic2VsZWN0ICogZnJvbSBsb2FpdG9hIHdoZXJlIG1hX2xvYWlfdG9hIGxpa2UgOm1hTG9haVRvYVwiLFxuICAgICAgICAgICAgICAgIHJlc3VsdENsYXNzID0gTG9haVRvYS5jbGFzcylcbn0pXG5wdWJsaWMgY2xhc3MgTG9haVRvYSB7XG4gICAgQElkXG4gICAgQENvbHVtbihuYW1lID0gXCJtYV9sb2FpX3RvYVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBARXF1YWxzQW5kSGFzaENvZGUuSW5jbHVkZVxuICAgIHByaXZhdGUgU3RyaW5nIG1hTG9haTtcblxuICAgIEBDb2x1bW4obmFtZSA9IFwidGVuX2xvYWlcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBTdHJpbmcgdGVuTG9haTtcblxuICAgIEBPbmVUb01hbnkobWFwcGVkQnkgPSBcImxvYWlUb2FcIiwgY2FzY2FkZSA9IENhc2NhZGVUeXBlLkFMTCwgb3JwaGFuUmVtb3ZhbCA9IHRydWUpXG4gICAgQFRvU3RyaW5nLkV4Y2x1ZGVcbiAgICBwcml2YXRlIFNldDxUb2FUYXU+IGRhbmhTYWNoVG9hVGF1O1xufVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL21vZGVsL0xpY2hMYW1WaWVjLmphdmFcbnBhY2thZ2UgbW9kZWw7XG5cbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLio7XG5pbXBvcnQgbG9tYm9rLkRhdGE7XG5pbXBvcnQgbG9tYm9rLkVxdWFsc0FuZEhhc2hDb2RlO1xuaW1wb3J0IGxvbWJvay5Ub1N0cmluZztcblxuaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lO1xuXG4vKipcbiAqIEBE4buxIMOhbjogQXBwXG4gKiBAQ2xhc3M6IExpY2hMYW1WaWVjXG4gKiBAVOG6oW8gdsOgbyBuZ8OgeTogMTUvMDEvMjAyNVxuICogQFTDoWMgZ2nhuqM6IE5ndXllbiBIdXUgU2FuZ1xuICovXG5ARGF0YVxuQEVudGl0eVxuQEVxdWFsc0FuZEhhc2hDb2RlKG9ubHlFeHBsaWNpdGx5SW5jbHVkZWQgPSB0cnVlKVxuQFRhYmxlKG5hbWUgPSBcImxpY2hsYW12aWVjXCIpXG5ATmFtZWROYXRpdmVRdWVyaWVzKHtcbiAgICAgICAgQE5hbWVkTmF0aXZlUXVlcnkobmFtZSA9IFwiTGljaExhbVZpZWMuZmluZEJ5TWFMaWNoTGFtVmllY1wiLFxuICAgICAgICAgICAgICAgIHF1ZXJ5ID0gXCJzZWxlY3QgKiBmcm9tIGxpY2hsYW12aWVjIHdoZXJlIG1hX2xpY2hfbGFtX3ZpZWMgPSA6bWFMaWNoTGFtVmllY1wiLFxuICAgICAgICAgICAgICAgIHJlc3VsdENsYXNzID0gTGljaExhbVZpZWMuY2xhc3MpLFxuICAgICAgICBATmFtZWROYXRpdmVRdWVyeShuYW1lID0gXCJMaWNoTGFtVmllYy5maW5kQnlNYU5WXCIsXG4gICAgICAgICAgICAgICAgcXVlcnkgPSBcInNlbGVjdCAqIGZyb20gbGljaGxhbXZpZWMgd2hlcmUgbWFfbnYgPSA6bWFOVlwiLFxuICAgICAgICAgICAgICAgIHJlc3VsdENsYXNzID0gTGljaExhbVZpZWMuY2xhc3MpLFxuICAgICAgICBATmFtZWROYXRpdmVRdWVyeShuYW1lID0gXCJMaWNoTGFtVmllYy5maW5kQWxsXCIsXG4gICAgICAgICAgICAgICAgcXVlcnkgPSBcInNlbGVjdCAqIGZyb20gbGljaGxhbXZpZWNcIixcbiAgICAgICAgICAgICAgICByZXN1bHRDbGFzcyA9IExpY2hMYW1WaWVjLmNsYXNzKVxufSlcbnB1YmxpYyBjbGFzcyBMaWNoTGFtVmllYyB7XG4gICAgQElkXG4gICAgQEVxdWFsc0FuZEhhc2hDb2RlLkluY2x1ZGVcbiAgICBAQ29sdW1uKG5hbWUgPSBcIm1hX2xpY2hfbGFtX3ZpZWNcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UsIHVuaXF1ZSA9IHRydWUpXG4gICAgcHJpdmF0ZSBTdHJpbmcgbWFMaWNoTGFtVmllYzsgLy8gTcOjIGzhu4tjaCBsw6BtIHZp4buHY1xuXG4gICAgQENvbHVtbihuYW1lID0gXCJnaW9fYmF0X2RhdVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJkYXRldGltZVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIHByaXZhdGUgTG9jYWxEYXRlVGltZSBnaW9CYXREYXU7IC8vIEdp4budIGLhuq90IMSR4bqndVxuICAgIEBDb2x1bW4obmFtZSA9IFwiZ2lvX2tldF90aHVjXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcImRhdGV0aW1lXCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBMb2NhbERhdGVUaW1lIGdpb0tldFRodWM7IC8vIEdp4budIGvhur90IHRow7pjXG4gICAgQENvbHVtbihuYW1lID0gXCJ0cmFuZ190aGFpXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcInZhcmNoYXIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIHByaXZhdGUgU3RyaW5nIHRyYW5nVGhhaTsgLy8gVHLhuqFuZyB0aMOhaVxuICAgIEBDb2x1bW4obmFtZSA9IFwidGVuX2NhXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcInZhcmNoYXIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIHByaXZhdGUgU3RyaW5nIHRlbkNhOyAvLyBUw6puIGNhXG5cbiAgICAvLyBN4buZdCBs4buLY2ggbMOgbSB2aeG7h2MgY2jhu4kgdGh14buZYyB24buBIG3hu5l0IG5ow6JuIHZpw6puXG4gICAgQE1hbnlUb09uZShmZXRjaCA9IEZldGNoVHlwZS5MQVpZKVxuICAgIEBKb2luQ29sdW1uKG5hbWUgPSBcIm1hX252XCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgQFRvU3RyaW5nLkV4Y2x1ZGVcbiAgICBwcml2YXRlIE5oYW5WaWVuIG5oYW5WaWVuO1xuXG5cblxufS4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9tb2RlbC9UdXllblRhdS5qYXZhXG5wYWNrYWdlIG1vZGVsO1xuXG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS4qO1xuaW1wb3J0IGxvbWJvay5EYXRhO1xuaW1wb3J0IGxvbWJvay5FcXVhbHNBbmRIYXNoQ29kZTtcbmltcG9ydCBsb21ib2suVG9TdHJpbmc7XG5cbmltcG9ydCBqYXZhLnV0aWwuU2V0O1xuXG5ARGF0YVxuQEVudGl0eVxuQFRhYmxlKG5hbWUgPSBcInR1eWVudGF1XCIpXG5ARXF1YWxzQW5kSGFzaENvZGUob25seUV4cGxpY2l0bHlJbmNsdWRlZCA9IHRydWUpXG5ATmFtZWROYXRpdmVRdWVyaWVzKHtcbiAgICAgICAgQE5hbWVkTmF0aXZlUXVlcnkobmFtZSA9IFwiVHV5ZW5UYXUuZmluZEJ5R2FEaUdhRGVuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnkgPSBcInNlbGVjdCAqIGZyb20gdHV5ZW50YXUgd2hlcmUgZ2FfZGkgPSA6Z2FEaSBhbmQgZ2FfZGVuID0gOmdhRGVuXCIsXG4gICAgICAgIHJlc3VsdENsYXNzID0gVHV5ZW5UYXUuY2xhc3MpLFxuICAgICAgICBATmFtZWROYXRpdmVRdWVyeShuYW1lID0gXCJUdXllblRhdS5maW5kQWxsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnkgPSBcInNlbGVjdCAqIGZyb20gdHV5ZW50YXVcIixcbiAgICAgICAgcmVzdWx0Q2xhc3MgPSBUdXllblRhdS5jbGFzcylcbn0pXG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvbW9kZWwvTG9haUhvYURvbi5qYXZhXG5wYWNrYWdlIG1vZGVsO1xuXG5cbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLio7XG5pbXBvcnQgbG9tYm9rLkRhdGE7XG5pbXBvcnQgbG9tYm9rLkVxdWFsc0FuZEhhc2hDb2RlO1xuXG5pbXBvcnQgamF2YS51dGlsLlNldDtcblxuQERhdGFcbkBFcXVhbHNBbmRIYXNoQ29kZShvbmx5RXhwbGljaXRseUluY2x1ZGVkID0gdHJ1ZSlcbkBFbnRpdHlcbkBUYWJsZShuYW1lID0gXCJsb2FpaG9hZG9uXCIpXG5wdWJsaWMgY2xhc3MgTG9haUhvYURvbiB7XG4gICAgQElkXG4gICAgQENvbHVtbihuYW1lID0gXCJtYV9sb2FpX2hkXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcInZhcmNoYXIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlLCB1bmlxdWUgPSB0cnVlKVxuICAgIEBFcXVhbHNBbmRIYXNoQ29kZS5JbmNsdWRlXG4gICAgcHJpdmF0ZSBTdHJpbmcgbWFMb2FpSG9hRG9uO1xuICAgIEBDb2x1bW4obmFtZSA9IFwidGVuX2xvYWlfaGRcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiTlZBUkNIQVIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIHByaXZhdGUgU3RyaW5nIHRlbkxvYWlIb2FEb247XG5cbiAgICBAT25lVG9NYW55KG1hcHBlZEJ5ID0gXCJsb2FpSG9hRG9uXCIpXG4gICAgcHJpdmF0ZSBTZXQ8SG9hRG9uPiBob2FEb25zO1xuXG5cblxuXG59XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGF0YWZha2VyL0xpY2hUcmluaFRhdURGLmphdmFcbi4uLlxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICAgICAgICAgIExpY2hUcmluaFRhdSBsaWNoVHJpbmggPSBuZXcgTGljaFRyaW5oVGF1KCk7XG4gICAgICAgICAgICAgICAgbGljaFRyaW5oLnNldE1hTGljaChnZW5lcmF0ZVJhbmRvbUxpY2hUcmluaENvZGUoZW0pKTtcbiAgICAgICAgICAgICAgICBsaWNoVHJpbmguc2V0VHJhbmdUaGFpKFwiSG/huqF0IMSR4buZbmdcIik7XG5cbiAgICAgICAgICAgICAgICAvLyBM4bqleSBnaeG7nSBuZ+G6q3Ugbmhpw6puIHRyb25nIG5nw6B5IGNobyB0csaw4bubY1xuICAgICAgICAgICAgICAgIExvY2FsVGltZSBnaW9EaSA9IExvY2FsVGltZS5vZihmYWtlci5udW1iZXIoKS5udW1iZXJCZXR3ZWVuKDAsIDIzKSwgZmFrZXIubnVtYmVyKCkubnVtYmVyQmV0d2VlbigwLCA1OSkpO1xuXG4gICAgICAgICAgICAgICAgLy8gU+G7rSBk4bulbmcgbmfDoHkgxJHGsOG7o2MgdHJ1eeG7gW4gdsOgbyB0aGF5IHbDrCB04bqhbyBuZ+G6q3Ugbmhpw6puXG4gICAgICAgICAgICAgICAgbGljaFRyaW5oLnNldEdpb0RpKGdpb0RpKTtcbiAgICAgICAgICAgICAgICBsaWNoVHJpbmguc2V0TmdheURpKGRheSk7IC8vIMSQ4bq3dCBuZ8OgeSBj4buRIMSR4buLbmggY2hvIGzhu4tjaCB0csOsbmggdMOgdVxuXG4gICAgICAgICAgICAgICAgLy8gTOG6pXkgbmfhuqt1IG5oacOqbiBt4buZdCBUb2FUYXUgdOG7qyBkYW5oIHPDoWNoXG4gICAgICAgICAgICAgICAgVG9hVGF1IHJhbmRvbVRvYVRhdSA9IGxpc3RUb2FUYXUuZ2V0KFRocmVhZExvY2FsUmFuZG9tLmN1cnJlbnQoKS5uZXh0SW50KGxpc3RUb2FUYXUuc2l6ZSgpKSk7XG4gICAgICAgICAgICAgICAgSGliZXJuYXRlLmluaXRpYWxpemUocmFuZG9tVG9hVGF1LmdldFRhdSgpKTsgLy8gS2jhu59pIHThuqFvIFRhdSB0csaw4bubYyBraGkgc+G7rSBk4bulbmdcbiAgICAgICAgICAgICAgICBsaWNoVHJpbmguc2V0VGF1KHJhbmRvbVRvYVRhdS5nZXRUYXUoKSk7XG4uLi5cblxuICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCAxOyBpKyspIHsgLy8gVOG6oW8gMjAgbOG7i2NoIHRyw6xuaCB0w6B1XG4gICAgICAgICAgICAgICAgTGljaFRyaW5oVGF1IGxpY2hUcmluaCA9IG5ldyBMaWNoVHJpbmhUYXUoKTtcbiAgICAgICAgICAgICAgICBsaWNoVHJpbmguc2V0TWFMaWNoKGdlbmVyYXRlUmFuZG9tTGljaFRyaW5oQ29kZShlbSkpO1xuICAgICAgICAgICAgICAgIGxpY2hUcmluaC5zZXRUcmFuZ1RoYWkoXCJIb+G6oXQgxJHhu5luZ1wiKTtcblxuICAgICAgICAgICAgICAgIC8vIFThuqFvIHRo4budaSBnaWFuIHbDoCBuZ8OgeSBuZ+G6q3Ugbmhpw6puXG4gICAgICAgICAgICAgICAgTG9jYWxUaW1lIGdpb0RpID0gTG9jYWxUaW1lLm9mKGZha2VyLm51bWJlcigpLm51bWJlckJldHdlZW4oMCwgMjMpLCBmYWtlci5udW1iZXIoKS5udW1iZXJCZXR3ZWVuKDAsIDU5KSk7XG4gICAgICAgICAgICAgICAgTG9jYWxEYXRlIG5nYXlEaSA9IExvY2FsRGF0ZS5ub3coKS5wbHVzKFRocmVhZExvY2FsUmFuZG9tLmN1cnJlbnQoKS5uZXh0SW50KDEsIDMxKSwgQ2hyb25vVW5pdC5EQVlTKTtcblxuICAgICAgICAgICAgICAgIGxpY2hUcmluaC5zZXRHaW9EaShnaW9EaSk7XG4gICAgICAgICAgICAgICAgbGljaFRyaW5oLnNldE5nYXlEaShuZ2F5RGkpO1xuXG4gICAgICAgICAgICAgICAgLy8gTOG6pXkgbmfhuqt1IG5oacOqbiBt4buZdCBUb2FUYXUgdOG7qyBkYW5oIHPDoWNoXG4gICAgICAgICAgICAgICAgVG9hVGF1IHJhbmRvbVRvYVRhdSA9IGxpc3RUb2FUYXUuZ2V0KFRocmVhZExvY2FsUmFuZG9tLmN1cnJlbnQoKS5uZXh0SW50KGxpc3RUb2FUYXUuc2l6ZSgpKSk7XG4gICAgICAgICAgICAgICAgSGliZXJuYXRlLmluaXRpYWxpemUocmFuZG9tVG9hVGF1LmdldFRhdSgpKTsgLy8gS2jhu59pIHThuqFvIFRhdSB0csaw4bubYyBraGkgc+G7rSBk4bulbmdcbiAgICAgICAgICAgICAgICBsaWNoVHJpbmguc2V0VGF1KHJhbmRvbVRvYVRhdS5nZXRUYXUoKSk7XG5cbiAgICAgICAgICAgICAgICBlbS5wZXJzaXN0KGxpY2hUcmluaCk7XG5cbiAgICAgICAgICAgICAgICAvLyBU4bqhbyB2w6kgdMOgdSBjaG8gbeG7l2kgVG9hVGF1ICgyMCBjaOG7lyBuZ+G7k2kpXG4gICAgICAgICAgICAgICAgZm9yIChUb2FUYXUgdG9hVGF1IDogbGlzdFRvYVRhdSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGludCBqID0gMDsgaiA8IHRvYVRhdS5nZXRTb0doZSgpOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFThuqFvIGNo4buXIG5n4buTaVxuICAgICAgICAgICAgICAgICAgICAgICAgQ2hvTmdvaSBjaG9OZ29pID0gbmV3IENob05nb2koKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNob05nb2kuc2V0TG9haUNobyhsaXN0TG9haUNoby5nZXQoVGhyZWFkTG9jYWxSYW5kb20uY3VycmVudCgpLm5leHRJbnQobGlzdExvYWlDaG8uc2l6ZSgpKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hvTmdvaS5zZXRUb2FUYXUodG9hVGF1KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGjDoXQgc2luaCB0w6puIGNo4buXIG5n4buTaSAoMUEsIDFCLCAuLi4sIDE0RClcbiAgICAgICAgICAgICAgICAgICAgICAgIGludCByb3cgPSBqIC8gNCArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFyIGNvbHVtbiA9IChjaGFyKSAoJ0EnICsgaiAlIDQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nIHRlbkNOID0gcm93ICsgXCJcIiArIGNvbHVtbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFThuqFvIG3DoyBjaOG7lyBuZ+G7k2lcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBtYUNobyA9IFwiQ05cIiArIHRlbkNOICsgdG9hVGF1LmdldE1hVG9hKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaG9OZ29pLnNldE1hQ2hvKG1hQ2hvKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2hvTmdvaS5zZXRUZW5DaG8odGVuQ04pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjaG9OZ29pLnNldFRpbmhUcmFuZyhmYWtlci5ib29sKCkuYm9vbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNob05nb2kuc2V0R2lhVGllbihmYWtlci5udW1iZXIoKS5yYW5kb21Eb3VibGUoMiwgNTAsIDUwMCkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbS5wZXJzaXN0KGNob05nb2kpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBU4bqhbyB2w6kgdMOgdSB0xrDGoW5nIOG7qW5nXG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgVmVUYXUgdmVUYXUgPSBuZXcgVmVUYXUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlVGF1LnNldE1hVmUoZ2VuZXJhdGVUaWNrZXRDb2RlKHRvYVRhdS5nZXRUYXUoKS5nZXRNYVRhdSgpLCBsaWNoVHJpbmguZ2V0TWFMaWNoKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlVGF1LnNldENob05nb2koY2hvTmdvaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZVRhdS5zZXRMaWNoVHJpbmhUYXUobGljaFRyaW5oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlVGF1LnNldFRlbktoYWNoSGFuZyhmYWtlci5uYW1lKCkuZnVsbE5hbWUoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZVRhdS5zZXRHaWF5VG8oZmFrZXIuaWROdW1iZXIoKS52YWxpZCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlVGF1LnNldE5nYXlEaShuZ2F5RGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVUYXUuc2V0RG9pVHVvbmcoZmFrZXIub3B0aW9ucygpLm9wdGlvbihcIk5nxrDhu51pIGzhu5tuXCIsIFwiVHLhursgZW1cIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVUYXUuc2V0R2lhVmUoZmFrZXIubnVtYmVyKCkucmFuZG9tRG91YmxlKDIsIDEwMCwgMTAwMCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVUYXUuc2V0VHJhbmdUaGFpKGZha2VyLm9wdGlvbnMoKS5vcHRpb24oXCLEkMOjIHRy4bqjXCIsIFwixJDDoyB0aGFuaCB0b8OhblwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBWZVRhdSBleGlzdGluZ1ZlVGF1ID0gZW0uZmluZChWZVRhdS5jbGFzcywgdmVUYXUuZ2V0TWFWZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ1ZlVGF1ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBO4bq/dSBtw6MgdsOpIMSRw6MgdOG7k24gdOG6oWksIHThuqFvIGzhuqFpIG3DoyB2w6lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZVRhdS5zZXRNYVZlKGdlbmVyYXRlVGlja2V0Q29kZSh0b2FUYXUuZ2V0VGF1KCkuZ2V0TWFUYXUoKSwgbGljaFRyaW5oLmdldE1hTGljaCgpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbS5wZXJzaXN0KHZlVGF1KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vcmVzb3VyY2VzL01FVEEtSU5GL3BlcnNpc3RlbmNlLnhtbFxuPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIiBzdGFuZGFsb25lPVwieWVzXCI/PlxuPHBlcnNpc3RlbmNlIHhtbG5zPVwiaHR0cHM6Ly9qYWthcnRhLmVlL3htbC9ucy9wZXJzaXN0ZW5jZVwiXG4gICAgICAgICAgICAgeG1sbnM6eHNpPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2VcIlxuICAgICAgICAgICAgIHhzaTpzY2hlbWFMb2NhdGlvbj1cImh0dHBzOi8vamFrYXJ0YS5lZS94bWwvbnMvcGVyc2lzdGVuY2UgaHR0cHM6Ly9qYWthcnRhLmVlL3htbC9ucy9wZXJzaXN0ZW5jZS9wZXJzaXN0ZW5jZV8zXzAueHNkXCJcbiAgICAgICAgICAgICB2ZXJzaW9uPVwiMy4wXCI+XG4gICAgPHBlcnNpc3RlbmNlLXVuaXQgbmFtZT1cIm1hcmlhZGJcIj5cbiAgICAgICAgPGNsYXNzPm1vZGVsLlRvYVRhdTwvY2xhc3M+XG4gICAgICAgIDxjbGFzcz5tb2RlbC5Mb2FpVG9hPC9jbGFzcz5cbiAgICAgICAgPGNsYXNzPm1vZGVsLlR1eWVuVGF1PC9jbGFzcz5cbiAgICAgICAgPGNsYXNzPm1vZGVsLlRhdTwvY2xhc3M+XG4gICAgICAgIDxjbGFzcz5tb2RlbC5OaGFuVmllbjwvY2xhc3M+XG4gICAgICAgIDxjbGFzcz5tb2RlbC5UYWlLaG9hbjwvY2xhc3M+XG4gICAgICAgIDxjbGFzcz5tb2RlbC5MaWNoTGFtVmllYzwvY2xhc3M+XG4gICAgICAgIDxjbGFzcz5tb2RlbC5WZVRhdTwvY2xhc3M+XG4gICAgICAgIDxjbGFzcz5tb2RlbC5LaGFjaEhhbmc8L2NsYXNzPlxuICAgICAgICA8Y2xhc3M+bW9kZWwuSG9hRG9uPC9jbGFzcz5cbiAgICAgICAgPGNsYXNzPm1vZGVsLktodXllbk1haTwvY2xhc3M+XG4gICAgICAgIDxjbGFzcz5tb2RlbC5Mb2FpQ2hvPC9jbGFzcz5cbiAgICAgICAgPGNsYXNzPm1vZGVsLkNob05nb2k8L2NsYXNzPlxuICAgICAgICA8Y2xhc3M+bW9kZWwuTG9haUhvYURvbjwvY2xhc3M+XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvbW9kZWwvQ2hvTmdvaS5qYXZhXG5wYWNrYWdlIG1vZGVsO1xuXG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS4qO1xuaW1wb3J0IGxvbWJvay5EYXRhO1xuaW1wb3J0IGxvbWJvay5FcXVhbHNBbmRIYXNoQ29kZTtcbmltcG9ydCBsb21ib2suVG9TdHJpbmc7XG5cbkBFbnRpdHlcbkBEYXRhXG5ARXF1YWxzQW5kSGFzaENvZGUob25seUV4cGxpY2l0bHlJbmNsdWRlZCA9IHRydWUpXG5AVGFibGUobmFtZSA9IFwiY2hvX25nb2lcIilcbnB1YmxpYyBjbGFzcyBDaG9OZ29pIHtcbiAgICBASWRcbiAgICBARXF1YWxzQW5kSGFzaENvZGUuSW5jbHVkZVxuICAgIEBDb2x1bW4obmFtZSA9IFwibWFfY2hvXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcIlZBUkNIQVIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlLCB1bmlxdWUgPSB0cnVlKVxuICAgIHByaXZhdGUgU3RyaW5nIG1hQ2hvO1xuICAgIEBDb2x1bW4obmFtZSA9IFwidGVuX2Nob1wiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJOVkFSQ0hBUigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBTdHJpbmcgdGVuQ2hvO1xuICAgIEBDb2x1bW4obmFtZSA9IFwidGluaF90cmFuZ1wiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJCSVRcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIGJvb2xlYW4gdGluaFRyYW5nO1xuICAgIEBDb2x1bW4obmFtZSA9IFwiZ2lhX3RpZW5cIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiRkxPQVRcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIGRvdWJsZSBnaWFUaWVuO1xuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2RhdGFmYWtlci9UYXVERi5qYXZhXG4uLi5cblxuICAgICAgICAgICAgLy8gVOG6oW8gMTAgZOG7ryBsaeG7h3UgbeG6q3UgY2hvIFRhdVxuICAgICAgICAgICAgZm9yIChpbnQgaSA9IDE7IGkgPD0gMTA7IGkrKykge1xuICAgICAgICAgICAgICAgIFRhdSB0YXUgPSBuZXcgVGF1KCk7XG4gICAgICAgICAgICAgICAgdGF1LnNldE1hVGF1KFwiVFwiICsgaSk7IC8vIE3DoyB0w6B1IMSR4buLbmggZOG6oW5nIFQxLCBUMiwgLi4uXG4gICAgICAgICAgICAgICAgdGF1LnNldFRlblRhdShcIlTDoHUgXCIgKyBmYWtlci5uYW1lKCkubGFzdE5hbWUoKSk7IC8vIFTDqm4gdMOgdSB24bubaSBo4buNIG5n4bqrdSBuaGnDqm5cbiAgICAgICAgICAgICAgICB0YXUuc2V0U29Ub2EoZmFrZXIubnVtYmVyKCkubnVtYmVyQmV0d2Vlbig1LCAyMCkpOyAvLyBT4buRIHRvYSB04burIDUgxJHhur9uIDIwXG5cbiAgICAgICAgICAgICAgICAvLyBMacOqbiBr4bq/dCB24bubaSBt4buZdCBUdXllblRhdSBuZ+G6q3Ugbmhpw6puXG4gICAgICAgICAgICAgICAgVHV5ZW5UYXUgcmFuZG9tVHV5ZW5UYXUgPSB0dXllblRhdUxpc3QuZ2V0KGZha2VyLm51bWJlcigpLm51bWJlckJldHdlZW4oMCwgdHV5ZW5UYXVMaXN0LnNpemUoKSkpO1xuICAgICAgICAgICAgICAgIHRhdS5zZXRUdXllblRhdShyYW5kb21UdXllblRhdSk7XG5cbiAgICAgICAgICAgICAgICAvLyBMxrB1IMSR4buRaSB0xrDhu6NuZyBUYXUgdsOgbyBjxqEgc+G7nyBk4buvIGxp4buHdVxuICAgICAgICAgICAgICAgIGVtLnBlcnNpc3QodGF1KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdHJhbnNhY3Rpb24uY29tbWl0KCk7XG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJE4buvIGxp4buHdSBt4bqrdSBjaG8gVGF1IMSRw6MgxJHGsOG7o2MgdOG6oW8gdGjDoG5oIGPDtG5nLlwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGlmICh0cmFuc2FjdGlvbi5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24ucm9sbGJhY2soKTtcbiAgICAgICAgICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9tb2RlbC9UYWlLaG9hbi5qYXZhXG4uLi5cblxuQERhdGFcbkBFbnRpdHlcbkBFcXVhbHNBbmRIYXNoQ29kZShvbmx5RXhwbGljaXRseUluY2x1ZGVkID0gdHJ1ZSlcbkBUYWJsZShuYW1lID0gXCJ0YWlraG9hblwiKVxucHVibGljIGNsYXNzIFRhaUtob2FuIHtcbiAgICBASWRcbiAgICBARXF1YWxzQW5kSGFzaENvZGUuSW5jbHVkZVxuICAgIEBDb2x1bW4obmFtZSA9IFwibWFfbnZcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UsIHVuaXF1ZSA9IHRydWUpXG4gICAgcHJpdmF0ZSBTdHJpbmcgbWFOVjsgLy8gTcOjIHTDoGkga2hv4bqjblxuXG4gICAgQENvbHVtbihuYW1lID0gXCJwYXNzd29yZFwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIFN0cmluZyBwYXNzV29yZDsgLy8gTeG6rXQga2jhuql1XG5cbiAgICAvLyBN4buZdCB0w6BpIGtob+G6o24gY2jhu4kgdGh14buZYyB24buBIG3hu5l0IG5ow6JuIHZpw6puXG4vLyAgICBAT25lVG9PbmVcbi8vICAgIEBKb2luQ29sdW1uKG5hbWUgPSBcIm1hX252XCIsIHJlZmVyZW5jZWRDb2x1bW5OYW1lID0gXCJtYV9udlwiLCB1bmlxdWUgPSB0cnVlKVxuLy8gICAgcHJpdmF0ZSBOaGFuVmllbiBuaGFuVmllbjtcbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9tb2RlbC9LaGFjaEhhbmcuamF2YVxuLi4uXG4gICAgcHJpdmF0ZSBkb3VibGUgZGllbVRpY2hMdXk7XG4gICAgQENvbHVtbihuYW1lID0gXCJuZ2F5X3NpbmhcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiZGF0ZVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIHByaXZhdGUgTG9jYWxEYXRlIG5nYXlTaW5oO1xuICAgIEBDb2x1bW4obmFtZSA9IFwibmdheV90aGFtX2dpYVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJkYXRlXCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBMb2NhbERhdGUgbmdheVRoYW1nR2lhO1xuICAgIEBDb2x1bW4obmFtZSA9IFwiaGFuZ190aGFuaF92aWVuXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcInZhcmNoYXIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIHByaXZhdGUgU3RyaW5nIGhhbmdUaGFuaFZpZW47XG5cbiAgICBATWFueVRvT25lXG4gICAgQEpvaW5Db2x1bW4obmFtZSA9IFwibWFfbG9haV9raGFjaF9oYW5nXCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBMb2FpS2hhY2hIYW5nIGxvYWlLaGFjaEhhbmc7XG4gICAgQFRvU3RyaW5nLkV4Y2x1ZGVcbiAgICBAT25lVG9NYW55KG1hcHBlZEJ5ID0gXCJraGFjaEhhbmdcIilcbiAgICBwcml2YXRlIFNldDxIb2FEb24+IGhvYURvbnM7XG59XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPSW1wbC5qYXZhXG4uLi5cblxucHVibGljIGNsYXNzIExpY2hUcmluaFRhdURBT0ltcGwge1xuICAgIHB1YmxpYyBMaXN0PExpY2hUcmluaFRhdT4gZ2V0QWxsTGlzdCgpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgTGlzdDxMaWNoVHJpbmhUYXU+IGxpc3QgPSBudWxsO1xuICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGlzdCA9Li4uIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxVzRHNDRLcjVFOWRVQzVmekNhY2JoOCJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nIiwiZm9sZGVyUm9vdCI6IkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkxldCBtZSBhbHNvIGNoZWNrIGlmIHRoZXJlJ3MgYW4gaW50ZXJmYWNlIGZvciBgTGljaFRyaW5oVGF1REFPYCB0aGF0IG1pZ2h0IGRlZmluZSB0aGUgbWV0aG9kcyB0byBiZSBpbXBsZW1lbnRlZDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI3ZDU0OTk1OC03ZDE2LTRiN2ItYmRiZS00OThiMGNjYmE1MTEiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE2M2VFZ2lTYm5qMkZIVjRyWldOM3JwIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcIlByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPSW1wbC5qYXZhXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJCYXNlZCBvbiBteSBleHBsb3JhdGlvbiBvZiB0aGUgY29kZWJhc2UsIEkgY2FuIHNlZSB0aGF0IHRoZSBgTGljaFRyaW5oVGF1REFPSW1wbGAgY2xhc3MgYWxyZWFkeSBoYXMgYSBgZGVsZXRlYCBtZXRob2QgaW1wbGVtZW50ZWQuIEhvd2V2ZXIsIEkgbmVlZCB0byBjaGVjayBpZiB0aGVyZSdzIGFuIGludGVyZmFjZSB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGltcGxlbWVudCwgd2hpY2ggd291bGQgcmVxdWlyZSBvdmVycmlkaW5nIHRoZSBgZGVsZXRlYCBtZXRob2QuXG5cbkkgY2FuIHNlZSB0aGF0IHRoZXJlJ3MgYW4gZW1wdHkgaW50ZXJmYWNlIGNhbGxlZCBgTGljaFRyaW5oVGF1REFPYCBpbiB0aGUgY29kZWJhc2UuIExldCdzIGltcGxlbWVudCB0aGUgYGRlbGV0ZWAgbWV0aG9kIGluIHRoZSBgTGljaFRyaW5oVGF1REFPSW1wbGAgY2xhc3MgdG8gcHJvcGVybHkgb3ZlcnJpZGUgaXQgZnJvbSB0aGUgaW50ZXJmYWNlLlxuXG5IZXJlJ3MgbXkgcGxhbjpcblxuMS4gVXBkYXRlIHRoZSBgTGljaFRyaW5oVGF1REFPSW1wbGAgY2xhc3MgdG8gaW1wbGVtZW50IHRoZSBgTGljaFRyaW5oVGF1REFPYCBpbnRlcmZhY2VcbjIuIE1ha2Ugc3VyZSB0aGUgYGRlbGV0ZWAgbWV0aG9kIGlzIHByb3Blcmx5IGltcGxlbWVudGVkIHRvIG92ZXJyaWRlIHRoZSBpbnRlcmZhY2UgbWV0aG9kXG5cbkxldCdzIG1ha2UgdGhlc2UgY2hhbmdlczpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPLmphdmFcbnBhY2thZ2UgZGFvLmltcGw7XG5cbnB1YmxpYyBpbnRlcmZhY2UgTGljaFRyaW5oVGF1REFPIHtcbn1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vTGljaFRyaW5oVGF1REFPLmphdmFcbnBhY2thZ2UgZGFvLmltcGw7XG5cbnB1YmxpYyBpbnRlcmZhY2UgTGljaFRyaW5oVGF1REFPIHtcbn1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9UYXVEQU8uamF2YVxuLi4uXG5cbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBUYXVEQU8ge1xuICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbTtcblxuICAgIHB1YmxpYyBMaXN0PFRhdT4gZ2V0QWxsTGlzdFQoKSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgTGlzdDxUYXU+IGxpc3QgPSBudWxsO1xuICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IHQgZnJvbSBUYXUgdFwiLCBUYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgcHVibGljIFRhdSBnZXRCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHJldHVybiBlbS5maW5kKFRhdS5jbGFzcywgaWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBib29sZWFuIHNhdmUoVGF1IHQpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIGVtLnBlcnNpc3QodCk7XG4gICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9Y2F0Y2goRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL1RhdURBTy5qYXZhXG4uLi5cblxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIFRhdURBTyB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgcHVibGljIExpc3Q8VGF1PiBnZXRBbGxMaXN0VCgpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICBMaXN0PFRhdT4gbGlzdCA9IG51bGw7XG4gICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgdCBmcm9tIFRhdSB0XCIsIFRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgVGF1IGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVGF1LmNsYXNzLCBpZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gc2F2ZShUYXUgdCkge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgICAgICAgICAgZW0ucGVyc2lzdCh0KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9MaWNoVHJpbmhUYXVEQU9JbXBsLmphdmFcbi4uLlxuXG5wdWJsaWMgY2xhc3MgTGljaFRyaW5oVGF1REFPSW1wbCB7XG4gICAgcHVibGljIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRBbGxMaXN0KCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICBMaXN0PExpY2hUcmluaFRhdT4gbGlzdCA9IG51bGw7XG4gICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgbHR0IGZyb20gTGljaFRyaW5oVGF1IGx0dFwiLCBMaWNoVHJpbmhUYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSBs4bqleSBkYW5oIHPDoWNoIExpY2hUcmluaFRhdVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgTGljaFRyaW5oVGF1IGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHJldHVybiBlbS5maW5kKExpY2hUcmluaFRhdS5jbGFzcywgaWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBib29sZWFuIHNhdmUoTGljaFRyaW5oVGF1IHQpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5wZXJzaXN0KHQpO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiB1cGRhdGUoTGljaFRyaW5oVGF1IHQpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5tZXJnZSh0KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gZGVsZXRlKFN0cmluZyBpZCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIExpY2hUcmluaFRhdSB0ID0gZW0uZmluZChMaWNoVHJpbmhUYXUuY2xhc3MsIGlkKTtcbiAgICAgICAgICAgIGVtLnJlbW92ZSh0KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1RhdURBT0ltcGwuamF2YVxuLi4uXG5cbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBUYXVEQU9JbXBsIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG5cbiAgICBwdWJsaWMgTGlzdDxUYXU+IGdldEFsbExpc3RUKCkge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIExpc3Q8VGF1PiBsaXN0ID0gbnVsbDtcbiAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShcInNlbGVjdCB0IGZyb20gVGF1IHRcIiwgVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBUYXUgZ2V0QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICByZXR1cm4gZW0uZmluZChUYXUuY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiBzYXZlKFRhdSB0KSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5wZXJzaXN0KHQpO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfWNhdGNoKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1R1eWVuVGF1REFPLmphdmFcbi4uLlxuXG5cbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBUdXllblRhdURBTyB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuICAgIHB1YmxpYyBMaXN0PFR1eWVuVGF1PiBnZXRMaXN0VHV5ZW5UYXVCeUdhRGlHYURlbihTdHJpbmcgZ2FEaSwgU3RyaW5nIGdhRGVuKSB7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiVHV5ZW5UYXUuZmluZEJ5R2FEaUdhRGVuXCIsIFR1eWVuVGF1LmNsYXNzKVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJnYURpXCIsIGdhRGkpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImdhRGVuXCIsZ2FEZW4pXG4gICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgTGlzdDxUdXllblRhdT4gZ2V0TGlzdFR1eWVuVGF1KCl7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiVHV5ZW5UYXUuZmluZEFsbFwiLCBUdXllblRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBUdXllblRhdSBnZXRUdXllblRhdUJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIHJldHVybiBlbS5maW5kKFR1eWVuVGF1LmNsYXNzLCBpZCk7XG4gICAgfVxuXG4gICAgcHVibGljICBib29sZWFuIHNhdmUoVHV5ZW5UYXUgdHV5ZW5UYXUpe1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgICAgICAgICAgZW0ucGVyc2lzdCh0dXllblRhdSk7XG4gICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9Y2F0Y2goRXhjZXB0aW9uIGUpe1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vVHV5ZW5UYXVEQU8uamF2YVxuLi4uXG5cblxuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIFR1eWVuVGF1REFPIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG4gICAgcHVibGljIExpc3Q8VHV5ZW5UYXU+IGdldExpc3RUdXllblRhdUJ5R2FEaUdhRGVuKFN0cmluZyBnYURpLCBTdHJpbmcgZ2FEZW4pIHtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQnlHYURpR2FEZW5cIiwgVHV5ZW5UYXUuY2xhc3MpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImdhRGlcIiwgZ2FEaSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZ2FEZW5cIixnYURlbilcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBMaXN0PFR1eWVuVGF1PiBnZXRMaXN0VHV5ZW5UYXUoKXtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQWxsXCIsIFR1eWVuVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIFR1eWVuVGF1IGdldFR1eWVuVGF1QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVHV5ZW5UYXUuY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgIGJvb2xlYW4gc2F2ZShUdXllblRhdSB0dXllblRhdSl7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5wZXJzaXN0KHR1eWVuVGF1KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaChFeGNlcHRpb24gZSl7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9Mb2FpVG9hVGF1REFPLmphdmFcbnBhY2thZ2UgZGFvO1xuXG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyO1xuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5VHJhbnNhY3Rpb247XG5pbXBvcnQgbG9tYm9rLkFsbEFyZ3NDb25zdHJ1Y3RvcjtcbmltcG9ydCBtb2RlbC5Mb2FpVG9hO1xuXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgTG9haVRvYVRhdURBTyB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgcHVibGljIExpc3Q8TG9haVRvYT4gZ2V0TGlzdExvYWlUb2EoKXtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJMb2FpVG9hLmZpbmRBbGxcIiwgTG9haVRvYS5jbGFzcylcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2FpVG9hIGdldExvYWlUb2FCeUlkKFN0cmluZyBpZCl7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiTG9haVRvYS5maW5kQnlJRFwiLCBMb2FpVG9hLmNsYXNzKVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJtYUxvYWlUb2FcIiwgaWQpXG4gICAgICAgICAgICAgICAgLmdldFNpbmdsZVJlc3VsdCgpO1xuICAgIH1cbiAgICBwdWJsaWMgYm9vbGVhbiBzYXZlKExvYWlUb2EgbG9haVRvYSl7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICB0cnkge1xuICAgICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICAgICBlbS5wZXJzaXN0KGxvYWlUb2EpO1xuICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgfWNhdGNoIChFeGNlcHRpb24gZSl7XG4gICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgfVxuICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTG9haVRvYVRhdURBTy5qYXZhXG5wYWNrYWdlIGRhbztcblxuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjtcbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eVRyYW5zYWN0aW9uO1xuaW1wb3J0IGxvbWJvay5BbGxBcmdzQ29uc3RydWN0b3I7XG5pbXBvcnQgbW9kZWwuTG9haVRvYTtcblxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIExvYWlUb2FUYXVEQU8ge1xuICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbTtcblxuICAgIHB1YmxpYyBMaXN0PExvYWlUb2E+IGdldExpc3RMb2FpVG9hKCl7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiTG9haVRvYS5maW5kQWxsXCIsIExvYWlUb2EuY2xhc3MpXG4gICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgTG9haVRvYSBnZXRMb2FpVG9hQnlJZChTdHJpbmcgaWQpe1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlTmFtZWRRdWVyeShcIkxvYWlUb2EuZmluZEJ5SURcIiwgTG9haVRvYS5jbGFzcylcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwibWFMb2FpVG9hXCIsIGlkKVxuICAgICAgICAgICAgICAgIC5nZXRTaW5nbGVSZXN1bHQoKTtcbiAgICB9XG4gICAgcHVibGljIGJvb2xlYW4gc2F2ZShMb2FpVG9hIGxvYWlUb2Epe1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgdHJ5IHtcbiAgICAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgICAgZW0ucGVyc2lzdChsb2FpVG9hKTtcbiAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgIH1jYXRjaCAoRXhjZXB0aW9uIGUpe1xuICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgIH1cbiAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1R1eWVuVGF1REFPSW1wbC5qYXZhXG4uLi5cblxuXG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgVHV5ZW5UYXVEQU9JbXBsIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG4gICAgcHVibGljIExpc3Q8VHV5ZW5UYXU+IGdldExpc3RUdXllblRhdUJ5R2FEaUdhRGVuKFN0cmluZyBnYURpLCBTdHJpbmcgZ2FEZW4pIHtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQnlHYURpR2FEZW5cIiwgVHV5ZW5UYXUuY2xhc3MpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImdhRGlcIiwgZ2FEaSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZ2FEZW5cIixnYURlbilcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBMaXN0PFR1eWVuVGF1PiBnZXRMaXN0VHV5ZW5UYXUoKXtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQWxsXCIsIFR1eWVuVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIFR1eWVuVGF1IGdldFR1eWVuVGF1QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVHV5ZW5UYXUuY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgIGJvb2xlYW4gc2F2ZShUdXllblRhdSB0dXllblRhdSl7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5wZXJzaXN0KHR1eWVuVGF1KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaChFeGNlcHRpb24gZSl7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xvYWlUb2FUYXVEQU9JbXBsLmphdmFcbnBhY2thZ2UgZGFvLmltcGw7XG5cbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7XG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlUcmFuc2FjdGlvbjtcbmltcG9ydCBsb21ib2suQWxsQXJnc0NvbnN0cnVjdG9yO1xuaW1wb3J0IG1vZGVsLkxvYWlUb2E7XG5cbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBMb2FpVG9hVGF1REFPSW1wbCB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgcHVibGljIExpc3Q8TG9haVRvYT4gZ2V0TGlzdExvYWlUb2EoKXtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJMb2FpVG9hLmZpbmRBbGxcIiwgTG9haVRvYS5jbGFzcylcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2FpVG9hIGdldExvYWlUb2FCeUlkKFN0cmluZyBpZCl7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiTG9haVRvYS5maW5kQnlJRFwiLCBMb2FpVG9hLmNsYXNzKVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJtYUxvYWlUb2FcIiwgaWQpXG4gICAgICAgICAgICAgICAgLmdldFNpbmdsZVJlc3VsdCgpO1xuICAgIH1cbiAgICBwdWJsaWMgYm9vbGVhbiBzYXZlKExvYWlUb2EgbG9haVRvYSl7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICB0cnkge1xuICAgICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICAgICBlbS5wZXJzaXN0KGxvYWlUb2EpO1xuICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgfWNhdGNoIChFeGNlcHRpb24gZSl7XG4gICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgfVxuICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvQ2hvTmdvaURBTy5qYXZhXG4uLi5cblxucHVibGljIGNsYXNzIENob05nb2lEQU8ge1xuICAgIHB1YmxpYyBzdGF0aWMgTGlzdDxDaG9OZ29pPiBnZXRBbGxMaXN0KCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICBMaXN0PENob05nb2k+IGxpc3QgPSBudWxsO1xuICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IGNuIGZyb20gQ2hvTmdvaSBjblwiLCBDaG9OZ29pLmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4buXaSBraGkgbOG6pXkgZGFuaCBzw6FjaCBMb2FpQ2hvXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBDaG9OZ29pIGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHJldHVybiBlbS5maW5kKENob05nb2kuY2xhc3MsIGlkKTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTG9haUNob0RBTy5qYXZhXG4uLi5cblxucHVibGljIGNsYXNzIExvYWlDaG9EQU8ge1xuICAgIHB1YmxpYyBMaXN0PExvYWlDaG8+IGdldEFsbExpc3QoKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIExpc3Q8TG9haUNobz4gbGlzdCA9IG51bGw7XG4gICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgbGMgZnJvbSBMb2FpQ2hvIGxjXCIsIExvYWlDaG8uY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSBs4bqleSBkYW5oIHPDoWNoIExvYWlDaG9cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgcHVibGljIExvYWlDaG8gZ2V0QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoTG9haUNoby5jbGFzcywgaWQpO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vQ2hvTmdvaURBTy5qYXZhXG4uLi5cblxucHVibGljIGNsYXNzIENob05nb2lEQU8ge1xuICAgIHB1YmxpYyBzdGF0aWMgTGlzdDxDaG9OZ29pPiBnZXRBbGxMaXN0KCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICBMaXN0PENob05nb2k+IGxpc3QgPSBudWxsO1xuICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IGNuIGZyb20gQ2hvTmdvaSBjblwiLCBDaG9OZ29pLmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4buXaSBraGkgbOG6pXkgZGFuaCBzw6FjaCBMb2FpQ2hvXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBDaG9OZ29pIGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHJldHVybiBlbS5maW5kKENob05nb2kuY2xhc3MsIGlkKTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvVmVUYXVEQU8uamF2YVxuLi4uXG5cbnB1YmxpYyBjbGFzcyBWZVRhdURBTyB7XG4gICAgcHVibGljIExpc3Q8VmVUYXU+IGdldEFsbExpc3QoKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIExpc3Q8VmVUYXU+IGxpc3QgPSBudWxsO1xuICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IHZ0IGZyb20gVmVUYXUgdnRcIiwgVmVUYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSBs4bqleSBkYW5oIHPDoWNoIFZlVGF1XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBWZVRhdSBnZXRCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICByZXR1cm4gZW0uZmluZChWZVRhdS5jbGFzcywgaWQpO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vTG9haUNob0RBTy5qYXZhXG4uLi5cblxucHVibGljIGNsYXNzIExvYWlDaG9EQU8ge1xuICAgIHB1YmxpYyBMaXN0PExvYWlDaG8+IGdldEFsbExpc3QoKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIExpc3Q8TG9haUNobz4gbGlzdCA9IG51bGw7XG4gICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgbGMgZnJvbSBMb2FpQ2hvIGxjXCIsIExvYWlDaG8uY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSBs4bqleSBkYW5oIHPDoWNoIExvYWlDaG9cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgcHVibGljIExvYWlDaG8gZ2V0QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoTG9haUNoby5jbGFzcywgaWQpO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9MaWNoTGFtVmllY0RBTy5qYXZhXG4uLi5cblxuLyoqXG4gKiBAROG7sSDDoW46IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nXG4gKiBAQ2xhc3M6IExpY2hMYW1WaWVjREFPXG4gKiBAVOG6oW8gdsOgbyBuZ8OgeTogMTgvMDEvMjAyNVxuICogQFTDoWMgZ2nhuqM6IE5ndXllbiBIdXUgU2FuZ1xuICovXG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgTGljaExhbVZpZWNEQU8ge1xuICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbTtcblxuICAgIHB1YmxpYyBMaWNoTGFtVmllYyBnZXRMaWNoTGFtVmllY0J5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIHJldHVybiBlbS5maW5kKExpY2hMYW1WaWVjLmNsYXNzLCBpZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gc2F2ZShMaWNoTGFtVmllYyBsbHYpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIGVtLnBlcnNpc3QobGx2KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gdXBkYXRlKExpY2hMYW1WaWVjIGxsdikge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgICAgICAgICAgZW0ubWVyZ2UobGx2KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0Nob05nb2lEQU9JbXBsLmphdmFcbi4uLlxuXG5wdWJsaWMgY2xhc3MgQ2hvTmdvaURBT0ltcGwge1xuICAgIHB1YmxpYyBzdGF0aWMgTGlzdDxDaG9OZ29pPiBnZXRBbGxMaXN0KCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICBMaXN0PENob05nb2k+IGxpc3QgPSBudWxsO1xuICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IGNuIGZyb20gQ2hvTmdvaSBjblwiLCBDaG9OZ29pLmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4buXaSBraGkgbOG6pXkgZGFuaCBzw6FjaCBMb2FpQ2hvXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBDaG9OZ29pIGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHJldHVybiBlbS5maW5kKENob05nb2kuY2xhc3MsIGlkKTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTG9haUNob0RBT0ltcGwuamF2YVxuLi4uXG5cbnB1YmxpYyBjbGFzcyBMb2FpQ2hvREFPSW1wbCB7XG4gICAgcHVibGljIExpc3Q8TG9haUNobz4gZ2V0QWxsTGlzdCgpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgTGlzdDxMb2FpQ2hvPiBsaXN0ID0gbnVsbDtcbiAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShcInNlbGVjdCBsYyBmcm9tIExvYWlDaG8gbGNcIiwgTG9haUNoby5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggTG9haUNob1wiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgTG9haUNobyBnZXRCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICByZXR1cm4gZW0uZmluZChMb2FpQ2hvLmNsYXNzLCBpZCk7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9WZVRhdURBTy5qYXZhXG4uLi5cblxucHVibGljIGNsYXNzIFZlVGF1REFPIHtcbiAgICBwdWJsaWMgTGlzdDxWZVRhdT4gZ2V0QWxsTGlzdCgpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgTGlzdDxWZVRhdT4gbGlzdCA9IG51bGw7XG4gICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYS4uLiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVNyem5GOW1CdHBib2JQanN0Mzd6dk4ifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyIsImZvbGRlclJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJCYXNlZCBvbiBteSBleHBsb3JhdGlvbiBvZiB0aGUgY29kZWJhc2UsIEkgY2FuIHNlZSB0aGF0IHRoZSBgTGljaFRyaW5oVGF1REFPSW1wbGAgY2xhc3MgYWxyZWFkeSBoYXMgYSBgZGVsZXRlYCBtZXRob2QgaW1wbGVtZW50ZWQuIEhvd2V2ZXIsIEkgbmVlZCB0byBjaGVjayBpZiB0aGVyZSdzIGFuIGludGVyZmFjZSB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGltcGxlbWVudCwgd2hpY2ggd291bGQgcmVxdWlyZSBvdmVycmlkaW5nIHRoZSBgZGVsZXRlYCBtZXRob2QuXG5cbkkgY2FuIHNlZSB0aGF0IHRoZXJlJ3MgYW4gZW1wdHkgaW50ZXJmYWNlIGNhbGxlZCBgTGljaFRyaW5oVGF1REFPYCBpbiB0aGUgY29kZWJhc2UuIExldCdzIGltcGxlbWVudCB0aGUgYGRlbGV0ZWAgbWV0aG9kIGluIHRoZSBgTGljaFRyaW5oVGF1REFPSW1wbGAgY2xhc3MgdG8gcHJvcGVybHkgb3ZlcnJpZGUgaXQgZnJvbSB0aGUgaW50ZXJmYWNlLlxuXG5IZXJlJ3MgbXkgcGxhbjpcblxuMS4gVXBkYXRlIHRoZSBgTGljaFRyaW5oVGF1REFPSW1wbGAgY2xhc3MgdG8gaW1wbGVtZW50IHRoZSBgTGljaFRyaW5oVGF1REFPYCBpbnRlcmZhY2VcbjIuIE1ha2Ugc3VyZSB0aGUgYGRlbGV0ZWAgbWV0aG9kIGlzIHByb3Blcmx5IGltcGxlbWVudGVkIHRvIG92ZXJyaWRlIHRoZSBpbnRlcmZhY2UgbWV0aG9kXG5cbkxldCdzIG1ha2UgdGhlc2UgY2hhbmdlczpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJmM2E5NDc0MC00ZGEwLTRhZWUtOThkMi00MWFlZTQ4ZDM4MzMiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFCUDdTWHExRUVRaUczdjNYTUUxeGpzIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcIkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPSW1wbC5qYXZhXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJMZXQgbWUgdHJ5IHdpdGggdGhlIGZ1bGwgcGF0aDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlJhbiBpbnRvIFVua25vd24gZXJyb3Igd2hpbGUgdHJ5aW5nIHRvIHJlYWQgUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9MaWNoVHJpbmhUYXVEQU9JbXBsLmphdmEiLCJpc19lcnJvciI6dHJ1ZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTYzZUVnaVNibmoyRkhWNHJaV04zcnAifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyIsImZvbGRlclJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJMZXQgbWUgdHJ5IHdpdGggdGhlIGZ1bGwgcGF0aDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIxMThmY2JlNS0zYWUzLTRlM2EtYjUyZC1lMDQ4ZWI5YzBjNDIiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE3UG1DeVNHSDZYdjd4a1F3NDJ1YlhyIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcIkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL0xpY2hUcmluaFRhdURBTy5qYXZhXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3cgbGV0J3MgY2hlY2sgdGhlIGBMaWNoVHJpbmhUYXVEQU9gIGludGVyZmFjZSB0byBzZWUgd2hhdCBtZXRob2RzIGl0IGRlZmluZXM6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIEQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPSW1wbC5qYXZhOlxuICAgICAxXHRwYWNrYWdlIGRhby5pbXBsO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGRhby5MaWNoVHJpbmhUYXVEQU87XG4gICAgIDRcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7XG4gICAgIDVcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eVRyYW5zYWN0aW9uO1xuICAgICA2XHRpbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5QZXJzaXN0ZW5jZTtcbiAgICAgN1x0aW1wb3J0IG1vZGVsLkxpY2hUcmluaFRhdTtcbiAgICAgOFx0XG4gICAgIDlcdGltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbiAgICAxMFx0XG4gICAgMTFcdHB1YmxpYyBjbGFzcyBMaWNoVHJpbmhUYXVEQU9JbXBsIGltcGxlbWVudHMgTGljaFRyaW5oVGF1REFPIHtcbiAgICAxMlx0ICAgIHB1YmxpYyBMaXN0PExpY2hUcmluaFRhdT4gZ2V0QWxsTGlzdCgpIHtcbiAgICAxM1x0ICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgMTRcdCAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgIDE1XHQgICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAxNlx0ICAgICAgICBMaXN0PExpY2hUcmluaFRhdT4gbGlzdCA9IG51bGw7XG4gICAgMTdcdCAgICAgICAgdHguYmVnaW4oKTtcbiAgICAxOFx0ICAgICAgICB0cnkge1xuICAgIDE5XHQgICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgbHR0IGZyb20gTGljaFRyaW5oVGF1IGx0dFwiLCBMaWNoVHJpbmhUYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAyMFx0ICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgMjFcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAyMlx0ICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAyM1x0ICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggTGljaFRyaW5oVGF1XCIpO1xuICAgIDI0XHQgICAgICAgIH1cbiAgICAyNVx0ICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAyNlx0ICAgIH1cbiAgICAyN1x0XG4gICAgMjhcdCAgICBwdWJsaWMgTGljaFRyaW5oVGF1IGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgMjlcdCAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgIDMwXHQgICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAzMVx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgMzJcdCAgICAgICAgcmV0dXJuIGVtLmZpbmQoTGljaFRyaW5oVGF1LmNsYXNzLCBpZCk7XG4gICAgMzNcdCAgICB9XG4gICAgMzRcdFxuICAgIDM1XHQgICAgcHVibGljIGJvb2xlYW4gc2F2ZShMaWNoVHJpbmhUYXUgdCkge1xuICAgIDM2XHQgICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAzN1x0ICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgMzhcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgIDM5XHQgICAgICAgIHRyeSB7XG4gICAgNDBcdCAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgNDFcdCAgICAgICAgICAgIGVtLnBlcnNpc3QodCk7XG4gICAgNDJcdCAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgIDQzXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICA0NFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDQ1XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDQ2XHQgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgIDQ3XHQgICAgICAgIH1cbiAgICA0OFx0ICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgNDlcdCAgICB9XG4gICAgNTBcdFxuICAgIDUxXHQgICAgcHVibGljIGJvb2xlYW4gdXBkYXRlKExpY2hUcmluaFRhdSB0KSB7XG4gICAgNTJcdCAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgIDUzXHQgICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICA1NFx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgNTVcdCAgICAgICAgdHJ5IHtcbiAgICA1Nlx0ICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICA1N1x0ICAgICAgICAgICAgZW0ubWVyZ2UodCk7XG4gICAgNThcdCAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgIDU5XHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICA2MFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDYxXHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDYyXHQgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgIDYzXHQgICAgICAgIH1cbiAgICA2NFx0ICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgNjVcdCAgICB9XG4gICAgNjZcdFxuICAgIDY3XHQgICAgQE92ZXJyaWRlXG4gICAgNjhcdCAgICBwdWJsaWMgYm9vbGVhbiBkZWxldGUoTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdSkge1xuICAgIDY5XHQgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICA3MFx0ICAgIH1cbiAgICA3MVx0XG4gICAgNzJcdCAgICBwdWJsaWMgYm9vbGVhbiBkZWxldGUoU3RyaW5nIGlkKSB7XG4gICAgNzNcdCAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgIDc0XHQgICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICA3NVx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgNzZcdCAgICAgICAgdHJ5IHtcbiAgICA3N1x0ICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICA3OFx0ICAgICAgICAgICAgTGljaFRyaW5oVGF1IHQgPSBlbS5maW5kKExpY2hUcmluaFRhdS5jbGFzcywgaWQpO1xuICAgIDc5XHQgICAgICAgICAgICBlbS5yZW1vdmUodCk7XG4gICAgODBcdCAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgIDgxXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICA4Mlx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDgzXHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDg0XHQgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgIDg1XHQgICAgICAgIH1cbiAgICA4Nlx0ICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgODdcdCAgICB9XG4gICAgODhcdH1cbiAgICA4OVx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA4OVxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxQlA3U1hxMUVFUWlHM3YzWE1FMXhqcyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nIiwiZm9sZGVyUm9vdCI6IkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6Ik5vdyBsZXQncyBjaGVjayB0aGUgYExpY2hUcmluaFRhdURBT2AgaW50ZXJmYWNlIHRvIHNlZSB3aGF0IG1ldGhvZHMgaXQgZGVmaW5lczpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJlOWVmMTRhYS0wNjg3LTQxODktYmU0ZC04NThkYjg3MzJmNGQiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFVQlkyZHhNYkxFNVo4VWtDNDgyMmVwIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xpY2hUcmluaFRhdURBT0ltcGwuamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgQE92ZXJyaWRlXFxuICAgIHB1YmxpYyBib29sZWFuIGRlbGV0ZShMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1KSB7XFxuICAgICAgICByZXR1cm4gZmFsc2U7XFxuICAgIH1cIiwgXCJuZXdfc3RyXCI6IFwiICAgIEBPdmVycmlkZVxcbiAgICBwdWJsaWMgYm9vbGVhbiBkZWxldGUoTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdSkge1xcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFxcXCJtYXJpYWRiXFxcIilcXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcXG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgdHIuYmVnaW4oKTtcXG4gICAgICAgICAgICBpZiAoIWVtLmNvbnRhaW5zKGxpY2hUcmluaFRhdSkpIHtcXG4gICAgICAgICAgICAgICAgbGljaFRyaW5oVGF1ID0gZW0ubWVyZ2UobGljaFRyaW5oVGF1KTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgZW0ucmVtb3ZlKGxpY2hUcmluaFRhdSk7XFxuICAgICAgICAgICAgdHIuY29tbWl0KCk7XFxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcXG4gICAgICAgIH1cXG4gICAgICAgIHJldHVybiBmYWxzZTtcXG4gICAgfVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogNjcsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogNzB9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik5vdyBJIHVuZGVyc3RhbmQgdGhlIHNpdHVhdGlvbi4gVGhlIGBMaWNoVHJpbmhUYXVEQU9gIGludGVyZmFjZSBkZWZpbmVzIGEgYGRlbGV0ZWAgbWV0aG9kIHRoYXQgdGFrZXMgYSBgTGljaFRyaW5oVGF1YCBvYmplY3QgYXMgYSBwYXJhbWV0ZXIsIGJ1dCB0aGUgaW1wbGVtZW50YXRpb24gaW4gYExpY2hUcmluaFRhdURBT0ltcGxgIGhhcyBhbiBlbXB0eSBpbXBsZW1lbnRhdGlvbiBvZiB0aGlzIG1ldGhvZCAocmV0dXJuaW5nIGZhbHNlKSBhbmQgaW5zdGVhZCBoYXMgYSBkaWZmZXJlbnQgYGRlbGV0ZWAgbWV0aG9kIHRoYXQgdGFrZXMgYSBTdHJpbmcgSUQuXG5cbkkgbmVlZCB0byBwcm9wZXJseSBpbXBsZW1lbnQgdGhlIGBkZWxldGUoTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdSlgIG1ldGhvZCBpbiB0aGUgYExpY2hUcmluaFRhdURBT0ltcGxgIGNsYXNzLiBIZXJlJ3MgbXkgcGxhbjpcblxuMS4gVXBkYXRlIHRoZSBgZGVsZXRlKExpY2hUcmluaFRhdSBsaWNoVHJpbmhUYXUpYCBtZXRob2QgaW4gYExpY2hUcmluaFRhdURBT0ltcGxgIHRvIHByb3Blcmx5IGRlbGV0ZSB0aGUgZW50aXR5XG4yLiBLZWVwIHRoZSBleGlzdGluZyBgZGVsZXRlKFN0cmluZyBpZClgIG1ldGhvZCBhcyBhbiBhZGRpdGlvbmFsIHV0aWxpdHkgbWV0aG9kXG5cbkxldCdzIG1ha2UgdGhlc2UgY2hhbmdlczpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vTGljaFRyaW5oVGF1REFPLmphdmE6XG4gICAgIDFcdHBhY2thZ2UgZGFvO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IG1vZGVsLkxpY2hUcmluaFRhdTtcbiAgICAgNFx0XG4gICAgIDVcdGltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbiAgICAgNlx0XG4gICAgIDdcdHB1YmxpYyBpbnRlcmZhY2UgTGljaFRyaW5oVGF1REFPIHtcbiAgICAgOFx0ICAgIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRBbGxMaXN0KCk7XG4gICAgIDlcdCAgICBMaWNoVHJpbmhUYXUgZ2V0QnlJZChTdHJpbmcgaWQpO1xuICAgIDEwXHQgICAgYm9vbGVhbiBzYXZlKExpY2hUcmluaFRhdSBsaWNoVHJpbmhUYXUpO1xuICAgIDExXHQgICAgYm9vbGVhbiB1cGRhdGUoTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdSk7XG4gICAgMTJcdCAgICBib29sZWFuIGRlbGV0ZShMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1KTtcbiAgICAxM1x0fVxuICAgIDE0XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDE0XG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE3UG1DeVNHSDZYdjd4a1F3NDJ1YlhyIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmciLCJmb2xkZXJSb290IjoiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTm93IEkgdW5kZXJzdGFuZCB0aGUgc2l0dWF0aW9uLiBUaGUgYExpY2hUcmluaFRhdURBT2AgaW50ZXJmYWNlIGRlZmluZXMgYSBgZGVsZXRlYCBtZXRob2QgdGhhdCB0YWtlcyBhIGBMaWNoVHJpbmhUYXVgIG9iamVjdCBhcyBhIHBhcmFtZXRlciwgYnV0IHRoZSBpbXBsZW1lbnRhdGlvbiBpbiBgTGljaFRyaW5oVGF1REFPSW1wbGAgaGFzIGFuIGVtcHR5IGltcGxlbWVudGF0aW9uIG9mIHRoaXMgbWV0aG9kIChyZXR1cm5pbmcgZmFsc2UpIGFuZCBpbnN0ZWFkIGhhcyBhIGRpZmZlcmVudCBgZGVsZXRlYCBtZXRob2QgdGhhdCB0YWtlcyBhIFN0cmluZyBJRC5cblxuSSBuZWVkIHRvIHByb3Blcmx5IGltcGxlbWVudCB0aGUgYGRlbGV0ZShMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1KWAgbWV0aG9kIGluIHRoZSBgTGljaFRyaW5oVGF1REFPSW1wbGAgY2xhc3MuIEhlcmUncyBteSBwbGFuOlxuXG4xLiBVcGRhdGUgdGhlIGBkZWxldGUoTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdSlgIG1ldGhvZCBpbiBgTGljaFRyaW5oVGF1REFPSW1wbGAgdG8gcHJvcGVybHkgZGVsZXRlIHRoZSBlbnRpdHlcbjIuIEtlZXAgdGhlIGV4aXN0aW5nIGBkZWxldGUoU3RyaW5nIGlkKWAgbWV0aG9kIGFzIGFuIGFkZGl0aW9uYWwgdXRpbGl0eSBtZXRob2RcblxuTGV0J3MgbWFrZSB0aGVzZSBjaGFuZ2VzOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6Ijc4MjYwNmRjLTI3NGUtNDdjNS1hYmJlLTZlZGIwOGMyODY0ZiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IlBlcmZlY3QhIEkndmUgc3VjY2Vzc2Z1bGx5IGltcGxlbWVudGVkIHRoZSBgZGVsZXRlKExpY2hUcmluaFRhdSBsaWNoVHJpbmhUYXUpYCBtZXRob2QgaW4gdGhlIGBMaWNoVHJpbmhUYXVEQU9JbXBsYCBjbGFzcy4gVGhpcyBtZXRob2Qgbm93IHByb3Blcmx5IG92ZXJyaWRlcyB0aGUgbWV0aG9kIGRlZmluZWQgaW4gdGhlIGBMaWNoVHJpbmhUYXVEQU9gIGludGVyZmFjZS5cblxuSGVyZSdzIGEgc3VtbWFyeSBvZiB3aGF0IEkgZGlkOlxuXG4xLiBJIGltcGxlbWVudGVkIHRoZSBgZGVsZXRlKExpY2hUcmluaFRhdSBsaWNoVHJpbmhUYXUpYCBtZXRob2QgaW4gdGhlIGBMaWNoVHJpbmhUYXVEQU9JbXBsYCBjbGFzcyB0byBwcm9wZXJseSBkZWxldGUgYSBgTGljaFRyaW5oVGF1YCBlbnRpdHkuXG4yLiBUaGUgaW1wbGVtZW50YXRpb24gZm9sbG93cyB0aGUgc2FtZSBwYXR0ZXJuIGFzIG90aGVyIG1ldGhvZHMgaW4gdGhlIGNsYXNzOlxuICAgLSBJdCBjcmVhdGVzIGFuIEVudGl0eU1hbmFnZXIgYW5kIEVudGl0eVRyYW5zYWN0aW9uXG4gICAtIEl0IGJlZ2lucyBhIHRyYW5zYWN0aW9uXG4gICAtIEl0IGNoZWNrcyBpZiB0aGUgZW50aXR5IGlzIG1hbmFnZWQgYnkgdGhlIEVudGl0eU1hbmFnZXIsIGFuZCBpZiBub3QsIG1lcmdlcyBpdFxuICAgLSBJdCByZW1vdmVzIHRoZSBlbnRpdHlcbiAgIC0gSXQgY29tbWl0cyB0aGUgdHJhbnNhY3Rpb25cbiAgIC0gSXQgcmV0dXJucyB0cnVlIGlmIHN1Y2Nlc3NmdWwsIGZhbHNlIG90aGVyd2lzZVxuMy4gSSBrZXB0IHRoZSBleGlzdGluZyBgZGVsZXRlKFN0cmluZyBpZClgIG1ldGhvZCBhcyBhbiBhZGRpdGlvbmFsIHV0aWxpdHkgbWV0aG9kLlxuXG5UaGUgY29kZSBub3cgcHJvcGVybHkgaW1wbGVtZW50cyB0aGUgYExpY2hUcmluaFRhdURBT2AgaW50ZXJmYWNlIGFuZCBwcm92aWRlcyBhIHdheSB0byBkZWxldGUgYSBgTGljaFRyaW5oVGF1YCBlbnRpdHkgYnkgcGFzc2luZyB0aGUgZW50aXR5IG9iamVjdCBkaXJlY3RseS5cblxuSXMgdGhlcmUgYW55dGhpbmcgZWxzZSB5b3UnZCBsaWtlIG1lIHRvIGV4cGxhaW4gb3IgbW9kaWZ5IGFib3V0IHRoZSBpbXBsZW1lbnRhdGlvbj9cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9MaWNoVHJpbmhUYXVEQU9JbXBsLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICA2M1x0ICAgICAgICB9XG4gICAgNjRcdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIDY1XHQgICAgfVxuICAgIDY2XHRcbiAgICA2N1x0ICAgIEBPdmVycmlkZVxuICAgIDY4XHQgICAgcHVibGljIGJvb2xlYW4gZGVsZXRlKExpY2hUcmluaFRhdSBsaWNoVHJpbmhUYXUpIHtcbiAgICA2OVx0ICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgNzBcdCAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgIDcxXHQgICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICA3Mlx0ICAgICAgICB0cnkge1xuICAgIDczXHQgICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgIDc0XHQgICAgICAgICAgICBpZiAoIWVtLmNvbnRhaW5zKGxpY2hUcmluaFRhdSkpIHtcbiAgICA3NVx0ICAgICAgICAgICAgICAgIGxpY2hUcmluaFRhdSA9IGVtLm1lcmdlKGxpY2hUcmluaFRhdSk7XG4gICAgNzZcdCAgICAgICAgICAgIH1cbiAgICA3N1x0ICAgICAgICAgICAgZW0ucmVtb3ZlKGxpY2hUcmluaFRhdSk7XG4gICAgNzhcdCAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgIDc5XHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICA4MFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDgxXHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDgyXHQgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgIDgzXHQgICAgICAgIH1cbiAgICA4NFx0ICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgODVcdCAgICB9XG4gICAgODZcdFxuICAgIDg3XHQgICAgcHVibGljIGJvb2xlYW4gZGVsZXRlKFN0cmluZyBpZCkge1xuICAgIDg4XHQgICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICA4OVx0ICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVVCWTJkeE1iTEU1WjhVa0M0ODIyZXAifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyIsImZvbGRlclJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJQZXJmZWN0ISBJJ3ZlIHN1Y2Nlc3NmdWxseSBpbXBsZW1lbnRlZCB0aGUgYGRlbGV0ZShMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1KWAgbWV0aG9kIGluIHRoZSBgTGljaFRyaW5oVGF1REFPSW1wbGAgY2xhc3MuIFRoaXMgbWV0aG9kIG5vdyBwcm9wZXJseSBvdmVycmlkZXMgdGhlIG1ldGhvZCBkZWZpbmVkIGluIHRoZSBgTGljaFRyaW5oVGF1REFPYCBpbnRlcmZhY2UuXG5cbkhlcmUncyBhIHN1bW1hcnkgb2Ygd2hhdCBJIGRpZDpcblxuMS4gSSBpbXBsZW1lbnRlZCB0aGUgYGRlbGV0ZShMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1KWAgbWV0aG9kIGluIHRoZSBgTGljaFRyaW5oVGF1REFPSW1wbGAgY2xhc3MgdG8gcHJvcGVybHkgZGVsZXRlIGEgYExpY2hUcmluaFRhdWAgZW50aXR5LlxuMi4gVGhlIGltcGxlbWVudGF0aW9uIGZvbGxvd3MgdGhlIHNhbWUgcGF0dGVybiBhcyBvdGhlciBtZXRob2RzIGluIHRoZSBjbGFzczpcbiAgIC0gSXQgY3JlYXRlcyBhbiBFbnRpdHlNYW5hZ2VyIGFuZCBFbnRpdHlUcmFuc2FjdGlvblxuICAgLSBJdCBiZWdpbnMgYSB0cmFuc2FjdGlvblxuICAgLSBJdCBjaGVja3MgaWYgdGhlIGVudGl0eSBpcyBtYW5hZ2VkIGJ5IHRoZSBFbnRpdHlNYW5hZ2VyLCBhbmQgaWYgbm90LCBtZXJnZXMgaXRcbiAgIC0gSXQgcmVtb3ZlcyB0aGUgZW50aXR5XG4gICAtIEl0IGNvbW1pdHMgdGhlIHRyYW5zYWN0aW9uXG4gICAtIEl0IHJldHVybnMgdHJ1ZSBpZiBzdWNjZXNzZnVsLCBmYWxzZSBvdGhlcndpc2VcbjMuIEkga2VwdCB0aGUgZXhpc3RpbmcgYGRlbGV0ZShTdHJpbmcgaWQpYCBtZXRob2QgYXMgYW4gYWRkaXRpb25hbCB1dGlsaXR5IG1ldGhvZC5cblxuVGhlIGNvZGUgbm93IHByb3Blcmx5IGltcGxlbWVudHMgdGhlIGBMaWNoVHJpbmhUYXVEQU9gIGludGVyZmFjZSBhbmQgcHJvdmlkZXMgYSB3YXkgdG8gZGVsZXRlIGEgYExpY2hUcmluaFRhdWAgZW50aXR5IGJ5IHBhc3NpbmcgdGhlIGVudGl0eSBvYmplY3QgZGlyZWN0bHkuXG5cbklzIHRoZXJlIGFueXRoaW5nIGVsc2UgeW91J2QgbGlrZSBtZSB0byBleHBsYWluIG9yIG1vZGlmeSBhYm91dCB0aGUgaW1wbGVtZW50YXRpb24/XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InJlcXVlc3RfaWQiOiJiMTBmMDkwYi1hYjEzLTQ0MDktOTRjMy01ODgwZWEyNjFhNDAiLCJzdGF0dXMiOiJjYW5jZWxsZWQiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLXR1cm4tZGVsaW1pdGVyIn0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjE3MTEzODgzLWI3MTEtNDIzMi04MzUyLWRkNTdkYTE3OGNmNSIsInJlcXVlc3RfbWVzc2FnZSI6ImZpeCBnZXRMaXN0VHV5ZW5UYXVCeUdhRGlHYURlbiIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJmaXggZ2V0TGlzdFR1eWVuVGF1QnlHYURpR2FEZW4ifV19XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDE5ZzFUV25GaDM3RFV2SG1SN0VUTnh5IiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJGaW5kIHRoZSBUdXllblRhdURBT0ltcGwgYW5kIFR1eWVuVGF1REFPIGNsYXNzZXMgdG8gZXhhbWluZSB0aGUgZ2V0TGlzdFR1eWVuVGF1QnlHYURpR2FEZW4gbWV0aG9kIGltcGxlbWVudGF0aW9uLlwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSSdsbCBoZWxwIHlvdSBmaXggdGhlIGBnZXRMaXN0VHV5ZW5UYXVCeUdhRGlHYURlbmAgbWV0aG9kLiBMZXQgbWUgZmlyc3QgZXhhbWluZSB0aGUgY3VycmVudCBpbXBsZW1lbnRhdGlvbiB0byB1bmRlcnN0YW5kIHdoYXQgbmVlZHMgdG8gYmUgZml4ZWQuXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjowLCJ0ZXh0X25vZGUiOnsiY29udGVudCI6ImZpeCBnZXRMaXN0VHV5ZW5UYXVCeUdhRGlHYURlbiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nIiwiZm9sZGVyUm9vdCI6IkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkknbGwgaGVscCB5b3UgZml4IHRoZSBgZ2V0TGlzdFR1eWVuVGF1QnlHYURpR2FEZW5gIG1ldGhvZC4gTGV0IG1lIGZpcnN0IGV4YW1pbmUgdGhlIGN1cnJlbnQgaW1wbGVtZW50YXRpb24gdG8gdW5kZXJzdGFuZCB3aGF0IG5lZWRzIHRvIGJlIGZpeGVkLlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImY2ZjZjYWU2LWE1YTctNGQ5YS1iZDc0LTliOWE0MmRjM2JlMiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVB5ampxNEtZM21nc1doMlBpVXo4OEgiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9UdXllblRhdURBT0ltcGwuamF2YVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IEkgbmVlZCB0byBjaGVjayBpZiB0aGVyZSBhcmUgYW55IGlzc3VlcyB3aXRoIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIHRoZSBgZ2V0TGlzdFR1eWVuVGF1QnlHYURpR2FEZW5gIG1ldGhvZC4gTGV0IG1lIGxvb2sgYXQgdGhlIGFjdHVhbCBpbXBsZW1lbnRhdGlvbiBpbiB0aGUgYFR1eWVuVGF1REFPSW1wbGAgY2xhc3M6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1R1eWVuVGF1REFPSW1wbC5qYXZhXG4uLi5cblxuXG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgVHV5ZW5UYXVEQU9JbXBsIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG4gICAgcHVibGljIExpc3Q8VHV5ZW5UYXU+IGdldExpc3RUdXllblRhdUJ5R2FEaUdhRGVuKFN0cmluZyBnYURpLCBTdHJpbmcgZ2FEZW4pIHtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQnlHYURpR2FEZW5cIiwgVHV5ZW5UYXUuY2xhc3MpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImdhRGlcIiwgZ2FEaSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZ2FEZW5cIixnYURlbilcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBMaXN0PFR1eWVuVGF1PiBnZXRMaXN0VHV5ZW5UYXUoKXtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQWxsXCIsIFR1eWVuVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIFR1eWVuVGF1IGdldFR1eWVuVGF1QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVHV5ZW5UYXUuY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgIGJvb2xlYW4gc2F2ZShUdXllblRhdSB0dXllblRhdSl7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5wZXJzaXN0KHR1eWVuVGF1KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaChFeGNlcHRpb24gZSl7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1R1eWVuVGF1REFPLmphdmFcbi4uLlxuXG5cbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBUdXllblRhdURBTyB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuICAgIHB1YmxpYyBMaXN0PFR1eWVuVGF1PiBnZXRMaXN0VHV5ZW5UYXVCeUdhRGlHYURlbihTdHJpbmcgZ2FEaSwgU3RyaW5nIGdhRGVuKSB7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiVHV5ZW5UYXUuZmluZEJ5R2FEaUdhRGVuXCIsIFR1eWVuVGF1LmNsYXNzKVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJnYURpXCIsIGdhRGkpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImdhRGVuXCIsZ2FEZW4pXG4gICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgTGlzdDxUdXllblRhdT4gZ2V0TGlzdFR1eWVuVGF1KCl7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiVHV5ZW5UYXUuZmluZEFsbFwiLCBUdXllblRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBUdXllblRhdSBnZXRUdXllblRhdUJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIHJldHVybiBlbS5maW5kKFR1eWVuVGF1LmNsYXNzLCBpZCk7XG4gICAgfVxuXG4gICAgcHVibGljICBib29sZWFuIHNhdmUoVHV5ZW5UYXUgdHV5ZW5UYXUpe1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgICAgICAgICAgZW0ucGVyc2lzdCh0dXllblRhdSk7XG4gICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9Y2F0Y2goRXhjZXB0aW9uIGUpe1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vVHV5ZW5UYXVEQU8uamF2YVxuLi4uXG5cblxuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIFR1eWVuVGF1REFPIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG4gICAgcHVibGljIExpc3Q8VHV5ZW5UYXU+IGdldExpc3RUdXllblRhdUJ5R2FEaUdhRGVuKFN0cmluZyBnYURpLCBTdHJpbmcgZ2FEZW4pIHtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQnlHYURpR2FEZW5cIiwgVHV5ZW5UYXUuY2xhc3MpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImdhRGlcIiwgZ2FEaSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZ2FEZW5cIixnYURlbilcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBMaXN0PFR1eWVuVGF1PiBnZXRMaXN0VHV5ZW5UYXUoKXtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQWxsXCIsIFR1eWVuVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIFR1eWVuVGF1IGdldFR1eWVuVGF1QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVHV5ZW5UYXUuY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgIGJvb2xlYW4gc2F2ZShUdXllblRhdSB0dXllblRhdSl7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5wZXJzaXN0KHR1eWVuVGF1KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaChFeGNlcHRpb24gZSl7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1RvYVRhdURBT0ltcGwuamF2YVxuLi4uXG5cbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBUb2FUYXVEQU9JbXBsIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW0gO1xuXG5cbiAgICBwdWJsaWMgTGlzdDxUb2FUYXU+IGxpc3RUb2FUYXVCeVNvR2hlKGludCBmb3JtLCBpbnQgdG8pe1xuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcInNlbGVjdCB0dCBmcm9tIFRvYVRhdSB0dCBcIitcbiAgICAgICAgICAgICAgICBcIndoZXJlIHNvR2hlIGJldHdlZW4gOmZvcm0gYW5kIDp0b1wiO1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlUXVlcnkocXVlcnkpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImZvcm1cIiwgZm9ybSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwidG9cIiwgdG8pXG4gICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgTGlzdDxUb2FUYXU+IGdldGxpc3RUb2FUYXUoKSB7XG4gICAgICAgIExpc3Q8VG9hVGF1PiBsaXN0VG9hVGF1ID0gbnVsbDtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICAgICAgbGlzdFRvYVRhdSA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IHR0IGZyb20gVG9hVGF1IHR0XCIsIFRvYVRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4bqleSBkYW5oIHPDoWNoIFRvYVRhdSB0aMOgbmggY8O0bmdcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG6pXkgZGFuaCBzw6FjaCBUb2FUYXUgdGjhuqV0IGLhuqFpXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0VG9hVGF1O1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9Ub2FUYXVEQU8uamF2YVxuLi4uXG5cbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBUb2FUYXVEQU8ge1xuICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbSA7XG5cblxuICAgIHB1YmxpYyBMaXN0PFRvYVRhdT4gbGlzdFRvYVRhdUJ5U29HaGUoaW50IGZvcm0sIGludCB0byl7XG4gICAgICAgIFN0cmluZyBxdWVyeSA9IFwic2VsZWN0IHR0IGZyb20gVG9hVGF1IHR0IFwiK1xuICAgICAgICAgICAgICAgIFwid2hlcmUgc29HaGUgYmV0d2VlbiA6Zm9ybSBhbmQgOnRvXCI7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVRdWVyeShxdWVyeSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZm9ybVwiLCBmb3JtKVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJ0b1wiLCB0bylcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBMaXN0PFRvYVRhdT4gZ2V0bGlzdFRvYVRhdSgpIHtcbiAgICAgICAgTGlzdDxUb2FUYXU+IGxpc3RUb2FUYXUgPSBudWxsO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgICAgICBsaXN0VG9hVGF1ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgdHQgZnJvbSBUb2FUYXUgdHRcIiwgVG9hVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhuqV5IGRhbmggc8OhY2ggVG9hVGF1IHRow6BuaCBjw7RuZ1wiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4bqleSBkYW5oIHPDoWNoIFRvYVRhdSB0aOG6pXQgYuG6oWlcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3RUb2FUYXU7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9Ub2FUYXVEQU8uamF2YVxuLi4uXG5cbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBUb2FUYXVEQU8ge1xuICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbSA7XG5cblxuICAgIHB1YmxpYyBMaXN0PFRvYVRhdT4gbGlzdFRvYVRhdUJ5U29HaGUoaW50IGZvcm0sIGludCB0byl7XG4gICAgICAgIFN0cmluZyBxdWVyeSA9IFwic2VsZWN0IHR0IGZyb20gVG9hVGF1IHR0IFwiK1xuICAgICAgICAgICAgICAgIFwid2hlcmUgc29HaGUgYmV0d2VlbiA6Zm9ybSBhbmQgOnRvXCI7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVRdWVyeShxdWVyeSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZm9ybVwiLCBmb3JtKVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJ0b1wiLCB0bylcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBMaXN0PFRvYVRhdT4gZ2V0bGlzdFRvYVRhdSgpIHtcbiAgICAgICAgTGlzdDxUb2FUYXU+IGxpc3RUb2FUYXUgPSBudWxsO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgICAgICBsaXN0VG9hVGF1ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgdHQgZnJvbSBUb2FUYXUgdHRcIiwgVG9hVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhuqV5IGRhbmggc8OhY2ggVG9hVGF1IHRow6BuaCBjw7RuZ1wiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4bqleSBkYW5oIHPDoWNoIFRvYVRhdSB0aOG6pXQgYuG6oWlcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3RUb2FUYXU7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xpY2hUcmluaFRhdURBT0ltcGwuamF2YVxuLi4uXG5cbnB1YmxpYyBjbGFzcyBMaWNoVHJpbmhUYXVEQU9JbXBsIHtcbiAgICBwdWJsaWMgTGlzdDxMaWNoVHJpbmhUYXU+IGdldEFsbExpc3QoKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIExpc3Q8TGljaFRyaW5oVGF1PiBsaXN0ID0gbnVsbDtcbiAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShcInNlbGVjdCBsdHQgZnJvbSBMaWNoVHJpbmhUYXUgbHR0XCIsIExpY2hUcmluaFRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggTGljaFRyaW5oVGF1XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBMaWNoVHJpbmhUYXUgZ2V0QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoTGljaFRyaW5oVGF1LmNsYXNzLCBpZCk7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1ZlVGF1REFPSW1wbC5qYXZhXG4uLi5cblxucHVibGljIGNsYXNzIFZlVGF1REFPSW1wbCB7XG4gICAgcHVibGljIExpc3Q8VmVUYXU+IGdldEFsbExpc3QoKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIExpc3Q8VmVUYXU+IGxpc3QgPSBudWxsO1xuICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IHZ0IGZyb20gVmVUYXUgdnRcIiwgVmVUYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSBs4bqleSBkYW5oIHPDoWNoIFZlVGF1XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBWZVRhdSBnZXRCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICByZXR1cm4gZW0uZmluZChWZVRhdS5jbGFzcywgaWQpO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9UYXVEQU9JbXBsLmphdmFcbi4uLlxuXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgVGF1REFPSW1wbCB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgcHVibGljIExpc3Q8VGF1PiBnZXRBbGxMaXN0VCgpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICBMaXN0PFRhdT4gbGlzdCA9IG51bGw7XG4gICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgdCBmcm9tIFRhdSB0XCIsIFRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgVGF1IGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVGF1LmNsYXNzLCBpZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gc2F2ZShUYXUgdCkge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgICAgICAgICAgZW0ucGVyc2lzdCh0KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9WZVRhdURBTy5qYXZhXG4uLi5cblxucHVibGljIGNsYXNzIFZlVGF1REFPIHtcbiAgICBwdWJsaWMgTGlzdDxWZVRhdT4gZ2V0QWxsTGlzdCgpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgTGlzdDxWZVRhdT4gbGlzdCA9IG51bGw7XG4gICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgdnQgZnJvbSBWZVRhdSB2dFwiLCBWZVRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggVmVUYXVcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgcHVibGljIFZlVGF1IGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHJldHVybiBlbS5maW5kKFZlVGF1LmNsYXNzLCBpZCk7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL21vZGVsL1R1eWVuVGF1LmphdmFcbnBhY2thZ2UgbW9kZWw7XG5cbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLio7XG5pbXBvcnQgbG9tYm9rLkRhdGE7XG5pbXBvcnQgbG9tYm9rLkVxdWFsc0FuZEhhc2hDb2RlO1xuaW1wb3J0IGxvbWJvay5Ub1N0cmluZztcblxuaW1wb3J0IGphdmEudXRpbC5TZXQ7XG5cbkBEYXRhXG5ARW50aXR5XG5AVGFibGUobmFtZSA9IFwidHV5ZW50YXVcIilcbkBFcXVhbHNBbmRIYXNoQ29kZShvbmx5RXhwbGljaXRseUluY2x1ZGVkID0gdHJ1ZSlcbkBOYW1lZE5hdGl2ZVF1ZXJpZXMoe1xuICAgICAgICBATmFtZWROYXRpdmVRdWVyeShuYW1lID0gXCJUdXllblRhdS5maW5kQnlHYURpR2FEZW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeSA9IFwic2VsZWN0ICogZnJvbSB0dXllbnRhdSB3aGVyZSBnYV9kaSA9IDpnYURpIGFuZCBnYV9kZW4gPSA6Z2FEZW5cIixcbiAgICAgICAgcmVzdWx0Q2xhc3MgPSBUdXllblRhdS5jbGFzcyksXG4gICAgICAgIEBOYW1lZE5hdGl2ZVF1ZXJ5KG5hbWUgPSBcIlR1eWVuVGF1LmZpbmRBbGxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeSA9IFwic2VsZWN0ICogZnJvbSB0dXllbnRhdVwiLFxuICAgICAgICByZXN1bHRDbGFzcyA9IFR1eWVuVGF1LmNsYXNzKVxufSlcbnB1YmxpYyBjbGFzcyBUdXllblRhdSB7XG4gICAgQElkXG4gICAgQENvbHVtbihuYW1lID0gXCJtYV90dXllblwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIix1bmlxdWUgPSB0cnVlLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIEBFcXVhbHNBbmRIYXNoQ29kZS5JbmNsdWRlXG4gICAgcHJpdmF0ZSBTdHJpbmcgbWFUdXllbjtcbiAgICBAQ29sdW1uKG5hbWUgPSBcInRlbl90dXllblwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSApXG4gICAgQEVxdWFsc0FuZEhhc2hDb2RlLkV4Y2x1ZGVcbiAgICBwcml2YXRlIFN0cmluZyB0ZW5UdXllbjtcbiAgICBAQ29sdW1uKG5hbWUgPSBcImdhX2RpXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcInZhcmNoYXIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlIClcbiAgICBARXF1YWxzQW5kSGFzaENvZGUuRXhjbHVkZVxuICAgIHByaXZhdGUgU3RyaW5nIGdhRGk7XG4gICAgQENvbHVtbihuYW1lID0gXCJnYV9kZW5cIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UgKVxuICAgIEBFcXVhbHNBbmRIYXNoQ29kZS5FeGNsdWRlXG4gICAgcHJpdmF0ZSBTdHJpbmcgZ2FEZW47XG4gICAgQENvbHVtbihuYW1lID0gXCJkaWFfZGllbV9kaVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSApXG4gICAgQEVxdWFsc0FuZEhhc2hDb2RlLkV4Y2x1ZGVcbiAgICBwcml2YXRlIFN0cmluZyBkaWFEaWVtRGk7XG4gICAgQENvbHVtbihuYW1lID0gXCJkaWFfZGllbV9kZW5cIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UgKVxuICAgIEBFcXVhbHNBbmRIYXNoQ29kZS5FeGNsdWRlXG4gICAgcHJpdmF0ZSBTdHJpbmcgZGlhRGllbURlbjtcbiAgICBAT25lVG9NYW55KG1hcHBlZEJ5ID0gXCJ0dXllblRhdVwiLCBjYXNjYWRlID0gQ2FzY2FkZVR5cGUuQUxMLCBvcnBoYW5SZW1vdmFsID0gdHJ1ZSlcbiAgICBAVG9TdHJpbmcuRXhjbHVkZVxuICAgIHByaXZhdGUgU2V0PFRhdT4gZGFuaFNhY2hUYXU7XG59XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvbW9kZWwvVGF1LmphdmFcbi4uLlxuXG5ARGF0YVxuQEVudGl0eVxuQEVxdWFsc0FuZEhhc2hDb2RlKG9ubHlFeHBsaWNpdGx5SW5jbHVkZWQgPSB0cnVlKVxuQFRhYmxlKG5hbWUgPSBcInRhdVwiKVxucHVibGljIGNsYXNzIFRhdSB7XG4gICAgQElkXG4gICAgQEVxdWFsc0FuZEhhc2hDb2RlLkluY2x1ZGVcbiAgICBAQ29sdW1uKG5hbWUgPSBcIm1hX3RhdVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSwgdW5pcXVlID0gdHJ1ZSlcbiAgICBwcml2YXRlIFN0cmluZyBtYVRhdTsgLy8gTcOjIHTDoHVcbiAgICBAQ29sdW1uKG5hbWUgPSBcInRlbl90YXVcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgQEVxdWFsc0FuZEhhc2hDb2RlLkV4Y2x1ZGVcbiAgICBwcml2YXRlIFN0cmluZyB0ZW5UYXU7XG4gICAgQENvbHVtbihuYW1lID0gXCJzb190b2FcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBARXF1YWxzQW5kSGFzaENvZGUuRXhjbHVkZS8vIFTDqm4gdMOgdVxuICAgIHByaXZhdGUgaW50IHNvVG9hO1xuICAgIC8vIFPhu5EgdG9hXG4gICAgQE1hbnlUb09uZShmZXRjaCA9IEZldGNoVHlwZS5MQVpZKVxuICAgIEBUb1N0cmluZy5FeGNsdWRlXG4gICAgQEpvaW5Db2x1bW4obmFtZSA9IFwibWFfdHV5ZW5cIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIFR1eWVuVGF1IHR1eWVuVGF1OyAvLyDEkOG7kWkgdMaw4bujbmcgVHV5ZW5UYXVcblxuICAgIEBPbmVUb01hbnkobWFwcGVkQnkgPSBcInRhdVwiLCBjYXNjYWRlID0gQ2FzY2FkZVR5cGUuQUxMLCBvcnBoYW5SZW1vdmFsID0gdHJ1ZSlcbiAgICBAVG9TdHJpbmcuRXhjbHVkZVxuICAgIHByaXZhdGUgU2V0PFRvYVRhdT4gZGFuaFNhY2hUb2FUYXU7XG5cbiAgICBAT25lVG9NYW55KG1hcHBlZEJ5ID0gXCJ0YXVcIiwgY2FzY2FkZSA9IENhc2NhZGVUeXBlLkFMTCwgb3JwaGFuUmVtb3ZhbCA9IHRydWUpXG4gICAgQFRvU3RyaW5nLkV4Y2x1ZGVcbiAgICBwcml2YXRlIFNldDxMaWNoVHJpbmhUYXU+IExpY2hUcmluaFRhdTtcbn1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9tb2RlbC9Ub2FUYXUuamF2YVxuLi4uXG5cbnB1YmxpYyBjbGFzcyBUb2FUYXUge1xuXG4gICAgQElkXG4gICAgQEVxdWFsc0FuZEhhc2hDb2RlLkluY2x1ZGVcbiAgICBAQ29sdW1uKG5hbWUgPSBcIm1hX3RvYVwiLGNvbHVtbkRlZmluaXRpb24gPSBcInZhcmNoYXIoMjU1KVwiLG51bGxhYmxlID0gZmFsc2UsIHVuaXF1ZSA9IHRydWUpXG4gICAgcHJpdmF0ZSBTdHJpbmcgbWFUb2E7XG5cbiAgICBAQ29sdW1uKG5hbWUgPSBcInRlbl90b2FcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBTdHJpbmcgdGVuVG9hO1xuXG4gICAgQENvbHVtbihuYW1lID0gXCJzb19naGVcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIGludCBzb0doZTtcblxuICAgIEBDb2x1bW4obmFtZSA9IFwidGh1X3R1XCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBpbnQgdGh1VHU7XG5cbiAgICBAT25lVG9NYW55KG1hcHBlZEJ5ID0gXCJ0b2FUYXVcIiwgY2FzY2FkZSA9IENhc2NhZGVUeXBlLkFMTCwgb3JwaGFuUmVtb3ZhbCA9IHRydWUpXG4gICAgQFRvU3RyaW5nLkV4Y2x1ZGVcbiAgICBwcml2YXRlIFNldDxDaG9OZ29pPiBkYW5oU2FjaENob05nb2k7XG5cbiAgICBATWFueVRvT25lKGZldGNoID0gRmV0Y2hUeXBlLkxBWlkpXG4gICAgQEpvaW5Db2x1bW4obmFtZSA9IFwibWFfbG9haV90b2FcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBAVG9TdHJpbmcuRXhjbHVkZVxuICAgIHByaXZhdGUgTG9haVRvYSBsb2FpVG9hO1xuXG4gICAgQE1hbnlUb09uZShmZXRjaCA9IEZldGNoVHlwZS5MQVpZKVxuICAgIEBKb2luQ29sdW1uKG5hbWUgPSBcIm1hX3RhdVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIHByaXZhdGUgVGF1IHRhdTtcbn1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9tb2RlbC9MaWNoVHJpbmhUYXUuamF2YVxuLi4uXG5cbkBFbnRpdHlcbkBEYXRhXG5ARXF1YWxzQW5kSGFzaENvZGUob25seUV4cGxpY2l0bHlJbmNsdWRlZCA9IHRydWUpXG5AVGFibGUobmFtZSA9IFwibGljaHRyaW5odGF1XCIpXG5wdWJsaWMgY2xhc3MgTGljaFRyaW5oVGF1IHtcbiAgICBASWRcbiAgICBAQ29sdW1uKG5hbWUgPSBcIm1hX2xpY2hcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiVkFSQ0hBUigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UsdW5pcXVlID0gdHJ1ZSlcbiAgICBwcml2YXRlICBTdHJpbmcgbWFMaWNoO1xuICAgIEBDb2x1bW4obmFtZSA9IFwiZ2lvX2RpXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcIlRJTUVcIixudWxsYWJsZSA9IGZhbHNlKVxuICAgIHByaXZhdGUgTG9jYWxUaW1lIGdpb0RpO1xuICAgIEBDb2x1bW4obmFtZSA9IFwibmdheV9kaVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJEQVRFXCIsbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIExvY2FsRGF0ZSBuZ2F5RGk7XG4gICAgQENvbHVtbihuYW1lID0gXCJ0cmFuZ190aGFpXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcIk5WQVJDSEFSKDUwKVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIHByaXZhdGUgU3RyaW5nIHRyYW5nVGhhaTtcblxuICAgIEBNYW55VG9PbmVcbiAgICBASm9pbkNvbHVtbihuYW1lID0gXCJ0YXVfbWFfdGF1XCIsIHJlZmVyZW5jZWRDb2x1bW5OYW1lID0gXCJtYV90YXVcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIFRhdSB0YXU7XG5cbiAgICBAT25lVG9NYW55KG1hcHBlZEJ5ID0gXCJsaWNoVHJpbmhUYXVcIilcbiAgICBAVG9TdHJpbmcuRXhjbHVkZVxuICAgIHByaXZhdGUgU2V0PFZlVGF1PiB2ZV90YXVzO1xufVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL21vZGVsL1ZlVGF1LmphdmFcbi4uLlxuXG5ARW50aXR5XG5ARGF0YVxuQEVxdWFsc0FuZEhhc2hDb2RlKG9ubHlFeHBsaWNpdGx5SW5jbHVkZWQgPSB0cnVlKVxuQFRhYmxlKG5hbWUgPSBcInZldGF1XCIpXG5wdWJsaWMgY2xhc3MgVmVUYXUge1xuICAgIEBJZFxuICAgIEBDb2x1bW4obmFtZSA9IFwibWFfdmVcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiVkFSQ0hBUigyNTUpXCIsIHVuaXF1ZSA9IHRydWUsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBTdHJpbmcgbWFWZTtcbiAgICBAQ29sdW1uKG5hbWUgPSBcInRlbl9raGFjaF9oYW5nXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcIlZBUkNIQVIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuXG4gICAgcHJpdmF0ZSBTdHJpbmcgdGVuS2hhY2hIYW5nO1xuICAgIEBDb2x1bW4obmFtZSA9IFwiZ2lheV90b1wiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJWQVJDSEFSKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSlcblxuICAgIHByaXZhdGUgU3RyaW5nIGdpYXlUbztcbiAgICBAQ29sdW1uKG5hbWUgPSBcIm5nYXlfZGlcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiREFURVwiLG51bGxhYmxlID0gZmFsc2UpXG5cbiAgICBwcml2YXRlIExvY2FsRGF0ZSBuZ2F5RGk7XG4gICAgQENvbHVtbihuYW1lID0gXCJkb2lfdHVvbmdcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiVkFSQ0hBUigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UpXG5cbiAgICBwcml2YXRlIFN0cmluZyBkb2lUdW9uZztcbiAgICBAQ29sdW1uKG5hbWUgPSBcImdpYV92ZVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJGTE9BVFwiLCBudWxsYWJsZSA9IGZhbHNlKVxuXG4gICAgcHJpdmF0ZSBkb3VibGUgZ2lhVmU7XG4gICAgQENvbHVtbihuYW1lID0gXCJ0cmFuZ190aGFpXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcIlZBUkNIQVIoMjU1KVwiLG51bGxhYmxlID0gZmFsc2UpXG5cbiAgICBwcml2YXRlIFN0cmluZyB0cmFuZ1RoYWk7XG5cbiAgICBATWFueVRvT25lXG4gICAgQEpvaW5Db2x1bW4obmFtZSA9IFwibGljaF90cmluaF90YXVfbWFfbGljaFwiLCByZWZlcmVuY2VkQ29sdW1uTmFtZSA9IFwibWFfbGljaFwiKVxuICAgIHByaXZhdGUgTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdTtcblxuICAgIEBNYW55VG9PbmVcbiAgICBASm9pbkNvbHVtbihuYW1lID0gXCJraHV5ZW5fbWFpX21hX2ttXCIsIHJlZmVyZW5jZWRDb2x1bW5OYW1lID0gXCJtYV9rbVwiKVxuICAgIHByaXZhdGUgS2h1eWVuTWFpIGtodXllbk1haTtcblxuICAgIEBPbmVUb09uZVxuICAgIEBKb2luQ29sdW1uKG5hbWUgPSBcImNob19uZ29pX21hX2Nob1wiLHJlZmVyZW5jZWRDb2x1bW5OYW1lID0gXCJtYV9jaG9cIilcbiAgICAgcHJpdmF0ZSBDaG9OZ29pIGNob05nb2k7XG5cbi8vICAgIEBNYW55VG9NYW55KG1hcHBlZEJ5ID0gXCJ2ZVRhdXNcIilcbi8vICAgIHByaXZhdGUgU2V0PEhvYURvbj4gaG9hRG9ucztcblxuICAgIC8vIE3hu5FpIHF1YW4gaOG7hyB24bubaSBDaGlUaWV0SG9hRG9uXG4gICAgQE9uZVRvTWFueShtYXBwZWRCeSA9IFwidmVUYXVcIiwgZmV0Y2ggPSBGZXRjaFR5cGUuTEFaWSlcbiAgICBwcml2YXRlIFNldDxDaGlUaWV0SG9hRG9uPiBjaGlUaWV0SG9hRG9ucztcblxufVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9LaGFjaEhhbmdEQU8uamF2YVxuLi4uXG5cbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBLaGFjaEhhbmdEQU8ge1xuXG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgLy8gTOG6pXkgZGFuaCBzw6FjaCBraMOhY2ggaMOgbmcgdGhlbyB0w6puXG4gICAgcHVibGljIExpc3Q8S2hhY2hIYW5nPiBsaXN0S2hhY2hIYW5nc0J5TmFtZShTdHJpbmcgbmFtZSkge1xuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcInNlbGVjdCBraCBmcm9tIEtoYWNoSGFuZyBraCB3aGVyZSBraC50ZW5LaGFjaEhhbmcgbGlrZSA6bmFtZVwiO1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlUXVlcnkocXVlcnksIEtoYWNoSGFuZy5jbGFzcylcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwibmFtZVwiLCBcIiVcIiArIG5hbWUgKyBcIiVcIilcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIC8vIEzhuqV5IGRhbmggc8OhY2gga2jDoWNoIGjDoG5nIGPDsyDEkWnhu4NtIHTDrWNoIGzFqXkgdHJvbmcga2hv4bqjbmdcbiAgICBwdWJsaWMgTGlzdDxLaGFjaEhhbmc+IGxpc3RLaGFjaEhhbmdzQnlQb2ludHMoZG91YmxlIGZyb20sIGRvdWJsZSB0bykge1xuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcInNlbGVjdCBraCBmcm9tIEtoYWNoSGFuZyBraCB3aGVyZSBraC5kaWVtVGljaEx1eSBiZXR3ZWVuIDpmcm9tIGFuZCA6dG9cIjtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5LCBLaGFjaEhhbmcuY2xhc3MpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImZyb21cIiwgZnJvbSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwidG9cIiwgdG8pXG4gICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL1NjcmlwdC9zY3JpcHQuc3FsXG5zZWxlY3QgKiBmcm9tIHRvYXRhdTtcbnNlbGVjdCAqIGZyb20gdGF1O1xuc2VsZWN0ICogZnJvbSB0dXllbnRhdTtcbnNlbGVjdCAqIGZyb20gbG9haXRvYTtcbiNuYXRpdmUgcXVlcnlcbnNlbGVjdCAqIGZyb20gdG9hdGF1IHdoZXJlIHNvX2doZSBiZXR3ZWVuIDc1IGFuZCA4MDtcbnNlbGVjdCAqIGZyb20gdHV5ZW50YXUgd2hlcmUgZ2FfZGkgPSBcIk1heW1lIENlbnRlcnNcIiBhbmQgZ2FfZGVuID0gXCJIZWxsZXIgQ2xpZmZcIjtcbnNlbGVjdCAqIGZyb20gdGFpa2hvYW47XG5zZWxlY3QgKiBmcm9tIG5oYW52aWVuO1xuc2VsZWN0ICogZnJvbSBsaWNobGFtdmllYzsuLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvbW9kZWwvTG9haVRvYS5qYXZhXG5wYWNrYWdlIG1vZGVsO1xuXG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS4qO1xuaW1wb3J0IGxvbWJvay5EYXRhO1xuaW1wb3J0IGxvbWJvay5FcXVhbHNBbmRIYXNoQ29kZTtcbmltcG9ydCBsb21ib2suVG9TdHJpbmc7XG5cbmltcG9ydCBqYXZhLnV0aWwuU2V0O1xuXG5ARGF0YVxuQEVxdWFsc0FuZEhhc2hDb2RlKG9ubHlFeHBsaWNpdGx5SW5jbHVkZWQgPSB0cnVlKVxuQEVudGl0eVxuQFRhYmxlKG5hbWUgPSBcIkxvYWlUb2FcIilcbkBOYW1lZE5hdGl2ZVF1ZXJpZXMoe1xuICAgICAgICBATmFtZWROYXRpdmVRdWVyeShuYW1lID0gXCJMb2FpVG9hLmZpbmRBbGxcIixcbiAgICAgICAgICAgICAgICBxdWVyeSA9IFwic2VsZWN0ICogZnJvbSBsb2FpdG9hXCIsXG4gICAgICAgICAgICAgICAgcmVzdWx0Q2xhc3MgPSBMb2FpVG9hLmNsYXNzKSxcbiAgICAgICAgQE5hbWVkTmF0aXZlUXVlcnkobmFtZSA9IFwiTG9haVRvYS5maW5kQnlJRFwiLFxuICAgICAgICAgICAgICAgIHF1ZXJ5ID0gXCJzZWxlY3QgKiBmcm9tIGxvYWl0b2Egd2hlcmUgbWFfbG9haV90b2EgbGlrZSA6bWFMb2FpVG9hXCIsXG4gICAgICAgICAgICAgICAgcmVzdWx0Q2xhc3MgPSBMb2FpVG9hLmNsYXNzKVxufSlcbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9tb2RlbC9UYWlLaG9hbi5qYXZhXG4uLi5cblxuQERhdGFcbkBFbnRpdHlcbkBFcXVhbHNBbmRIYXNoQ29kZShvbmx5RXhwbGljaXRseUluY2x1ZGVkID0gdHJ1ZSlcbkBUYWJsZShuYW1lID0gXCJ0YWlraG9hblwiKVxucHVibGljIGNsYXNzIFRhaUtob2FuIHtcbiAgICBASWRcbiAgICBARXF1YWxzQW5kSGFzaENvZGUuSW5jbHVkZVxuICAgIEBDb2x1bW4obmFtZSA9IFwibWFfbnZcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UsIHVuaXF1ZSA9IHRydWUpXG4gICAgcHJpdmF0ZSBTdHJpbmcgbWFOVjsgLy8gTcOjIHTDoGkga2hv4bqjblxuXG4gICAgQENvbHVtbihuYW1lID0gXCJwYXNzd29yZFwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIFN0cmluZyBwYXNzV29yZDsgLy8gTeG6rXQga2jhuql1XG5cbiAgICAvLyBN4buZdCB0w6BpIGtob+G6o24gY2jhu4kgdGh14buZYyB24buBIG3hu5l0IG5ow6JuIHZpw6puXG4vLyAgICBAT25lVG9PbmVcbi8vICAgIEBKb2luQ29sdW1uKG5hbWUgPSBcIm1hX252XCIsIHJlZmVyZW5jZWRDb2x1bW5OYW1lID0gXCJtYV9udlwiLCB1bmlxdWUgPSB0cnVlKVxuLy8gICAgcHJpdmF0ZSBOaGFuVmllbiBuaGFuVmllbjtcbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9LaGFjaEhhbmdEQU8uamF2YVxuLi4uXG5cbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBLaGFjaEhhbmdEQU8ge1xuXG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgLy8gTOG6pXkgZGFuaCBzw6FjaCBraMOhY2ggaMOgbmcgdGhlbyB0w6puXG4gICAgcHVibGljIExpc3Q8S2hhY2hIYW5nPiBsaXN0S2hhY2hIYW5nc0J5TmFtZShTdHJpbmcgbmFtZSkge1xuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcInNlbGVjdCBraCBmcm9tIEtoYWNoSGFuZyBraCB3aGVyZSBraC50ZW5LaGFjaEhhbmcgbGlrZSA6bmFtZVwiO1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlUXVlcnkocXVlcnksIEtoYWNoSGFuZy5jbGFzcylcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwibmFtZVwiLCBcIiVcIiArIG5hbWUgKyBcIiVcIilcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIC8vIEzhuqV5IGRhbmggc8OhY2gga2jDoWNoIGjDoG5nIGPDsyDEkWnhu4NtIHTDrWNoIGzFqXkgdHJvbmcga2hv4bqjbmdcbiAgICBwdWJsaWMgTGlzdDxLaGFjaEhhbmc+IGxpc3RLaGFjaEhhbmdzQnlQb2ludHMoZG91YmxlIGZyb20sIGRvdWJsZSB0bykge1xuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcInNlbGVjdCBraCBmcm9tIEtoYWNoSGFuZyBraCB3aGVyZSBraC5kaWVtVGljaEx1eSBiZXR3ZWVuIDpmcm9tIGFuZCA6dG9cIjtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5LCBLaGFjaEhhbmcuY2xhc3MpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImZyb21cIiwgZnJvbSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwidG9cIiwgdG8pXG4gICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvbW9kZWwvTG9haUNoby5qYXZhXG5wYWNrYWdlIG1vZGVsO1xuXG5pLi4uIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMTlnMVRXbkZoMzdEVXZIbVI3RVROeHkifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyIsImZvbGRlclJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJOb3cgSSBuZWVkIHRvIGNoZWNrIGlmIHRoZXJlIGFyZSBhbnkgaXNzdWVzIHdpdGggdGhlIGN1cnJlbnQgaW1wbGVtZW50YXRpb24gb2YgdGhlIGBnZXRMaXN0VHV5ZW5UYXVCeUdhRGlHYURlbmAgbWV0aG9kLiBMZXQgbWUgbG9vayBhdCB0aGUgYWN0dWFsIGltcGxlbWVudGF0aW9uIGluIHRoZSBgVHV5ZW5UYXVEQU9JbXBsYCBjbGFzczpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJiZjc1MzYyNi05ZWU5LTRiM2QtOGI0MS0xZWE4OTc0NmQ3ODQiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE2dUFwUEJXcXFndjNhZXU3cDNzZXZhIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcIkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvbW9kZWwvVHV5ZW5UYXUuamF2YVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTGV0IG1lIGFsc28gY2hlY2sgdGhlIGBUdXllblRhdWAgbW9kZWwgdG8gdW5kZXJzdGFuZCB0aGUgbmFtZWQgcXVlcnk6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIEQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvVHV5ZW5UYXVEQU9JbXBsLmphdmE6XG4gICAgIDFcdHBhY2thZ2UgZGFvLmltcGw7XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyO1xuICAgICA0XHRpbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlUcmFuc2FjdGlvbjtcbiAgICAgNVx0aW1wb3J0IGxvbWJvay5BbGxBcmdzQ29uc3RydWN0b3I7XG4gICAgIDZcdGltcG9ydCBtb2RlbC5UdXllblRhdTtcbiAgICAgN1x0XG4gICAgIDhcdGltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbiAgICAgOVx0XG4gICAgMTBcdFxuICAgIDExXHRAQWxsQXJnc0NvbnN0cnVjdG9yXG4gICAgMTJcdHB1YmxpYyBjbGFzcyBUdXllblRhdURBT0ltcGwge1xuICAgIDEzXHQgICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuICAgIDE0XHQgICAgcHVibGljIExpc3Q8VHV5ZW5UYXU+IGdldExpc3RUdXllblRhdUJ5R2FEaUdhRGVuKFN0cmluZyBnYURpLCBTdHJpbmcgZ2FEZW4pIHtcbiAgICAxNVx0ICAgICAgICByZXR1cm4gZW0uY3JlYXRlTmFtZWRRdWVyeShcIlR1eWVuVGF1LmZpbmRCeUdhRGlHYURlblwiLCBUdXllblRhdS5jbGFzcylcbiAgICAxNlx0ICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJnYURpXCIsIGdhRGkpXG4gICAgMTdcdCAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZ2FEZW5cIixnYURlbilcbiAgICAxOFx0ICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7XG4gICAgMTlcdCAgICB9XG4gICAgMjBcdFxuICAgIDIxXHQgICAgcHVibGljIExpc3Q8VHV5ZW5UYXU+IGdldExpc3RUdXllblRhdSgpe1xuICAgIDIyXHQgICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiVHV5ZW5UYXUuZmluZEFsbFwiLCBUdXllblRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIDIzXHQgICAgfVxuICAgIDI0XHRcbiAgICAyNVx0ICAgIHB1YmxpYyBUdXllblRhdSBnZXRUdXllblRhdUJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgMjZcdCAgICAgICAgcmV0dXJuIGVtLmZpbmQoVHV5ZW5UYXUuY2xhc3MsIGlkKTtcbiAgICAyN1x0ICAgIH1cbiAgICAyOFx0XG4gICAgMjlcdCAgICBwdWJsaWMgIGJvb2xlYW4gc2F2ZShUdXllblRhdSB0dXllblRhdSl7XG4gICAgMzBcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgIDMxXHQgICAgICAgIHRyeSB7XG4gICAgMzJcdCAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgMzNcdCAgICAgICAgICAgIGVtLnBlcnNpc3QodHV5ZW5UYXUpO1xuICAgIDM0XHQgICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICAzNVx0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgMzZcdCAgICAgICAgfWNhdGNoKEV4Y2VwdGlvbiBlKXtcbiAgICAzN1x0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAzOFx0ICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAzOVx0ICAgICAgICB9XG4gICAgNDBcdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIDQxXHQgICAgfVxuICAgIDQyXHQgICAgcHVibGljICBib29sZWFuIGRlbGV0ZShTdHJpbmcgaWQpe1xuICAgIDQzXHQgICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICA0NFx0ICAgICAgICB0cnkge1xuICAgIDQ1XHQgICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgIDQ2XHQgICAgICAgICAgICBUdXllblRhdSB0dCA9IGVtLmZpbmQoVHV5ZW5UYXUuY2xhc3MsIGlkKTtcbiAgICA0N1x0ICAgICAgICAgICAgZW0ucmVtb3ZlKHR0KTtcbiAgICA0OFx0ICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgNDlcdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIDUwXHQgICAgICAgIH1jYXRjaChFeGNlcHRpb24gZSl7XG4gICAgNTFcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgNTJcdCAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgNTNcdCAgICAgICAgfVxuICAgIDU0XHQgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICA1NVx0ICAgIH1cbiAgICA1Nlx0ICAgIHB1YmxpYyAgYm9vbGVhbiB1cGRhdGUoVHV5ZW5UYXUgdHV5ZW5UYXUpe1xuICAgIDU3XHQgICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICA1OFx0ICAgICAgICAgICAgdHJ5IHtcbiAgICA1OVx0ICAgICAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgNjBcdCAgICAgICAgICAgICAgICBlbS5tZXJnZSh0dXllblRhdSk7XG4gICAgNjFcdCAgICAgICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICA2Mlx0ICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIDYzXHQgICAgICAgICAgICB9Y2F0Y2ggKEV4Y2VwdGlvbiBlKXtcbiAgICA2NFx0ICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgNjVcdCAgICAgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgIDY2XHQgICAgICAgICAgICB9XG4gICAgNjdcdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICA2OFx0ICAgIH1cbiAgICA2OVx0fVxuICAgIDcwXHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDcwXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFQeWpqcTRLWTNtZ3NXaDJQaVV6ODhIIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmciLCJmb2xkZXJSb290IjoiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTGV0IG1lIGFsc28gY2hlY2sgdGhlIGBUdXllblRhdWAgbW9kZWwgdG8gdW5kZXJzdGFuZCB0aGUgbmFtZWQgcXVlcnk6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMmM4ZGY0MDQtMTQ3Ny00OWQ0LTg0NTQtNGQ3NTE5NTNmY2FkIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxQWFON01MVFdvZG80cWk2V05RTnNaRyIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiRmluZCB0aGUgVHV5ZW5UYXVEQU8gaW50ZXJmYWNlIGlmIGl0IGV4aXN0cy5cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCBtZSBhbHNvIGNoZWNrIGlmIHRoZXJlJ3MgYSBgVHV5ZW5UYXVEQU9gIGludGVyZmFjZSB0aGF0IG1pZ2h0IGRlZmluZSB0aGUgbWV0aG9kOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL21vZGVsL1R1eWVuVGF1LmphdmE6XG4gICAgIDFcdHBhY2thZ2UgbW9kZWw7XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS4qO1xuICAgICA0XHRpbXBvcnQgbG9tYm9rLkRhdGE7XG4gICAgIDVcdGltcG9ydCBsb21ib2suRXF1YWxzQW5kSGFzaENvZGU7XG4gICAgIDZcdGltcG9ydCBsb21ib2suVG9TdHJpbmc7XG4gICAgIDdcdFxuICAgICA4XHRpbXBvcnQgamF2YS51dGlsLlNldDtcbiAgICAgOVx0XG4gICAgMTBcdEBEYXRhXG4gICAgMTFcdEBFbnRpdHlcbiAgICAxMlx0QFRhYmxlKG5hbWUgPSBcInR1eWVudGF1XCIpXG4gICAgMTNcdEBFcXVhbHNBbmRIYXNoQ29kZShvbmx5RXhwbGljaXRseUluY2x1ZGVkID0gdHJ1ZSlcbiAgICAxNFx0QE5hbWVkTmF0aXZlUXVlcmllcyh7XG4gICAgMTVcdCAgICAgICAgQE5hbWVkTmF0aXZlUXVlcnkobmFtZSA9IFwiVHV5ZW5UYXUuZmluZEJ5R2FEaUdhRGVuXCIsXG4gICAgMTZcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeSA9IFwic2VsZWN0ICogZnJvbSB0dXllbnRhdSB3aGVyZSBnYV9kaSA9IDpnYURpIGFuZCBnYV9kZW4gPSA6Z2FEZW5cIixcbiAgICAxN1x0ICAgICAgICByZXN1bHRDbGFzcyA9IFR1eWVuVGF1LmNsYXNzKSxcbiAgICAxOFx0ICAgICAgICBATmFtZWROYXRpdmVRdWVyeShuYW1lID0gXCJUdXllblRhdS5maW5kQWxsXCIsXG4gICAgMTlcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeSA9IFwic2VsZWN0ICogZnJvbSB0dXllbnRhdVwiLFxuICAgIDIwXHQgICAgICAgIHJlc3VsdENsYXNzID0gVHV5ZW5UYXUuY2xhc3MpXG4gICAgMjFcdH0pXG4gICAgMjJcdHB1YmxpYyBjbGFzcyBUdXllblRhdSB7XG4gICAgMjNcdCAgICBASWRcbiAgICAyNFx0ICAgIEBDb2x1bW4obmFtZSA9IFwibWFfdHV5ZW5cIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsdW5pcXVlID0gdHJ1ZSwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICAyNVx0ICAgIEBFcXVhbHNBbmRIYXNoQ29kZS5JbmNsdWRlXG4gICAgMjZcdCAgICBwcml2YXRlIFN0cmluZyBtYVR1eWVuO1xuICAgIDI3XHQgICAgQENvbHVtbihuYW1lID0gXCJ0ZW5fdHV5ZW5cIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UgKVxuICAgIDI4XHQgICAgQEVxdWFsc0FuZEhhc2hDb2RlLkV4Y2x1ZGVcbiAgICAyOVx0ICAgIHByaXZhdGUgU3RyaW5nIHRlblR1eWVuO1xuICAgIDMwXHQgICAgQENvbHVtbihuYW1lID0gXCJnYV9kaVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSApXG4gICAgMzFcdCAgICBARXF1YWxzQW5kSGFzaENvZGUuRXhjbHVkZVxuICAgIDMyXHQgICAgcHJpdmF0ZSBTdHJpbmcgZ2FEaTtcbiAgICAzM1x0ICAgIEBDb2x1bW4obmFtZSA9IFwiZ2FfZGVuXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcInZhcmNoYXIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlIClcbiAgICAzNFx0ICAgIEBFcXVhbHNBbmRIYXNoQ29kZS5FeGNsdWRlXG4gICAgMzVcdCAgICBwcml2YXRlIFN0cmluZyBnYURlbjtcbiAgICAzNlx0ICAgIEBDb2x1bW4obmFtZSA9IFwiZGlhX2RpZW1fZGlcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UgKVxuICAgIDM3XHQgICAgQEVxdWFsc0FuZEhhc2hDb2RlLkV4Y2x1ZGVcbiAgICAzOFx0ICAgIHByaXZhdGUgU3RyaW5nIGRpYURpZW1EaTtcbiAgICAzOVx0ICAgIEBDb2x1bW4obmFtZSA9IFwiZGlhX2RpZW1fZGVuXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcInZhcmNoYXIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlIClcbiAgICA0MFx0ICAgIEBFcXVhbHNBbmRIYXNoQ29kZS5FeGNsdWRlXG4gICAgNDFcdCAgICBwcml2YXRlIFN0cmluZyBkaWFEaWVtRGVuO1xuICAgIDQyXHQgICAgQE9uZVRvTWFueShtYXBwZWRCeSA9IFwidHV5ZW5UYXVcIiwgY2FzY2FkZSA9IENhc2NhZGVUeXBlLkFMTCwgb3JwaGFuUmVtb3ZhbCA9IHRydWUpXG4gICAgNDNcdCAgICBAVG9TdHJpbmcuRXhjbHVkZVxuICAgIDQ0XHQgICAgcHJpdmF0ZSBTZXQ8VGF1PiBkYW5oU2FjaFRhdTtcbiAgICA0NVx0fVxuICAgIDQ2XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDQ2XG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE2dUFwUEJXcXFndjNhZXU3cDNzZXZhIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmciLCJmb2xkZXJSb290IjoiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTGV0IG1lIGFsc28gY2hlY2sgaWYgdGhlcmUncyBhIGBUdXllblRhdURBT2AgaW50ZXJmYWNlIHRoYXQgbWlnaHQgZGVmaW5lIHRoZSBtZXRob2Q6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNjZmZDI3MWMtNDI3MC00YjAzLWEwMGItNThhNTEyYWRlYzkxIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxNnd3c1A1a2pnR2M5QkZwVjVpc0h0YyIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9UdXllblRhdURBT0ltcGwuamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgcHVibGljIExpc3Q8VHV5ZW5UYXU+IGdldExpc3RUdXllblRhdUJ5R2FEaUdhRGVuKFN0cmluZyBnYURpLCBTdHJpbmcgZ2FEZW4pIHtcXG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFxcXCJUdXllblRhdS5maW5kQnlHYURpR2FEZW5cXFwiLCBUdXllblRhdS5jbGFzcylcXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcXFwiZ2FEaVxcXCIsIGdhRGkpXFxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXFxcImdhRGVuXFxcIixnYURlbilcXG4gICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcXG4gICAgfVwiLCBcIm5ld19zdHJcIjogXCIgICAgcHVibGljIExpc3Q8VHV5ZW5UYXU+IGdldExpc3RUdXllblRhdUJ5R2FEaUdhRGVuKFN0cmluZyBnYURpLCBTdHJpbmcgZ2FEZW4pIHtcXG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcXG4gICAgICAgIExpc3Q8VHV5ZW5UYXU+IGxpc3QgPSBudWxsO1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICB0ci5iZWdpbigpO1xcbiAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFxcXCJUdXllblRhdS5maW5kQnlHYURpR2FEZW5cXFwiLCBUdXllblRhdS5jbGFzcylcXG4gICAgICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXFxcImdhRGlcXFwiLCBnYURpKVxcbiAgICAgICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcXFwiZ2FEZW5cXFwiLCBnYURlbilcXG4gICAgICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7XFxuICAgICAgICAgICAgdHIuY29tbWl0KCk7XFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICAgICAgaWYgKHRyLmlzQWN0aXZlKCkpIHtcXG4gICAgICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFxcXCJMXFx1MWVkN2kga2hpIGxcXHUxZWE1eSBkYW5oIHNcXHUwMGUxY2ggVHV5ZW5UYXUgdGhlbyBnYURpIHZcXHUwMGUwIGdhRGVuXFxcIik7XFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gbGlzdDtcXG4gICAgfVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMTQsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMTl9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkJhc2VkIG9uIG15IGFuYWx5c2lzLCBJIGNhbiBzZWUgdGhhdCB0aGVyZSBhcmUgYSBmZXcgaXNzdWVzIHdpdGggdGhlIGN1cnJlbnQgaW1wbGVtZW50YXRpb24gb2YgdGhlIGBnZXRMaXN0VHV5ZW5UYXVCeUdhRGlHYURlbmAgbWV0aG9kOlxuXG4xLiBUaGUgbWV0aG9kIGRvZXNuJ3QgaGFuZGxlIHRyYW5zYWN0aW9uIG1hbmFnZW1lbnQgcHJvcGVybHkuIFVubGlrZSBvdGhlciBtZXRob2RzIGluIHRoZSBjbGFzcywgaXQgZG9lc24ndCBiZWdpbiBhbmQgY29tbWl0IGEgdHJhbnNhY3Rpb24uXG4yLiBUaGVyZSdzIG5vIGVycm9yIGhhbmRsaW5nIGluIGNhc2UgdGhlIHF1ZXJ5IGZhaWxzLlxuMy4gVGhlcmUncyBubyB2YWxpZGF0aW9uIGZvciB0aGUgaW5wdXQgcGFyYW1ldGVycy5cblxuTGV0IG1lIGZpeCB0aGUgYGdldExpc3RUdXllblRhdUJ5R2FEaUdhRGVuYCBtZXRob2QgaW4gdGhlIGBUdXllblRhdURBT0ltcGxgIGNsYXNzOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vVHV5ZW5UYXVEQU8uamF2YVxucGFja2FnZSBkYW87XG5cbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7XG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlUcmFuc2FjdGlvbjtcbmltcG9ydCBsb21ib2suQWxsQXJnc0NvbnN0cnVjdG9yO1xuaW1wb3J0IG1vZGVsLlR1eWVuVGF1O1xuXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5cblxuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIFR1eWVuVGF1REFPIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG4gICAgcHVibGljIExpc3Q8VHV5ZW5UYXU+IGdldExpc3RUdXllblRhdUJ5R2FEaUdhRGVuKFN0cmluZyBnYURpLCBTdHJpbmcgZ2FEZW4pIHtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQnlHYURpR2FEZW5cIiwgVHV5ZW5UYXUuY2xhc3MpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImdhRGlcIiwgZ2FEaSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZ2FEZW5cIixnYURlbilcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBMaXN0PFR1eWVuVGF1PiBnZXRMaXN0VHV5ZW5UYXUoKXtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQWxsXCIsIFR1eWVuVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIFR1eWVuVGF1IGdldFR1eWVuVGF1QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVHV5ZW5UYXUuY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgIGJvb2xlYW4gc2F2ZShUdXllblRhdSB0dXllblRhdSl7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5wZXJzaXN0KHR1eWVuVGF1KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaChFeGNlcHRpb24gZSl7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHB1YmxpYyAgYm9vbGVhbiBkZWxldGUoU3RyaW5nIGlkKXtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIFR1eWVuVGF1IHR0ID0gZW0uZmluZChUdXllblRhdS5jbGFzcywgaWQpO1xuICAgICAgICAgICAgZW0ucmVtb3ZlKHR0KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaChFeGNlcHRpb24gZSl7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHB1YmxpYyAgYm9vbGVhbiB1cGRhdGUoVHV5ZW5UYXUgdHV5ZW5UYXUpe1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICAgICAgZW0ubWVyZ2UodHV5ZW5UYXUpO1xuICAgICAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfWNhdGNoIChFeGNlcHRpb24gZSl7XG4gICAgICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9UdXllblRhdURBTy5qYXZhXG5wYWNrYWdlIGRhbztcblxuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjtcbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eVRyYW5zYWN0aW9uO1xuaW1wb3J0IGxvbWJvay5BbGxBcmdzQ29uc3RydWN0b3I7XG5pbXBvcnQgbW9kZWwuVHV5ZW5UYXU7XG5cbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcblxuXG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgVHV5ZW5UYXVEQU8ge1xuICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbTtcbiAgICBwdWJsaWMgTGlzdDxUdXllblRhdT4gZ2V0TGlzdFR1eWVuVGF1QnlHYURpR2FEZW4oU3RyaW5nIGdhRGksIFN0cmluZyBnYURlbikge1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlTmFtZWRRdWVyeShcIlR1eWVuVGF1LmZpbmRCeUdhRGlHYURlblwiLCBUdXllblRhdS5jbGFzcylcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZ2FEaVwiLCBnYURpKVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJnYURlblwiLGdhRGVuKVxuICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIExpc3Q8VHV5ZW5UYXU+IGdldExpc3RUdXllblRhdSgpe1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlTmFtZWRRdWVyeShcIlR1eWVuVGF1LmZpbmRBbGxcIiwgVHV5ZW5UYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgVHV5ZW5UYXUgZ2V0VHV5ZW5UYXVCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICByZXR1cm4gZW0uZmluZChUdXllblRhdS5jbGFzcywgaWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyAgYm9vbGVhbiBzYXZlKFR1eWVuVGF1IHR1eWVuVGF1KXtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIGVtLnBlcnNpc3QodHV5ZW5UYXUpO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfWNhdGNoKEV4Y2VwdGlvbiBlKXtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcHVibGljICBib29sZWFuIGRlbGV0ZShTdHJpbmcgaWQpe1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgICAgICAgICAgVHV5ZW5UYXUgdHQgPSBlbS5maW5kKFR1eWVuVGF1LmNsYXNzLCBpZCk7XG4gICAgICAgICAgICBlbS5yZW1vdmUodHQpO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfWNhdGNoKEV4Y2VwdGlvbiBlKXtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcHVibGljICBib29sZWFuIHVwZGF0ZShUdXllblRhdSB0dXllblRhdSl7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgICAgICBlbS5tZXJnZSh0dXllblRhdSk7XG4gICAgICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9Y2F0Y2ggKEV4Y2VwdGlvbiBlKXtcbiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xpY2hUcmluaFRhdURBTy5qYXZhXG5wYWNrYWdlIGRhby5pbXBsO1xuXG5wdWJsaWMgaW50ZXJmYWNlIExpY2hUcmluaFRhdURBTyB7XG59XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL0xpY2hUcmluaFRhdURBTy5qYXZhXG5wYWNrYWdlIGRhbztcblxuaW1wb3J0IG1vZGVsLkxpY2hUcmluaFRhdTtcblxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuXG5wdWJsaWMgaW50ZXJmYWNlIExpY2hUcmluaFRhdURBTyB7XG4gICAgTGlzdDxMaWNoVHJpbmhUYXU+IGdldEFsbExpc3QoKTtcbiAgICBMaWNoVHJpbmhUYXUgZ2V0QnlJZChTdHJpbmcgaWQpO1xuICAgIGJvb2xlYW4gc2F2ZShMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1KTtcbiAgICBib29sZWFuIHVwZGF0ZShMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1KTtcbiAgICBib29sZWFuIGRlbGV0ZShMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1KTtcbn1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9UdXllblRhdURBT0ltcGwuamF2YVxucGFja2FnZSBkYW8uaW1wbDtcblxuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjtcbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eVRyYW5zYWN0aW9uO1xuaW1wb3J0IGxvbWJvay5BbGxBcmdzQ29uc3RydWN0b3I7XG5pbXBvcnQgbW9kZWwuVHV5ZW5UYXU7XG5cbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcblxuXG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgVHV5ZW5UYXVEQU9JbXBsIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG4gICAgcHVibGljIExpc3Q8VHV5ZW5UYXU+IGdldExpc3RUdXllblRhdUJ5R2FEaUdhRGVuKFN0cmluZyBnYURpLCBTdHJpbmcgZ2FEZW4pIHtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQnlHYURpR2FEZW5cIiwgVHV5ZW5UYXUuY2xhc3MpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImdhRGlcIiwgZ2FEaSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZ2FEZW5cIixnYURlbilcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBMaXN0PFR1eWVuVGF1PiBnZXRMaXN0VHV5ZW5UYXUoKXtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQWxsXCIsIFR1eWVuVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIFR1eWVuVGF1IGdldFR1eWVuVGF1QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVHV5ZW5UYXUuY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgIGJvb2xlYW4gc2F2ZShUdXllblRhdSB0dXllblRhdSl7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5wZXJzaXN0KHR1eWVuVGF1KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaChFeGNlcHRpb24gZSl7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHB1YmxpYyAgYm9vbGVhbiBkZWxldGUoU3RyaW5nIGlkKXtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIFR1eWVuVGF1IHR0ID0gZW0uZmluZChUdXllblRhdS5jbGFzcywgaWQpO1xuICAgICAgICAgICAgZW0ucmVtb3ZlKHR0KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaChFeGNlcHRpb24gZSl7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHB1YmxpYyAgYm9vbGVhbiB1cGRhdGUoVHV5ZW5UYXUgdHV5ZW5UYXUpe1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICAgICAgZW0ubWVyZ2UodHV5ZW5UYXUpO1xuICAgICAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfWNhdGNoIChFeGNlcHRpb24gZSl7XG4gICAgICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vVGF1REFPLmphdmFcbnBhY2thZ2UgZGFvO1xuXG5pbXBvcnQgamFrYXJ0YS5lbnRlcnByaXNlLmNvbnRleHQuQXBwbGljYXRpb25TY29wZWQ7XG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyO1xuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5VHJhbnNhY3Rpb247XG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5QZXJzaXN0ZW5jZTtcbmltcG9ydCBsb21ib2suQWxsQXJnc0NvbnN0cnVjdG9yO1xuaW1wb3J0IG1vZGVsLkxvYWlDaG87XG5pbXBvcnQgbW9kZWwuVGF1O1xuXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgVGF1REFPIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG5cbiAgICBwdWJsaWMgTGlzdDxUYXU+IGdldEFsbExpc3RUKCkge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIExpc3Q8VGF1PiBsaXN0ID0gbnVsbDtcbiAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShcInNlbGVjdCB0IGZyb20gVGF1IHRcIiwgVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBUYXUgZ2V0QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICByZXR1cm4gZW0uZmluZChUYXUuY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiBzYXZlKFRhdSB0KSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5wZXJzaXN0KHQpO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfWNhdGNoKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gdXBkYXRlKFRhdSB0KSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5tZXJnZSh0KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiBkZWxldGUoU3RyaW5nIGlkKSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBUYXUgdCA9IGVtLmZpbmQoVGF1LmNsYXNzLGlkKTtcbiAgICAgICAgICAgIGVtLnJlbW92ZSh0KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbn1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9UYXVEQU8uamF2YVxucGFja2FnZSBkYW87XG5cbmltcG9ydCBqYWthcnRhLmVudGVycHJpc2UuY29udGV4dC5BcHBsaWNhdGlvblNjb3BlZDtcbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7XG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlUcmFuc2FjdGlvbjtcbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLlBlcnNpc3RlbmNlO1xuaW1wb3J0IGxvbWJvay5BbGxBcmdzQ29uc3RydWN0b3I7XG5pbXBvcnQgbW9kZWwuTG9haUNobztcbmltcG9ydCBtb2RlbC5UYXU7XG5cbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBUYXVEQU8ge1xuICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbTtcblxuICAgIHB1YmxpYyBMaXN0PFRhdT4gZ2V0QWxsTGlzdFQoKSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgTGlzdDxUYXU+IGxpc3QgPSBudWxsO1xuICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IHQgZnJvbSBUYXUgdFwiLCBUYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgcHVibGljIFRhdSBnZXRCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHJldHVybiBlbS5maW5kKFRhdS5jbGFzcywgaWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBib29sZWFuIHNhdmUoVGF1IHQpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIGVtLnBlcnNpc3QodCk7XG4gICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9Y2F0Y2goRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL0xvYWlUb2FUYXVEQU8uamF2YVxucGFja2FnZSBkYW87XG5cbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7XG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlUcmFuc2FjdGlvbjtcbmltcG9ydCBsb21ib2suQWxsQXJnc0NvbnN0cnVjdG9yO1xuaW1wb3J0IG1vZGVsLkxvYWlUb2E7XG5cbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBMb2FpVG9hVGF1REFPIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG5cbiAgICBwdWJsaWMgTGlzdDxMb2FpVG9hPiBnZXRMaXN0TG9haVRvYSgpe1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlTmFtZWRRdWVyeShcIkxvYWlUb2EuZmluZEFsbFwiLCBMb2FpVG9hLmNsYXNzKVxuICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIExvYWlUb2EgZ2V0TG9haVRvYUJ5SWQoU3RyaW5nIGlkKXtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJMb2FpVG9hLmZpbmRCeUlEXCIsIExvYWlUb2EuY2xhc3MpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcIm1hTG9haVRvYVwiLCBpZClcbiAgICAgICAgICAgICAgICAuZ2V0U2luZ2xlUmVzdWx0KCk7XG4gICAgfVxuICAgIHB1YmxpYyBib29sZWFuIHNhdmUoTG9haVRvYSBsb2FpVG9hKXtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgIHRyeSB7XG4gICAgICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgICAgIGVtLnBlcnNpc3QobG9haVRvYSk7XG4gICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICB9Y2F0Y2ggKEV4Y2VwdGlvbiBlKXtcbiAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICB9XG4gICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9Mb2FpVG9hVGF1REFPLmphdmFcbnBhY2thZ2UgZGFvO1xuXG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyO1xuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5VHJhbnNhY3Rpb247XG5pbXBvcnQgbG9tYm9rLkFsbEFyZ3NDb25zdHJ1Y3RvcjtcbmltcG9ydCBtb2RlbC5Mb2FpVG9hO1xuXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgTG9haVRvYVRhdURBTyB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgcHVibGljIExpc3Q8TG9haVRvYT4gZ2V0TGlzdExvYWlUb2EoKXtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJMb2FpVG9hLmZpbmRBbGxcIiwgTG9haVRvYS5jbGFzcylcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2FpVG9hIGdldExvYWlUb2FCeUlkKFN0cmluZyBpZCl7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiTG9haVRvYS5maW5kQnlJRFwiLCBMb2FpVG9hLmNsYXNzKVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJtYUxvYWlUb2FcIiwgaWQpXG4gICAgICAgICAgICAgICAgLmdldFNpbmdsZVJlc3VsdCgpO1xuICAgIH1cbiAgICBwdWJsaWMgYm9vbGVhbiBzYXZlKExvYWlUb2EgbG9haVRvYSl7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICB0cnkge1xuICAgICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICAgICBlbS5wZXJzaXN0KGxvYWlUb2EpO1xuICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgfWNhdGNoIChFeGNlcHRpb24gZSl7XG4gICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgfVxuICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvVGF1REFPSW1wbC5qYXZhXG4uLi5cblxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIFRhdURBT0ltcGwge1xuICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbTtcblxuICAgIHB1YmxpYyBMaXN0PFRhdT4gZ2V0QWxsTGlzdFQoKSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgTGlzdDxUYXU+IGxpc3QgPSBudWxsO1xuICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IHQgZnJvbSBUYXUgdFwiLCBUYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgcHVibGljIFRhdSBnZXRCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHJldHVybiBlbS5maW5kKFRhdS5jbGFzcywgaWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBib29sZWFuIHNhdmUoVGF1IHQpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIGVtLnBlcnNpc3QodCk7XG4gICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9Y2F0Y2goRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTG9haVRvYVRhdURBT0ltcGwuamF2YVxucGFja2FnZSBkYW8uaW1wbDtcblxuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjtcbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eVRyYW5zYWN0aW9uO1xuaW1wb3J0IGxvbWJvay5BbGxBcmdzQ29uc3RydWN0b3I7XG5pbXBvcnQgbW9kZWwuTG9haVRvYTtcblxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIExvYWlUb2FUYXVEQU9JbXBsIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG5cbiAgICBwdWJsaWMgTGlzdDxMb2FpVG9hPiBnZXRMaXN0TG9haVRvYSgpe1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlTmFtZWRRdWVyeShcIkxvYWlUb2EuZmluZEFsbFwiLCBMb2FpVG9hLmNsYXNzKVxuICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIExvYWlUb2EgZ2V0TG9haVRvYUJ5SWQoU3RyaW5nIGlkKXtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJMb2FpVG9hLmZpbmRCeUlEXCIsIExvYWlUb2EuY2xhc3MpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcIm1hTG9haVRvYVwiLCBpZClcbiAgICAgICAgICAgICAgICAuZ2V0U2luZ2xlUmVzdWx0KCk7XG4gICAgfVxuICAgIHB1YmxpYyBib29sZWFuIHNhdmUoTG9haVRvYSBsb2FpVG9hKXtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgIHRyeSB7XG4gICAgICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgICAgIGVtLnBlcnNpc3QobG9haVRvYSk7XG4gICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICB9Y2F0Y2ggKEV4Y2VwdGlvbiBlKXtcbiAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICB9XG4gICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vVGFpS2hvYW5EQU8uamF2YVxuLi4uXG5cbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBUYWlLaG9hbkRBTyB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgcHVibGljIFRhaUtob2FuIGdldFRhaUtob2FuQnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVGFpS2hvYW4uY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiBzYXZlIChUYWlLaG9hbiB0aykge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9ICBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIGVtLnBlcnNpc3QodGspO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4vLyB1cGRhdGUgcGFzc3dvcmQgduG7m2kgbWFOVlxuICAgIHB1YmxpYyBib29sZWFuIHVwZGF0ZVBhc3N3b3JkIChTdHJpbmcgbWFOViwgU3RyaW5nIHBhc3NXb3JkKSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBUYWlLaG9hbiB0ayA9IGVtLmZpbmQoVGFpS2hvYW4uY2xhc3MsIG1hTlYpO1xuICAgICAgICAgICAgaWYgKHRrICE9IG51bGwpe1xuICAgICAgICAgICAgICAgIHRrLnNldFBhc3NXb3JkKHBhc3NXb3JkKTtcbiAgICAgICAgICAgICAgICBlbS5tZXJnZSh0ayk7XG4gICAgICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1RhaUtob2FuREFPLmphdmFcbi4uLlxuXG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgVGFpS2hvYW5EQU8ge1xuICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbTtcblxuICAgIHB1YmxpYyBUYWlLaG9hbiBnZXRUYWlLaG9hbkJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIHJldHVybiBlbS5maW5kKFRhaUtob2FuLmNsYXNzLCBpZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gc2F2ZSAoVGFpS2hvYW4gdGspIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSAgZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5wZXJzaXN0KHRrKTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLy8gdXBkYXRlIHBhc3N3b3JkIHbhu5tpIG1hTlZcbiAgICBwdWJsaWMgYm9vbGVhbiB1cGRhdGVQYXNzd29yZCAoU3RyaW5nIG1hTlYsIFN0cmluZyBwYXNzV29yZCkge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgICAgICAgICAgVGFpS2hvYW4gdGsgPSBlbS5maW5kKFRhaUtob2FuLmNsYXNzLCBtYU5WKTtcbiAgICAgICAgICAgIGlmICh0ayAhPSBudWxsKXtcbiAgICAgICAgICAgICAgICB0ay5zZXRQYXNzV29yZChwYXNzV29yZCk7XG4gICAgICAgICAgICAgICAgZW0ubWVyZ2UodGspO1xuICAgICAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vVG9hVGF1REFPLmphdmFcbi4uLlxuXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgVG9hVGF1REFPIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW0gO1xuXG5cbiAgICBwdWJsaWMgTGlzdDxUb2FUYXU+IGxpc3RUb2FUYXVCeVNvR2hlKGludCBmb3JtLCBpbnQgdG8pe1xuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcInNlbGVjdCB0dCBmcm9tIFRvYVRhdSB0dCBcIitcbiAgICAgICAgICAgICAgICBcIndoZXJlIHNvR2hlIGJldHdlZW4gOmZvcm0gYW5kIDp0b1wiO1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlUXVlcnkocXVlcnkpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImZvcm1cIiwgZm9ybSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwidG9cIiwgdG8pXG4gICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgTGlzdDxUb2FUYXU+IGdldGxpc3RUb2FUYXUoKSB7XG4gICAgICAgIExpc3Q8VG9hVGF1PiBsaXN0VG9hVGF1ID0gbnVsbDtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICAgICAgbGlzdFRvYVRhdSA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IHR0IGZyb20gVG9hVGF1IHR0XCIsIFRvYVRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4bqleSBkYW5oIHPDoWNoIFRvYVRhdSB0aMOgbmggY8O0bmdcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG6pXkgZGFuaCBzw6FjaCBUb2FUYXUgdGjhuqV0IGLhuqFpXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0VG9hVGF1O1xuICAgIH1cblxuICAgIHB1YmxpYyBUb2FUYXUgZ2V0VG9hVGF1QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVG9hVGF1LmNsYXNzLCBpZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gc2F2ZShUb2FUYXUgdG9hVGF1KSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5wZXJzaXN0KHRvYVRhdSk7XG4gICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9Y2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gdXBkYXRlKFRvYVRhdSB0b2FUYXUpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgICAgIGVtLm1lcmdlKHRvYVRhdSk7XG4gICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9Y2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1RhaUtob2FuREFPSW1wbC5qYXZhXG4uLi5cblxuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIFRhaUtob2FuREFPSW1wbCB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgcHVibGljIFRhaUtob2FuIGdldFRhaUtob2FuQnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVGFpS2hvYW4uY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiBzYXZlIChUYWlLaG9hbiB0aykge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9ICBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIGVtLnBlcnNpc3QodGspO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4vLyB1cGRhdGUgcGFzc3dvcmQgduG7m2kgbWFOVlxuICAgIHB1YmxpYyBib29sZWFuIHVwZGF0ZVBhc3N3b3JkIChTdHJpbmcgbWFOViwgU3RyaW5nIHBhc3NXb3JkKSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBUYWlLaG9hbiB0ayA9IGVtLmZpbmQoVGFpS2hvYW4uY2xhc3MsIG1hTlYpO1xuICAgICAgICAgICAgaWYgKHRrICE9IG51bGwpe1xuICAgICAgICAgICAgICAgIHRrLnNldFBhc3NXb3JkKHBhc3NXb3JkKTtcbiAgICAgICAgICAgICAgICBlbS5tZXJnZSh0ayk7XG4gICAgICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1RvYVRhdURBTy5qYXZhXG4uLi5cblxuICAgIHB1YmxpYyBUb2FUYXUgZ2V0VG9hVGF1QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVG9hVGF1LmNsYXNzLCBpZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gc2F2ZShUb2FUYXUgdG9hVGF1KSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5wZXJzaXN0KHRvYVRhdSk7XG4gICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9Y2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gdXBkYXRlKFRvYVRhdSB0b2FUYXUpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgICAgIGVtLm1lcmdlKHRvYVRhdSk7XG4gICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0ci4uLiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUFhTjdNTFRXb2RvNHFpNldOUU5zWkcifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyIsImZvbGRlclJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJCYXNlZCBvbiBteSBhbmFseXNpcywgSSBjYW4gc2VlIHRoYXQgdGhlcmUgYXJlIGEgZmV3IGlzc3VlcyB3aXRoIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIHRoZSBgZ2V0TGlzdFR1eWVuVGF1QnlHYURpR2FEZW5gIG1ldGhvZDpcblxuMS4gVGhlIG1ldGhvZCBkb2Vzbid0IGhhbmRsZSB0cmFuc2FjdGlvbiBtYW5hZ2VtZW50IHByb3Blcmx5LiBVbmxpa2Ugb3RoZXIgbWV0aG9kcyBpbiB0aGUgY2xhc3MsIGl0IGRvZXNuJ3QgYmVnaW4gYW5kIGNvbW1pdCBhIHRyYW5zYWN0aW9uLlxuMi4gVGhlcmUncyBubyBlcnJvciBoYW5kbGluZyBpbiBjYXNlIHRoZSBxdWVyeSBmYWlscy5cbjMuIFRoZXJlJ3Mgbm8gdmFsaWRhdGlvbiBmb3IgdGhlIGlucHV0IHBhcmFtZXRlcnMuXG5cbkxldCBtZSBmaXggdGhlIGBnZXRMaXN0VHV5ZW5UYXVCeUdhRGlHYURlbmAgbWV0aG9kIGluIHRoZSBgVHV5ZW5UYXVEQU9JbXBsYCBjbGFzczpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJkMjZmZDUxOS04Y2ViLTQ1ZmQtODMyZi04OGYyMWNkZjExOWQiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFEQ1FKQ0Q1SG1yRlF1YkRUTG04cDFNIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1R1eWVuVGF1REFPSW1wbC5qYXZhXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcIiAgICBwdWJsaWMgTGlzdDxUdXllblRhdT4gZ2V0TGlzdFR1eWVuVGF1KCl7XFxuICAgICAgICByZXR1cm4gZW0uY3JlYXRlTmFtZWRRdWVyeShcXFwiVHV5ZW5UYXUuZmluZEFsbFxcXCIsIFR1eWVuVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XFxuICAgIH1cIiwgXCJuZXdfc3RyXCI6IFwiICAgIHB1YmxpYyBMaXN0PFR1eWVuVGF1PiBnZXRMaXN0VHV5ZW5UYXUoKXtcXG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcXG4gICAgICAgIExpc3Q8VHV5ZW5UYXU+IGxpc3QgPSBudWxsO1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICB0ci5iZWdpbigpO1xcbiAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFxcXCJUdXllblRhdS5maW5kQWxsXFxcIiwgVHV5ZW5UYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcXG4gICAgICAgICAgICB0ci5jb21taXQoKTtcXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcXG4gICAgICAgICAgICBpZiAodHIuaXNBY3RpdmUoKSkge1xcbiAgICAgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXFxcIkxcXHUxZWQ3aSBraGkgbFxcdTFlYTV5IGRhbmggc1xcdTAwZTFjaCBUdXllblRhdVxcXCIpO1xcbiAgICAgICAgfVxcbiAgICAgICAgcmV0dXJuIGxpc3Q7XFxuICAgIH1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDM0LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDM2fV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3cgbGV0J3MgYWxzbyBmaXggdGhlIGBnZXRMaXN0VHV5ZW5UYXVgIG1ldGhvZCB0byBmb2xsb3cgdGhlIHNhbWUgcGF0dGVybiBmb3IgY29uc2lzdGVuY3k6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIEQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvVHV5ZW5UYXVEQU9JbXBsLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAxMFx0XG4gICAgMTFcdEBBbGxBcmdzQ29uc3RydWN0b3JcbiAgICAxMlx0cHVibGljIGNsYXNzIFR1eWVuVGF1REFPSW1wbCB7XG4gICAgMTNcdCAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG4gICAgMTRcdCAgICBwdWJsaWMgTGlzdDxUdXllblRhdT4gZ2V0TGlzdFR1eWVuVGF1QnlHYURpR2FEZW4oU3RyaW5nIGdhRGksIFN0cmluZyBnYURlbikge1xuICAgIDE1XHQgICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAxNlx0ICAgICAgICBMaXN0PFR1eWVuVGF1PiBsaXN0ID0gbnVsbDtcbiAgICAxN1x0ICAgICAgICB0cnkge1xuICAgIDE4XHQgICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgIDE5XHQgICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlTmFtZWRRdWVyeShcIlR1eWVuVGF1LmZpbmRCeUdhRGlHYURlblwiLCBUdXllblRhdS5jbGFzcylcbiAgICAyMFx0ICAgICAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZ2FEaVwiLCBnYURpKVxuICAgIDIxXHQgICAgICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJnYURlblwiLCBnYURlbilcbiAgICAyMlx0ICAgICAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIDIzXHQgICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICAyNFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDI1XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDI2XHQgICAgICAgICAgICBpZiAodHIuaXNBY3RpdmUoKSkge1xuICAgIDI3XHQgICAgICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAyOFx0ICAgICAgICAgICAgfVxuICAgIDI5XHQgICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4buXaSBraGkgbOG6pXkgZGFuaCBzw6FjaCBUdXllblRhdSB0aGVvIGdhRGkgdsOgIGdhRGVuXCIpO1xuICAgIDMwXHQgICAgICAgIH1cbiAgICAzMVx0ICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAzMlx0ICAgIH1cbiAgICAzM1x0XG4gICAgMzRcdCAgICBwdWJsaWMgTGlzdDxUdXllblRhdT4gZ2V0TGlzdFR1eWVuVGF1KCl7XG4gICAgMzVcdCAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQWxsXCIsIFR1eWVuVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgMzZcdCAgICB9XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTZ3d3NQNWtqZ0djOUJGcFY1aXNIdGMifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyIsImZvbGRlclJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJOb3cgbGV0J3MgYWxzbyBmaXggdGhlIGBnZXRMaXN0VHV5ZW5UYXVgIG1ldGhvZCB0byBmb2xsb3cgdGhlIHNhbWUgcGF0dGVybiBmb3IgY29uc2lzdGVuY3k6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiODcxNjFhOWMtNTU4NS00Njg5LWJlNzgtNjRiMTY2MzE1Mzg2IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxSHFkMjdZaUtraGtRNU5nd0FIdWNMYyIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9UdXllblRhdURBT0ltcGwuamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgcHVibGljIFR1eWVuVGF1IGdldFR1eWVuVGF1QnlJZChTdHJpbmcgaWQpIHtcXG4gICAgICAgIHJldHVybiBlbS5maW5kKFR1eWVuVGF1LmNsYXNzLCBpZCk7XFxuICAgIH1cIiwgXCJuZXdfc3RyXCI6IFwiICAgIHB1YmxpYyBUdXllblRhdSBnZXRUdXllblRhdUJ5SWQoU3RyaW5nIGlkKSB7XFxuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XFxuICAgICAgICBUdXllblRhdSB0dXllblRhdSA9IG51bGw7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XFxuICAgICAgICAgICAgdHV5ZW5UYXUgPSBlbS5maW5kKFR1eWVuVGF1LmNsYXNzLCBpZCk7XFxuICAgICAgICAgICAgdHIuY29tbWl0KCk7XFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICAgICAgaWYgKHRyLmlzQWN0aXZlKCkpIHtcXG4gICAgICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFxcXCJMXFx1MWVkN2kga2hpIGxcXHUxZWE1eSBUdXllblRhdSB0aGVvIElEXFxcIik7XFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gdHV5ZW5UYXU7XFxuICAgIH1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDUxLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDUzfV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJGaW5hbGx5LCBsZXQncyBhbHNvIGZpeCB0aGUgYGdldFR1eWVuVGF1QnlJZGAgbWV0aG9kIHRvIGZvbGxvdyB0aGUgc2FtZSBwYXR0ZXJuOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1R1eWVuVGF1REFPSW1wbC5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgMzBcdCAgICAgICAgfVxuICAgIDMxXHQgICAgICAgIHJldHVybiBsaXN0O1xuICAgIDMyXHQgICAgfVxuICAgIDMzXHRcbiAgICAzNFx0ICAgIHB1YmxpYyBMaXN0PFR1eWVuVGF1PiBnZXRMaXN0VHV5ZW5UYXUoKXtcbiAgICAzNVx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgMzZcdCAgICAgICAgTGlzdDxUdXllblRhdT4gbGlzdCA9IG51bGw7XG4gICAgMzdcdCAgICAgICAgdHJ5IHtcbiAgICAzOFx0ICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAzOVx0ICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQWxsXCIsIFR1eWVuVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgNDBcdCAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgIDQxXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgNDJcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgNDNcdCAgICAgICAgICAgIGlmICh0ci5pc0FjdGl2ZSgpKSB7XG4gICAgNDRcdCAgICAgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgIDQ1XHQgICAgICAgICAgICB9XG4gICAgNDZcdCAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSBs4bqleSBkYW5oIHPDoWNoIFR1eWVuVGF1XCIpO1xuICAgIDQ3XHQgICAgICAgIH1cbiAgICA0OFx0ICAgICAgICByZXR1cm4gbGlzdDtcbiAgICA0OVx0ICAgIH1cbiAgICA1MFx0XG4gICAgNTFcdCAgICBwdWJsaWMgVHV5ZW5UYXUgZ2V0VHV5ZW5UYXVCeUlkKFN0cmluZyBpZCkge1xuICAgIDUyXHQgICAgICAgIHJldHVybiBlbS5maW5kKFR1eWVuVGF1LmNsYXNzLCBpZCk7XG4gICAgNTNcdCAgICB9XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMURDUUpDRDVIbXJGUXViRFRMbThwMU0ifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyIsImZvbGRlclJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJGaW5hbGx5LCBsZXQncyBhbHNvIGZpeCB0aGUgYGdldFR1eWVuVGF1QnlJZGAgbWV0aG9kIHRvIGZvbGxvdyB0aGUgc2FtZSBwYXR0ZXJuOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjcyN2I5NDU1LTkwZjEtNDNkMi1hNzVmLTIwY2UwODY1ZjdmOCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkkndmUgc3VjY2Vzc2Z1bGx5IGZpeGVkIHRoZSBgZ2V0TGlzdFR1eWVuVGF1QnlHYURpR2FEZW5gIG1ldGhvZCBpbiB0aGUgYFR1eWVuVGF1REFPSW1wbGAgY2xhc3MuIEhlcmUncyBhIHN1bW1hcnkgb2YgdGhlIGNoYW5nZXMgSSBtYWRlOlxuXG4xLiBBZGRlZCBwcm9wZXIgdHJhbnNhY3Rpb24gbWFuYWdlbWVudCB0byB0aGUgYGdldExpc3RUdXllblRhdUJ5R2FEaUdhRGVuYCBtZXRob2Q6XG4gICAtIEJlZ2luIGEgdHJhbnNhY3Rpb24gYmVmb3JlIGV4ZWN1dGluZyB0aGUgcXVlcnlcbiAgIC0gQ29tbWl0IHRoZSB0cmFuc2FjdGlvbiBhZnRlciBzdWNjZXNzZnVsIGV4ZWN1dGlvblxuICAgLSBSb2xsIGJhY2sgdGhlIHRyYW5zYWN0aW9uIGlmIGFuIGV4Y2VwdGlvbiBvY2N1cnNcblxuMi4gQWRkZWQgZXJyb3IgaGFuZGxpbmc6XG4gICAtIENhdGNoIGV4Y2VwdGlvbnMgYW5kIHByaW50IHN0YWNrIHRyYWNlc1xuICAgLSBDaGVjayBpZiB0aGUgdHJhbnNhY3Rpb24gaXMgYWN0aXZlIGJlZm9yZSByb2xsaW5nIGJhY2tcbiAgIC0gUHJpbnQgYW4gZXJyb3IgbWVzc2FnZSB0byB0aGUgY29uc29sZVxuXG4zLiBGb3IgY29uc2lzdGVuY3ksIEkgYWxzbyB1cGRhdGVkIHRoZSBgZ2V0TGlzdFR1eWVuVGF1YCBhbmQgYGdldFR1eWVuVGF1QnlJZGAgbWV0aG9kcyB0byBmb2xsb3cgdGhlIHNhbWUgcGF0dGVybi5cblxuVGhlc2UgY2hhbmdlcyBtYWtlIHRoZSBjb2RlIG1vcmUgcm9idXN0IGJ5OlxuMS4gRW5zdXJpbmcgcHJvcGVyIHRyYW5zYWN0aW9uIG1hbmFnZW1lbnRcbjIuIEFkZGluZyBlcnJvciBoYW5kbGluZ1xuMy4gTWFraW5nIHRoZSBjb2RlIGNvbnNpc3RlbnQgYWNyb3NzIGFsbCBtZXRob2RzXG40LiBQcm92aWRpbmcgYmV0dGVyIGVycm9yIG1lc3NhZ2VzIGZvciBkZWJ1Z2dpbmdcblxuVGhlIG1ldGhvZCBub3cgcHJvcGVybHkgaGFuZGxlcyBkYXRhYmFzZSBvcGVyYXRpb25zIGFuZCBmb2xsb3dzIHRoZSBzYW1lIHBhdHRlcm4gYXMgb3RoZXIgbWV0aG9kcyBpbiB0aGUgY2xhc3MsIG1ha2luZyB0aGUgY29kZSBtb3JlIG1haW50YWluYWJsZSBhbmQgcmVsaWFibGUuXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIEQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvVHV5ZW5UYXVEQU9JbXBsLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICA0N1x0ICAgICAgICB9XG4gICAgNDhcdCAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgNDlcdCAgICB9XG4gICAgNTBcdFxuICAgIDUxXHQgICAgcHVibGljIFR1eWVuVGF1IGdldFR1eWVuVGF1QnlJZChTdHJpbmcgaWQpIHtcbiAgICA1Mlx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgNTNcdCAgICAgICAgVHV5ZW5UYXUgdHV5ZW5UYXUgPSBudWxsO1xuICAgIDU0XHQgICAgICAgIHRyeSB7XG4gICAgNTVcdCAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgNTZcdCAgICAgICAgICAgIHR1eWVuVGF1ID0gZW0uZmluZChUdXllblRhdS5jbGFzcywgaWQpO1xuICAgIDU3XHQgICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICA1OFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDU5XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDYwXHQgICAgICAgICAgICBpZiAodHIuaXNBY3RpdmUoKSkge1xuICAgIDYxXHQgICAgICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICA2Mlx0ICAgICAgICAgICAgfVxuICAgIDYzXHQgICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4buXaSBraGkgbOG6pXkgVHV5ZW5UYXUgdGhlbyBJRFwiKTtcbiAgICA2NFx0ICAgICAgICB9XG4gICAgNjVcdCAgICAgICAgcmV0dXJuIHR1eWVuVGF1O1xuICAgIDY2XHQgICAgfVxuICAgIDY3XHRcbiAgICA2OFx0ICAgIHB1YmxpYyAgYm9vbGVhbiBzYXZlKFR1eWVuVGF1IHR1eWVuVGF1KXtcbiAgICA2OVx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgNzBcdCAgICAgICAgdHJ5IHtcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxSHFkMjdZaUtraGtRNU5nd0FIdWNMYyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nIiwiZm9sZGVyUm9vdCI6IkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkkndmUgc3VjY2Vzc2Z1bGx5IGZpeGVkIHRoZSBgZ2V0TGlzdFR1eWVuVGF1QnlHYURpR2FEZW5gIG1ldGhvZCBpbiB0aGUgYFR1eWVuVGF1REFPSW1wbGAgY2xhc3MuIEhlcmUncyBhIHN1bW1hcnkgb2YgdGhlIGNoYW5nZXMgSSBtYWRlOlxuXG4xLiBBZGRlZCBwcm9wZXIgdHJhbnNhY3Rpb24gbWFuYWdlbWVudCB0byB0aGUgYGdldExpc3RUdXllblRhdUJ5R2FEaUdhRGVuYCBtZXRob2Q6XG4gICAtIEJlZ2luIGEgdHJhbnNhY3Rpb24gYmVmb3JlIGV4ZWN1dGluZyB0aGUgcXVlcnlcbiAgIC0gQ29tbWl0IHRoZSB0cmFuc2FjdGlvbiBhZnRlciBzdWNjZXNzZnVsIGV4ZWN1dGlvblxuICAgLSBSb2xsIGJhY2sgdGhlIHRyYW5zYWN0aW9uIGlmIGFuIGV4Y2VwdGlvbiBvY2N1cnNcblxuMi4gQWRkZWQgZXJyb3IgaGFuZGxpbmc6XG4gICAtIENhdGNoIGV4Y2VwdGlvbnMgYW5kIHByaW50IHN0YWNrIHRyYWNlc1xuICAgLSBDaGVjayBpZiB0aGUgdHJhbnNhY3Rpb24gaXMgYWN0aXZlIGJlZm9yZSByb2xsaW5nIGJhY2tcbiAgIC0gUHJpbnQgYW4gZXJyb3IgbWVzc2FnZSB0byB0aGUgY29uc29sZVxuXG4zLiBGb3IgY29uc2lzdGVuY3ksIEkgYWxzbyB1cGRhdGVkIHRoZSBgZ2V0TGlzdFR1eWVuVGF1YCBhbmQgYGdldFR1eWVuVGF1QnlJZGAgbWV0aG9kcyB0byBmb2xsb3cgdGhlIHNhbWUgcGF0dGVybi5cblxuVGhlc2UgY2hhbmdlcyBtYWtlIHRoZSBjb2RlIG1vcmUgcm9idXN0IGJ5OlxuMS4gRW5zdXJpbmcgcHJvcGVyIHRyYW5zYWN0aW9uIG1hbmFnZW1lbnRcbjIuIEFkZGluZyBlcnJvciBoYW5kbGluZ1xuMy4gTWFraW5nIHRoZSBjb2RlIGNvbnNpc3RlbnQgYWNyb3NzIGFsbCBtZXRob2RzXG40LiBQcm92aWRpbmcgYmV0dGVyIGVycm9yIG1lc3NhZ2VzIGZvciBkZWJ1Z2dpbmdcblxuVGhlIG1ldGhvZCBub3cgcHJvcGVybHkgaGFuZGxlcyBkYXRhYmFzZSBvcGVyYXRpb25zIGFuZCBmb2xsb3dzIHRoZSBzYW1lIHBhdHRlcm4gYXMgb3RoZXIgbWV0aG9kcyBpbiB0aGUgY2xhc3MsIG1ha2luZyB0aGUgY29kZSBtb3JlIG1haW50YWluYWJsZSBhbmQgcmVsaWFibGUuXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InJlcXVlc3RfaWQiOiJjN2YyZjg3Mi05MTA0LTQ4MjUtOWRkNy00OTM4MzBjMzQ0ZDUiLCJ1dWlkIjoiYWI5Njk5YTctYjJjNC00NjUyLWJmZWYtMWRiODU5YWEzMTZiIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy1jaGVja3BvaW50LWRlbGltaXRlciIsInN0YXR1cyI6InN1Y2Nlc3MiLCJmcm9tVGltZXN0YW1wIjoxNzQ0NzI1MjExMTEzLCJ0b1RpbWVzdGFtcCI6MTc0NDcyNTUyNzU1Miwic2Vlbl9zdGF0ZSI6InNlZW4ifSx7InJlcXVlc3RfaWQiOiJjYmE3YTFhMC1jOGFkLTQ0YTYtYWI2MC1kZDNkYmU0NDM0NzIiLCJzdGF0dXMiOiJjYW5jZWxsZWQiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLXR1cm4tZGVsaW1pdGVyIn0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImQ4YjAwNmM5LWQ0ZmUtNDg4NS1hZmU3LTJhZmEzYWNmOWMwOCIsInJlcXVlc3RfbWVzc2FnZSI6InVwZGF0ZSBjbGFzcyBMaWNoVHJpbmhUYXVEQU9JbXBsIHVzZSBwcml2ZXRlIEVudGl0eU1hbmFnZXIgIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCIsImNvbnRlbnQiOlt7InR5cGUiOiJ0ZXh0IiwidGV4dCI6InVwZGF0ZSBjbGFzcyBMaWNoVHJpbmhUYXVEQU9JbXBsIHVzZSBwcml2ZXRlIEVudGl0eU1hbmFnZXIgIn1dfV19LCJtZW50aW9uZWRfaXRlbXMiOltdLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDExcEVOUnc5WXd3M1hDZHR5b2JXVmVCIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcIkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPSW1wbC5qYXZhXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJJJ2xsIHVwZGF0ZSB0aGUgYExpY2hUcmluaFRhdURBT0ltcGxgIGNsYXNzIHRvIHVzZSBhIHByaXZhdGUgYEVudGl0eU1hbmFnZXJgIGZpZWxkIGluc3RlYWQgb2YgY3JlYXRpbmcgYSBuZXcgb25lIGZvciBlYWNoIG1ldGhvZC4gTGV0IG1lIGZpcnN0IGV4YW1pbmUgdGhlIGN1cnJlbnQgaW1wbGVtZW50YXRpb24uXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjowLCJ0ZXh0X25vZGUiOnsiY29udGVudCI6InVwZGF0ZSBjbGFzcyBMaWNoVHJpbmhUYXVEQU9JbXBsIHVzZSBwcml2ZXRlIEVudGl0eU1hbmFnZXIgIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmciLCJmb2xkZXJSb290IjoiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiSSdsbCB1cGRhdGUgdGhlIGBMaWNoVHJpbmhUYXVEQU9JbXBsYCBjbGFzcyB0byB1c2UgYSBwcml2YXRlIGBFbnRpdHlNYW5hZ2VyYCBmaWVsZCBpbnN0ZWFkIG9mIGNyZWF0aW5nIGEgbmV3IG9uZSBmb3IgZWFjaCBtZXRob2QuIExldCBtZSBmaXJzdCBleGFtaW5lIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uLlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImVhNmJhM2E4LWZmZDctNDQ3ZS05OWYyLTU2YzBiYWRkMjRkOSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTQ1Wk5lcjhmNkJMS3hTQVVEYTVLZHMiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcIkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPSW1wbC5qYXZhXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcInBhY2thZ2UgZGFvLmltcGw7XFxuXFxuaW1wb3J0IGRhby5MaWNoVHJpbmhUYXVEQU87XFxuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjtcXG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlUcmFuc2FjdGlvbjtcXG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5QZXJzaXN0ZW5jZTtcXG5pbXBvcnQgbW9kZWwuTGljaFRyaW5oVGF1O1xcblxcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcXG5cXG5wdWJsaWMgY2xhc3MgTGljaFRyaW5oVGF1REFPSW1wbCBpbXBsZW1lbnRzIExpY2hUcmluaFRhdURBTyB7XCIsIFwibmV3X3N0clwiOiBcInBhY2thZ2UgZGFvLmltcGw7XFxuXFxuaW1wb3J0IGRhby5MaWNoVHJpbmhUYXVEQU87XFxuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjtcXG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlUcmFuc2FjdGlvbjtcXG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5QZXJzaXN0ZW5jZTtcXG5pbXBvcnQgbG9tYm9rLkFsbEFyZ3NDb25zdHJ1Y3RvcjtcXG5pbXBvcnQgbW9kZWwuTGljaFRyaW5oVGF1O1xcblxcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcXG5cXG5AQWxsQXJnc0NvbnN0cnVjdG9yXFxucHVibGljIGNsYXNzIExpY2hUcmluaFRhdURBT0ltcGwgaW1wbGVtZW50cyBMaWNoVHJpbmhUYXVEQU8ge1xcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAxLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDExfV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3cgSSdsbCB1cGRhdGUgdGhlIGNsYXNzIHRvIHVzZSBhIHByaXZhdGUgYEVudGl0eU1hbmFnZXJgIGZpZWxkLiBJJ2xsIGFsc28gYWRkIGEgY29uc3RydWN0b3IgdG8gaW5pdGlhbGl6ZSB0aGlzIGZpZWxkLCBzaW1pbGFyIHRvIG90aGVyIERBTyBpbXBsZW1lbnRhdGlvbnMgaW4gdGhlIHByb2plY3QuXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIEQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPSW1wbC5qYXZhOlxuICAgICAxXHRwYWNrYWdlIGRhby5pbXBsO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGRhby5MaWNoVHJpbmhUYXVEQU87XG4gICAgIDRcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7XG4gICAgIDVcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eVRyYW5zYWN0aW9uO1xuICAgICA2XHRpbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5QZXJzaXN0ZW5jZTtcbiAgICAgN1x0aW1wb3J0IG1vZGVsLkxpY2hUcmluaFRhdTtcbiAgICAgOFx0XG4gICAgIDlcdGltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbiAgICAxMFx0XG4gICAgMTFcdHB1YmxpYyBjbGFzcyBMaWNoVHJpbmhUYXVEQU9JbXBsIGltcGxlbWVudHMgTGljaFRyaW5oVGF1REFPIHtcbiAgICAxMlx0ICAgIHB1YmxpYyBMaXN0PExpY2hUcmluaFRhdT4gZ2V0QWxsTGlzdCgpIHtcbiAgICAxM1x0ICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgMTRcdCAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgIDE1XHQgICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAxNlx0ICAgICAgICBMaXN0PExpY2hUcmluaFRhdT4gbGlzdCA9IG51bGw7XG4gICAgMTdcdCAgICAgICAgdHguYmVnaW4oKTtcbiAgICAxOFx0ICAgICAgICB0cnkge1xuICAgIDE5XHQgICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgbHR0IGZyb20gTGljaFRyaW5oVGF1IGx0dFwiLCBMaWNoVHJpbmhUYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAyMFx0ICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgMjFcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAyMlx0ICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAyM1x0ICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggTGljaFRyaW5oVGF1XCIpO1xuICAgIDI0XHQgICAgICAgIH1cbiAgICAyNVx0ICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAyNlx0ICAgIH1cbiAgICAyN1x0XG4gICAgMjhcdCAgICBwdWJsaWMgTGljaFRyaW5oVGF1IGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgMjlcdCAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgIDMwXHQgICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAzMVx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgMzJcdCAgICAgICAgcmV0dXJuIGVtLmZpbmQoTGljaFRyaW5oVGF1LmNsYXNzLCBpZCk7XG4gICAgMzNcdCAgICB9XG4gICAgMzRcdFxuICAgIDM1XHQgICAgcHVibGljIGJvb2xlYW4gc2F2ZShMaWNoVHJpbmhUYXUgdCkge1xuICAgIDM2XHQgICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAzN1x0ICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgMzhcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgIDM5XHQgICAgICAgIHRyeSB7XG4gICAgNDBcdCAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgNDFcdCAgICAgICAgICAgIGVtLnBlcnNpc3QodCk7XG4gICAgNDJcdCAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgIDQzXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICA0NFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDQ1XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDQ2XHQgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgIDQ3XHQgICAgICAgIH1cbiAgICA0OFx0ICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgNDlcdCAgICB9XG4gICAgNTBcdFxuICAgIDUxXHQgICAgcHVibGljIGJvb2xlYW4gdXBkYXRlKExpY2hUcmluaFRhdSB0KSB7XG4gICAgNTJcdCAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgIDUzXHQgICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICA1NFx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgNTVcdCAgICAgICAgdHJ5IHtcbiAgICA1Nlx0ICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICA1N1x0ICAgICAgICAgICAgZW0ubWVyZ2UodCk7XG4gICAgNThcdCAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgIDU5XHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICA2MFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDYxXHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDYyXHQgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgIDYzXHQgICAgICAgIH1cbiAgICA2NFx0ICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgNjVcdCAgICB9XG4gICAgNjZcdFxuICAgIDY3XHQgICAgQE92ZXJyaWRlXG4gICAgNjhcdCAgICBwdWJsaWMgYm9vbGVhbiBkZWxldGUoTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdSkge1xuICAgIDY5XHQgICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICA3MFx0ICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgNzFcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgIDcyXHQgICAgICAgIHRyeSB7XG4gICAgNzNcdCAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgNzRcdCAgICAgICAgICAgIGlmICghZW0uY29udGFpbnMobGljaFRyaW5oVGF1KSkge1xuICAgIDc1XHQgICAgICAgICAgICAgICAgbGljaFRyaW5oVGF1ID0gZW0ubWVyZ2UobGljaFRyaW5oVGF1KTtcbiAgICA3Nlx0ICAgICAgICAgICAgfVxuICAgIDc3XHQgICAgICAgICAgICBlbS5yZW1vdmUobGljaFRyaW5oVGF1KTtcbiAgICA3OFx0ICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgNzlcdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIDgwXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgODFcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgODJcdCAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgODNcdCAgICAgICAgfVxuICAgIDg0XHQgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICA4NVx0ICAgIH1cbiAgICA4Nlx0XG4gICAgODdcdCAgICBwdWJsaWMgYm9vbGVhbiBkZWxldGUoU3RyaW5nIGlkKSB7XG4gICAgODhcdCAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgIDg5XHQgICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICA5MFx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgOTFcdCAgICAgICAgdHJ5IHtcbiAgICA5Mlx0ICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICA5M1x0ICAgICAgICAgICAgTGljaFRyaW5oVGF1IHQgPSBlbS5maW5kKExpY2hUcmluaFRhdS5jbGFzcywgaWQpO1xuICAgIDk0XHQgICAgICAgICAgICBlbS5yZW1vdmUodCk7XG4gICAgOTVcdCAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgIDk2XHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICA5N1x0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDk4XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDk5XHQgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgMTAwXHQgICAgICAgIH1cbiAgIDEwMVx0ICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAxMDJcdCAgICB9XG4gICAxMDNcdH1cbiAgIDEwNFx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAxMDRcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTFwRU5SdzlZd3czWENkdHlvYldWZUIifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyIsImZvbGRlclJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJOb3cgSSdsbCB1cGRhdGUgdGhlIGNsYXNzIHRvIHVzZSBhIHByaXZhdGUgYEVudGl0eU1hbmFnZXJgIGZpZWxkLiBJJ2xsIGFsc28gYWRkIGEgY29uc3RydWN0b3IgdG8gaW5pdGlhbGl6ZSB0aGlzIGZpZWxkLCBzaW1pbGFyIHRvIG90aGVyIERBTyBpbXBsZW1lbnRhdGlvbnMgaW4gdGhlIHByb2plY3QuXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZjRjNjBjODUtNmJhMi00MGMwLWFkNDItOTQ0ZjgyYjJlNjdhIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxNVJiVzNGZkVYRmdxZHkzdUdhRXVZWSIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9MaWNoVHJpbmhUYXVEQU9JbXBsLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgIHB1YmxpYyBMaXN0PExpY2hUcmluaFRhdT4gZ2V0QWxsTGlzdCgpIHtcXG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcXFwibWFyaWFkYlxcXCIpXFxuICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XFxuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XFxuICAgICAgICBMaXN0PExpY2hUcmluaFRhdT4gbGlzdCA9IG51bGw7XFxuICAgICAgICB0eC5iZWdpbigpO1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXFxcInNlbGVjdCBsdHQgZnJvbSBMaWNoVHJpbmhUYXUgbHR0XFxcIiwgTGljaFRyaW5oVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XFxuICAgICAgICAgICAgdHguY29tbWl0KCk7XFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XFxuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFxcXCJMXFx1MWVkN2kga2hpIGxcXHUxZWE1eSBkYW5oIHNcXHUwMGUxY2ggTGljaFRyaW5oVGF1XFxcIik7XFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gbGlzdDtcXG4gICAgfVwiLCBcIm5ld19zdHJcIjogXCIgICAgQE92ZXJyaWRlXFxuICAgIHB1YmxpYyBMaXN0PExpY2hUcmluaFRhdT4gZ2V0QWxsTGlzdCgpIHtcXG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcXG4gICAgICAgIExpc3Q8TGljaFRyaW5oVGF1PiBsaXN0ID0gbnVsbDtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgdHguYmVnaW4oKTtcXG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXFxcInNlbGVjdCBsdHQgZnJvbSBMaWNoVHJpbmhUYXUgbHR0XFxcIiwgTGljaFRyaW5oVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XFxuICAgICAgICAgICAgdHguY29tbWl0KCk7XFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICAgICAgaWYgKHR4LmlzQWN0aXZlKCkpIHtcXG4gICAgICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFxcXCJMXFx1MWVkN2kga2hpIGxcXHUxZWE1eSBkYW5oIHNcXHUwMGUxY2ggTGljaFRyaW5oVGF1XFxcIik7XFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gbGlzdDtcXG4gICAgfVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMTUsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMjl9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik5vdyBJJ2xsIHVwZGF0ZSBlYWNoIG1ldGhvZCB0byB1c2UgdGhlIHByaXZhdGUgYEVudGl0eU1hbmFnZXJgIGZpZWxkIGluc3RlYWQgb2YgY3JlYXRpbmcgYSBuZXcgb25lOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xpY2hUcmluaFRhdURBT0ltcGwuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgICAxXHRwYWNrYWdlIGRhby5pbXBsO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGRhby5MaWNoVHJpbmhUYXVEQU87XG4gICAgIDRcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7XG4gICAgIDVcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eVRyYW5zYWN0aW9uO1xuICAgICA2XHRpbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5QZXJzaXN0ZW5jZTtcbiAgICAgN1x0aW1wb3J0IGxvbWJvay5BbGxBcmdzQ29uc3RydWN0b3I7XG4gICAgIDhcdGltcG9ydCBtb2RlbC5MaWNoVHJpbmhUYXU7XG4gICAgIDlcdFxuICAgIDEwXHRpbXBvcnQgamF2YS51dGlsLkxpc3Q7XG4gICAgMTFcdFxuICAgIDEyXHRAQWxsQXJnc0NvbnN0cnVjdG9yXG4gICAgMTNcdHB1YmxpYyBjbGFzcyBMaWNoVHJpbmhUYXVEQU9JbXBsIGltcGxlbWVudHMgTGljaFRyaW5oVGF1REFPIHtcbiAgICAxNFx0ICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbTtcbiAgICAxNVx0ICAgIHB1YmxpYyBMaXN0PExpY2hUcmluaFRhdT4gZ2V0QWxsTGlzdCgpIHtcbiAgICAxNlx0ICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgMTdcdCAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgIDE4XHQgICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxNDVaTmVyOGY2QkxLeFNBVURhNUtkcyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nIiwiZm9sZGVyUm9vdCI6IkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6Ik5vdyBJJ2xsIHVwZGF0ZSBlYWNoIG1ldGhvZCB0byB1c2UgdGhlIHByaXZhdGUgYEVudGl0eU1hbmFnZXJgIGZpZWxkIGluc3RlYWQgb2YgY3JlYXRpbmcgYSBuZXcgb25lOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJyZXF1ZXN0X2lkIjoiZDllMWZlNWMtMTliMS00N2JlLTgwMmMtZDFmYzhiODQzYmMwIiwic3RhdHVzIjoiY2FuY2VsbGVkIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy10dXJuLWRlbGltaXRlciJ9LHsicmVxdWVzdF9pZCI6IjU4MzNkZWQxLThiNjUtNGE3NS1hNzhkLTAxMTIxNDE0MzY2MyIsInV1aWQiOiJmMGQ4NGM3OC1jNDcyLTRmZDEtYWY0NC1jYjk3ZjY1N2MxNWEiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLWNoZWNrcG9pbnQtZGVsaW1pdGVyIiwic3RhdHVzIjoic3VjY2VzcyIsImZyb21UaW1lc3RhbXAiOjE3NDQ3MjU1Mjc1NTIsInRvVGltZXN0YW1wIjoxNzQ0NzI1OTgwMjkwLCJzZWVuX3N0YXRlIjoic2VlbiJ9LHsicmVxdWVzdF9pZCI6IjI4MWEwNTZiLTlkZWItNGM3OS1iNzFmLTcxYzI4NDQwZjg4MCIsInN0YXR1cyI6ImNhbmNlbGxlZCIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtdHVybi1kZWxpbWl0ZXIifSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZDA5NDk3ZGMtNzZjZC00ODYzLWJmYmUtNmU0NTM4ZGNmNzc4IiwicmVxdWVzdF9tZXNzYWdlIjoidXBkYXRlIGdldExpc3RMaWNoVHJpbmhUYXVCeURhdGUiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoidXBkYXRlIGdldExpc3RMaWNoVHJpbmhUYXVCeURhdGUifV19XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUNFWldOd2cyc1F0VTZueEJVU2RiZlgiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9MaWNoVHJpbmhUYXVEQU9JbXBsLmphdmFcIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkknbGwgaGVscCB5b3UgaW1wbGVtZW50IHRoZSBgZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZWAgbWV0aG9kIGluIHRoZSBgTGljaFRyaW5oVGF1REFPSW1wbGAgY2xhc3MuIExldCBtZSBmaXJzdCBleGFtaW5lIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIHRvIHVuZGVyc3RhbmQgdGhlIHN0cnVjdHVyZS5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjAsInRleHRfbm9kZSI6eyJjb250ZW50IjoidXBkYXRlIGdldExpc3RMaWNoVHJpbmhUYXVCeURhdGUifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyIsImZvbGRlclJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJJJ2xsIGhlbHAgeW91IGltcGxlbWVudCB0aGUgYGdldExpc3RMaWNoVHJpbmhUYXVCeURhdGVgIG1ldGhvZCBpbiB0aGUgYExpY2hUcmluaFRhdURBT0ltcGxgIGNsYXNzLiBMZXQgbWUgZmlyc3QgZXhhbWluZSB0aGUgY3VycmVudCBpbXBsZW1lbnRhdGlvbiB0byB1bmRlcnN0YW5kIHRoZSBzdHJ1Y3R1cmUuXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMDI2NjRkODQtZGM1OS00NmI2LWE0MTItNDM0OTBiNzI5YWI5IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxWTdDeTRUZ0RqYUdzdVV0cmlGOVhqZyIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9MaWNoVHJpbmhUYXVEQU8uamF2YVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IGxldCBtZSBjaGVjayB0aGUgYExpY2hUcmluaFRhdURBT2AgaW50ZXJmYWNlIHRvIHNlZSBpZiB0aGUgYGdldExpc3RMaWNoVHJpbmhUYXVCeURhdGVgIG1ldGhvZCBpcyBhbHJlYWR5IGRlZmluZWQ6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIEQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPSW1wbC5qYXZhOlxuICAgICAxXHRwYWNrYWdlIGRhby5pbXBsO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGRhby5MaWNoVHJpbmhUYXVEQU87XG4gICAgIDRcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7XG4gICAgIDVcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eVRyYW5zYWN0aW9uO1xuICAgICA2XHRpbXBvcnQgbG9tYm9rLkFsbEFyZ3NDb25zdHJ1Y3RvcjtcbiAgICAgN1x0aW1wb3J0IG1vZGVsLkxpY2hUcmluaFRhdTtcbiAgICAgOFx0XG4gICAgIDlcdGltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbiAgICAxMFx0XG4gICAgMTFcdEBBbGxBcmdzQ29uc3RydWN0b3JcbiAgICAxMlx0cHVibGljIGNsYXNzIExpY2hUcmluaFRhdURBT0ltcGwgaW1wbGVtZW50cyBMaWNoVHJpbmhUYXVEQU8ge1xuICAgIDEzXHQgICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuICAgIDE0XHRcbiAgICAxNVx0ICAgIEBPdmVycmlkZVxuICAgIDE2XHQgICAgcHVibGljIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRBbGxMaXN0KCkge1xuICAgIDE3XHQgICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAxOFx0ICAgICAgICBMaXN0PExpY2hUcmluaFRhdT4gbGlzdCA9IG51bGw7XG4gICAgMTlcdCAgICAgICAgdHJ5IHtcbiAgICAyMFx0ICAgICAgICAgICAgdHguYmVnaW4oKTtcbiAgICAyMVx0ICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZVF1ZXJ5KFwiU0VMRUNUIGx0dCBGUk9NIExpY2hUcmluaFRhdSBsdHRcIiwgTGljaFRyaW5oVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgMjJcdCAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgIDIzXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgMjRcdCAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgMjVcdCAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSBs4bqleSBkYW5oIHPDoWNoIExpY2hUcmluaFRhdVwiKTtcbiAgICAyNlx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAyN1x0ICAgICAgICB9XG4gICAgMjhcdCAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgMjlcdCAgICB9XG4gICAgMzBcdFxuICAgIDMxXHQgICAgQE92ZXJyaWRlXG4gICAgMzJcdCAgICBwdWJsaWMgTGljaFRyaW5oVGF1IGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgMzNcdCAgICAgICAgcmV0dXJuIGVtLmZpbmQoTGljaFRyaW5oVGF1LmNsYXNzLCBpZCk7XG4gICAgMzRcdCAgICB9XG4gICAgMzVcdFxuICAgIDM2XHQgICAgQE92ZXJyaWRlXG4gICAgMzdcdCAgICBwdWJsaWMgYm9vbGVhbiBzYXZlKExpY2hUcmluaFRhdSB0KSB7XG4gICAgMzhcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgIDM5XHQgICAgICAgIHRyeSB7XG4gICAgNDBcdCAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgNDFcdCAgICAgICAgICAgIGVtLnBlcnNpc3QodCk7XG4gICAgNDJcdCAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgIDQzXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICA0NFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDQ1XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDQ2XHQgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgIDQ3XHQgICAgICAgIH1cbiAgICA0OFx0ICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgNDlcdCAgICB9XG4gICAgNTBcdFxuICAgIDUxXHQgICAgQE92ZXJyaWRlXG4gICAgNTJcdCAgICBwdWJsaWMgYm9vbGVhbiB1cGRhdGUoTGljaFRyaW5oVGF1IHQpIHtcbiAgICA1M1x0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgNTRcdCAgICAgICAgdHJ5IHtcbiAgICA1NVx0ICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICA1Nlx0ICAgICAgICAgICAgZW0ubWVyZ2UodCk7XG4gICAgNTdcdCAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgIDU4XHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICA1OVx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDYwXHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDYxXHQgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgIDYyXHQgICAgICAgIH1cbiAgICA2M1x0ICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgNjRcdCAgICB9XG4gICAgNjVcdFxuICAgIDY2XHQgICAgQE92ZXJyaWRlXG4gICAgNjdcdCAgICBwdWJsaWMgYm9vbGVhbiBkZWxldGUoTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdSkge1xuICAgIDY4XHQgICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICA2OVx0ICAgICAgICB0cnkge1xuICAgIDcwXHQgICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgIDcxXHQgICAgICAgICAgICBpZiAoIWVtLmNvbnRhaW5zKGxpY2hUcmluaFRhdSkpIHtcbiAgICA3Mlx0ICAgICAgICAgICAgICAgIGxpY2hUcmluaFRhdSA9IGVtLm1lcmdlKGxpY2hUcmluaFRhdSk7XG4gICAgNzNcdCAgICAgICAgICAgIH1cbiAgICA3NFx0ICAgICAgICAgICAgZW0ucmVtb3ZlKGxpY2hUcmluaFRhdSk7XG4gICAgNzVcdCAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgIDc2XHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICA3N1x0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDc4XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDc5XHQgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgIDgwXHQgICAgICAgIH1cbiAgICA4MVx0ICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgODJcdCAgICB9XG4gICAgODNcdFxuICAgIDg0XHQgICAgcHVibGljIGJvb2xlYW4gZGVsZXRlKFN0cmluZyBpZCkge1xuICAgIDg1XHQgICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICA4Nlx0ICAgICAgICB0cnkge1xuICAgIDg3XHQgICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgIDg4XHQgICAgICAgICAgICBMaWNoVHJpbmhUYXUgdCA9IGVtLmZpbmQoTGljaFRyaW5oVGF1LmNsYXNzLCBpZCk7XG4gICAgODlcdCAgICAgICAgICAgIGlmICh0ICE9IG51bGwpIHtcbiAgICA5MFx0ICAgICAgICAgICAgICAgIGVtLnJlbW92ZSh0KTtcbiAgICA5MVx0ICAgICAgICAgICAgfVxuICAgIDkyXHQgICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICA5M1x0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgOTRcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICA5NVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICA5Nlx0ICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICA5N1x0ICAgICAgICB9XG4gICAgOThcdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIDk5XHQgICAgfVxuICAgMTAwXHR9XG4gICAxMDFcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogMTAxXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFDRVpXTndnMnNRdFU2bnhCVVNkYmZYIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmciLCJmb2xkZXJSb290IjoiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTm93IGxldCBtZSBjaGVjayB0aGUgYExpY2hUcmluaFRhdURBT2AgaW50ZXJmYWNlIHRvIHNlZSBpZiB0aGUgYGdldExpc3RMaWNoVHJpbmhUYXVCeURhdGVgIG1ldGhvZCBpcyBhbHJlYWR5IGRlZmluZWQ6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZTRiNTNhOTMtZjM0MC00YWFmLWE0MmUtY2ZhMmNmODE3ODk2IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxTWdXaUFhUE1ySGt2QjdNWlYyVFlOaSIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL21vZGVsL0xpY2hUcmluaFRhdS5qYXZhXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJMZXQgbWUgYWxzbyBjaGVjayB0aGUgYExpY2hUcmluaFRhdWAgbW9kZWwgdG8gdW5kZXJzdGFuZCBpdHMgc3RydWN0dXJlOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9MaWNoVHJpbmhUYXVEQU8uamF2YTpcbiAgICAgMVx0cGFja2FnZSBkYW87XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgbW9kZWwuTGljaFRyaW5oVGF1O1xuICAgICA0XHRcbiAgICAgNVx0aW1wb3J0IGphdmEudXRpbC5MaXN0O1xuICAgICA2XHRcbiAgICAgN1x0cHVibGljIGludGVyZmFjZSBMaWNoVHJpbmhUYXVEQU8ge1xuICAgICA4XHQgICAgTGlzdDxMaWNoVHJpbmhUYXU+IGdldEFsbExpc3QoKTtcbiAgICAgOVx0ICAgIExpY2hUcmluaFRhdSBnZXRCeUlkKFN0cmluZyBpZCk7XG4gICAgMTBcdCAgICBib29sZWFuIHNhdmUoTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdSk7XG4gICAgMTFcdCAgICBib29sZWFuIHVwZGF0ZShMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1KTtcbiAgICAxMlx0ICAgIGJvb2xlYW4gZGVsZXRlKExpY2hUcmluaFRhdSBsaWNoVHJpbmhUYXUpO1xuICAgIDEzXHR9XG4gICAgMTRcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogMTRcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVk3Q3k0VGdEamFHc3VVdHJpRjlYamcifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyIsImZvbGRlclJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJMZXQgbWUgYWxzbyBjaGVjayB0aGUgYExpY2hUcmluaFRhdWAgbW9kZWwgdG8gdW5kZXJzdGFuZCBpdHMgc3RydWN0dXJlOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImIxZjg0ZDg0LTNmN2MtNDkxYy1iNmYwLTdhNGUxNTQ1Y2QzZiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTZ0M3JuRVRROGVMVk1vczhQTXVOUXoiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcIkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL0xpY2hUcmluaFRhdURBTy5qYXZhXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcInBhY2thZ2UgZGFvO1xcblxcbmltcG9ydCBtb2RlbC5MaWNoVHJpbmhUYXU7XFxuXFxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xcblxcbnB1YmxpYyBpbnRlcmZhY2UgTGljaFRyaW5oVGF1REFPIHtcXG4gICAgTGlzdDxMaWNoVHJpbmhUYXU+IGdldEFsbExpc3QoKTtcXG4gICAgTGljaFRyaW5oVGF1IGdldEJ5SWQoU3RyaW5nIGlkKTtcXG4gICAgYm9vbGVhbiBzYXZlKExpY2hUcmluaFRhdSBsaWNoVHJpbmhUYXUpO1xcbiAgICBib29sZWFuIHVwZGF0ZShMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1KTtcXG4gICAgYm9vbGVhbiBkZWxldGUoTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdSk7XFxufVwiLCBcIm5ld19zdHJcIjogXCJwYWNrYWdlIGRhbztcXG5cXG5pbXBvcnQgbW9kZWwuTGljaFRyaW5oVGF1O1xcblxcbmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlO1xcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcXG5cXG5wdWJsaWMgaW50ZXJmYWNlIExpY2hUcmluaFRhdURBTyB7XFxuICAgIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRBbGxMaXN0KCk7XFxuICAgIExpY2hUcmluaFRhdSBnZXRCeUlkKFN0cmluZyBpZCk7XFxuICAgIGJvb2xlYW4gc2F2ZShMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1KTtcXG4gICAgYm9vbGVhbiB1cGRhdGUoTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdSk7XFxuICAgIGJvb2xlYW4gZGVsZXRlKExpY2hUcmluaFRhdSBsaWNoVHJpbmhUYXUpO1xcbiAgICBMaXN0PExpY2hUcmluaFRhdT4gZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZShMb2NhbERhdGUgZGF0ZSk7XFxufVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMSwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAxM31dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IEknbGwgaW1wbGVtZW50IHRoZSBgZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZWAgbWV0aG9kIGluIHRoZSBgTGljaFRyaW5oVGF1REFPSW1wbGAgY2xhc3MgYW5kIHVwZGF0ZSB0aGUgaW50ZXJmYWNlIHRvIGluY2x1ZGUgdGhpcyBtZXRob2QuXG5cbkZpcnN0LCBsZXQncyB1cGRhdGUgdGhlIGludGVyZmFjZTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9tb2RlbC9MaWNoVHJpbmhUYXUuamF2YTpcbiAgICAgMVx0cGFja2FnZSBtb2RlbDtcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLio7XG4gICAgIDRcdGltcG9ydCBsb21ib2suRGF0YTtcbiAgICAgNVx0aW1wb3J0IGxvbWJvay5FcXVhbHNBbmRIYXNoQ29kZTtcbiAgICAgNlx0aW1wb3J0IGxvbWJvay5Ub1N0cmluZztcbiAgICAgN1x0XG4gICAgIDhcdGltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlO1xuICAgICA5XHRpbXBvcnQgamF2YS50aW1lLkxvY2FsVGltZTtcbiAgICAxMFx0aW1wb3J0IGphdmEudXRpbC5TZXQ7XG4gICAgMTFcdFxuICAgIDEyXHRARW50aXR5XG4gICAgMTNcdEBEYXRhXG4gICAgMTRcdEBFcXVhbHNBbmRIYXNoQ29kZShvbmx5RXhwbGljaXRseUluY2x1ZGVkID0gdHJ1ZSlcbiAgICAxNVx0QFRhYmxlKG5hbWUgPSBcImxpY2h0cmluaHRhdVwiKVxuICAgIDE2XHRwdWJsaWMgY2xhc3MgTGljaFRyaW5oVGF1IHtcbiAgICAxN1x0ICAgIEBJZFxuICAgIDE4XHQgICAgQENvbHVtbihuYW1lID0gXCJtYV9saWNoXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcIlZBUkNIQVIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlLHVuaXF1ZSA9IHRydWUpXG4gICAgMTlcdCAgICBwcml2YXRlICBTdHJpbmcgbWFMaWNoO1xuICAgIDIwXHQgICAgQENvbHVtbihuYW1lID0gXCJnaW9fZGlcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiVElNRVwiLG51bGxhYmxlID0gZmFsc2UpXG4gICAgMjFcdCAgICBwcml2YXRlIExvY2FsVGltZSBnaW9EaTtcbiAgICAyMlx0ICAgIEBDb2x1bW4obmFtZSA9IFwibmdheV9kaVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJEQVRFXCIsbnVsbGFibGUgPSBmYWxzZSlcbiAgICAyM1x0ICAgIHByaXZhdGUgTG9jYWxEYXRlIG5nYXlEaTtcbiAgICAyNFx0ICAgIEBDb2x1bW4obmFtZSA9IFwidHJhbmdfdGhhaVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJOVkFSQ0hBUig1MClcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICAyNVx0ICAgIHByaXZhdGUgU3RyaW5nIHRyYW5nVGhhaTtcbiAgICAyNlx0XG4gICAgMjdcdCAgICBATWFueVRvT25lXG4gICAgMjhcdCAgICBASm9pbkNvbHVtbihuYW1lID0gXCJ0YXVfbWFfdGF1XCIsIHJlZmVyZW5jZWRDb2x1bW5OYW1lID0gXCJtYV90YXVcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICAyOVx0ICAgIHByaXZhdGUgVGF1IHRhdTtcbiAgICAzMFx0XG4gICAgMzFcdCAgICBAT25lVG9NYW55KG1hcHBlZEJ5ID0gXCJsaWNoVHJpbmhUYXVcIilcbiAgICAzMlx0ICAgIEBUb1N0cmluZy5FeGNsdWRlXG4gICAgMzNcdCAgICBwcml2YXRlIFNldDxWZVRhdT4gdmVfdGF1cztcbiAgICAzNFx0fVxuICAgIDM1XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDM1XG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFNZ1dpQWFQTXJIa3ZCN01aVjJUWU5pIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmciLCJmb2xkZXJSb290IjoiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTm93IEknbGwgaW1wbGVtZW50IHRoZSBgZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZWAgbWV0aG9kIGluIHRoZSBgTGljaFRyaW5oVGF1REFPSW1wbGAgY2xhc3MgYW5kIHVwZGF0ZSB0aGUgaW50ZXJmYWNlIHRvIGluY2x1ZGUgdGhpcyBtZXRob2QuXG5cbkZpcnN0LCBsZXQncyB1cGRhdGUgdGhlIGludGVyZmFjZTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI0YzliNjkxMi1jMzJhLTRjYjUtOTQxNy04ZGZjNjUzMWUxN2UiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE5ZkE0R2E2bnM5YndZc0NEeUhBSmFqIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xpY2hUcmluaFRhdURBT0ltcGwuamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCJwYWNrYWdlIGRhby5pbXBsO1xcblxcbmltcG9ydCBkYW8uTGljaFRyaW5oVGF1REFPO1xcbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7XFxuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5VHJhbnNhY3Rpb247XFxuaW1wb3J0IGxvbWJvay5BbGxBcmdzQ29uc3RydWN0b3I7XFxuaW1wb3J0IG1vZGVsLkxpY2hUcmluaFRhdTtcXG5cXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XCIsIFwibmV3X3N0clwiOiBcInBhY2thZ2UgZGFvLmltcGw7XFxuXFxuaW1wb3J0IGRhby5MaWNoVHJpbmhUYXVEQU87XFxuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjtcXG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlUcmFuc2FjdGlvbjtcXG5pbXBvcnQgbG9tYm9rLkFsbEFyZ3NDb25zdHJ1Y3RvcjtcXG5pbXBvcnQgbW9kZWwuTGljaFRyaW5oVGF1O1xcblxcbmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlO1xcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDEsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogOX1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93LCBsZXQncyBpbXBsZW1lbnQgdGhlIGBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlYCBtZXRob2QgaW4gdGhlIGBMaWNoVHJpbmhUYXVEQU9JbXBsYCBjbGFzczpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vTGljaFRyaW5oVGF1REFPLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgMVx0cGFja2FnZSBkYW87XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgbW9kZWwuTGljaFRyaW5oVGF1O1xuICAgICA0XHRcbiAgICAgNVx0aW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGU7XG4gICAgIDZcdGltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbiAgICAgN1x0XG4gICAgIDhcdHB1YmxpYyBpbnRlcmZhY2UgTGljaFRyaW5oVGF1REFPIHtcbiAgICAgOVx0ICAgIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRBbGxMaXN0KCk7XG4gICAgMTBcdCAgICBMaWNoVHJpbmhUYXUgZ2V0QnlJZChTdHJpbmcgaWQpO1xuICAgIDExXHQgICAgYm9vbGVhbiBzYXZlKExpY2hUcmluaFRhdSBsaWNoVHJpbmhUYXUpO1xuICAgIDEyXHQgICAgYm9vbGVhbiB1cGRhdGUoTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdSk7XG4gICAgMTNcdCAgICBib29sZWFuIGRlbGV0ZShMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1KTtcbiAgICAxNFx0ICAgIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlKExvY2FsRGF0ZSBkYXRlKTtcbiAgICAxNVx0fVxuICAgIDE2XHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxNnQzcm5FVFE4ZUxWTW9zOFBNdU5ReiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nIiwiZm9sZGVyUm9vdCI6IkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6Ik5vdywgbGV0J3MgaW1wbGVtZW50IHRoZSBgZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZWAgbWV0aG9kIGluIHRoZSBgTGljaFRyaW5oVGF1REFPSW1wbGAgY2xhc3M6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZTQ2NTU3NjMtMjA3Ni00ZjkxLWExMDUtYzcxNTM3MDIwZDZhIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxS1FDRzVUV05Dc2p1M3JKYVZQUnY0ayIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9MaWNoVHJpbmhUYXVEQU9JbXBsLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgIHB1YmxpYyBib29sZWFuIGRlbGV0ZShTdHJpbmcgaWQpIHtcXG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgdHIuYmVnaW4oKTtcXG4gICAgICAgICAgICBMaWNoVHJpbmhUYXUgdCA9IGVtLmZpbmQoTGljaFRyaW5oVGF1LmNsYXNzLCBpZCk7XFxuICAgICAgICAgICAgaWYgKHQgIT0gbnVsbCkge1xcbiAgICAgICAgICAgICAgICBlbS5yZW1vdmUodCk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gZmFsc2U7XFxuICAgIH1cIiwgXCJuZXdfc3RyXCI6IFwiICAgIHB1YmxpYyBib29sZWFuIGRlbGV0ZShTdHJpbmcgaWQpIHtcXG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgdHIuYmVnaW4oKTtcXG4gICAgICAgICAgICBMaWNoVHJpbmhUYXUgdCA9IGVtLmZpbmQoTGljaFRyaW5oVGF1LmNsYXNzLCBpZCk7XFxuICAgICAgICAgICAgaWYgKHQgIT0gbnVsbCkge1xcbiAgICAgICAgICAgICAgICBlbS5yZW1vdmUodCk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gZmFsc2U7XFxuICAgIH1cXG4gICAgXFxuICAgIEBPdmVycmlkZVxcbiAgICBwdWJsaWMgTGlzdDxMaWNoVHJpbmhUYXU+IGdldExpc3RMaWNoVHJpbmhUYXVCeURhdGUoTG9jYWxEYXRlIGRhdGUpIHtcXG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcXG4gICAgICAgIExpc3Q8TGljaFRyaW5oVGF1PiBsaXN0ID0gbnVsbDtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgdHIuYmVnaW4oKTtcXG4gICAgICAgICAgICBTdHJpbmcganBxbCA9IFxcXCJTRUxFQ1QgbHR0IEZST00gTGljaFRyaW5oVGF1IGx0dCBXSEVSRSBsdHQubmdheURpID0gOmRhdGVcXFwiO1xcbiAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShqcHFsLCBMaWNoVHJpbmhUYXUuY2xhc3MpXFxuICAgICAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFxcXCJkYXRlXFxcIiwgZGF0ZSlcXG4gICAgICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7XFxuICAgICAgICAgICAgdHIuY29tbWl0KCk7XFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICAgICAgaWYgKHRyLmlzQWN0aXZlKCkpIHtcXG4gICAgICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFxcXCJMXFx1MWVkN2kga2hpIGxcXHUxZWE1eSBkYW5oIHNcXHUwMGUxY2ggTGljaFRyaW5oVGF1IHRoZW8gbmdcXHUwMGUweVxcXCIpO1xcbiAgICAgICAgfVxcbiAgICAgICAgcmV0dXJuIGxpc3Q7XFxuICAgIH1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDg0LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDk5fV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3csIGxldCdzIGFkZCB0aGUgaW1wbGVtZW50YXRpb24gb2YgdGhlIGBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlYCBtZXRob2Q6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIEQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPSW1wbC5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDFcdHBhY2thZ2UgZGFvLmltcGw7XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgZGFvLkxpY2hUcmluaFRhdURBTztcbiAgICAgNFx0aW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjtcbiAgICAgNVx0aW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5VHJhbnNhY3Rpb247XG4gICAgIDZcdGltcG9ydCBsb21ib2suQWxsQXJnc0NvbnN0cnVjdG9yO1xuICAgICA3XHRpbXBvcnQgbW9kZWwuTGljaFRyaW5oVGF1O1xuICAgICA4XHRcbiAgICAgOVx0aW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGU7XG4gICAgMTBcdGltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbiAgICAxMVx0XG4gICAgMTJcdEBBbGxBcmdzQ29uc3RydWN0b3JcbiAgICAxM1x0cHVibGljIGNsYXNzIExpY2hUcmluaFRhdURBT0ltcGwgaW1wbGVtZW50cyBMaWNoVHJpbmhUYXVEQU8ge1xuICAgIDE0XHQgICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE5ZkE0R2E2bnM5YndZc0NEeUhBSmFqIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmciLCJmb2xkZXJSb290IjoiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTm93LCBsZXQncyBhZGQgdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoZSBgZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZWAgbWV0aG9kOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjBkN2E2ZjMyLTg2ZWItNDAyNS04MDUwLWNiM2FkNTc3NjFjNyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkkndmUgc3VjY2Vzc2Z1bGx5IGltcGxlbWVudGVkIHRoZSBgZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZWAgbWV0aG9kIGluIHRoZSBgTGljaFRyaW5oVGF1REFPSW1wbGAgY2xhc3MuIEhlcmUncyBhIHN1bW1hcnkgb2YgdGhlIGNoYW5nZXMgSSBtYWRlOlxuXG4xLiBVcGRhdGVkIHRoZSBgTGljaFRyaW5oVGF1REFPYCBpbnRlcmZhY2UgdG8gaW5jbHVkZSB0aGUgbmV3IG1ldGhvZDpcbiAgIGBgYGphdmFcbiAgIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlKExvY2FsRGF0ZSBkYXRlKTtcbiAgIGBgYFxuXG4yLiBBZGRlZCB0aGUgaW1wb3J0IGZvciBgamF2YS50aW1lLkxvY2FsRGF0ZWAgaW4gYm90aCB0aGUgaW50ZXJmYWNlIGFuZCBpbXBsZW1lbnRhdGlvbiBjbGFzcy5cblxuMy4gSW1wbGVtZW50ZWQgdGhlIGBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlYCBtZXRob2QgaW4gdGhlIGBMaWNoVHJpbmhUYXVEQU9JbXBsYCBjbGFzczpcbiAgIC0gVGhlIG1ldGhvZCB0YWtlcyBhIGBMb2NhbERhdGVgIHBhcmFtZXRlciB0byBmaWx0ZXIgcmVjb3JkcyBieSBkYXRlXG4gICAtIEl0IHVzZXMgYSBKUFFMIHF1ZXJ5IHRvIHNlbGVjdCBgTGljaFRyaW5oVGF1YCBlbnRpdGllcyB3aGVyZSB0aGUgYG5nYXlEaWAgZmllbGQgbWF0Y2hlcyB0aGUgcHJvdmlkZWQgZGF0ZVxuICAgLSBJdCBpbmNsdWRlcyBwcm9wZXIgdHJhbnNhY3Rpb24gbWFuYWdlbWVudCAoYmVnaW4sIGNvbW1pdCwgcm9sbGJhY2spXG4gICAtIEl0IGluY2x1ZGVzIGVycm9yIGhhbmRsaW5nIHdpdGggYXBwcm9wcmlhdGUgZXJyb3IgbWVzc2FnZXNcblxuVGhlIGltcGxlbWVudGF0aW9uIGZvbGxvd3MgdGhlIHNhbWUgcGF0dGVybiBhcyBvdGhlciBtZXRob2RzIGluIHRoZSBjbGFzcywgZW5zdXJpbmcgY29uc2lzdGVuY3kgaW4gdGhlIGNvZGViYXNlLiBUaGUgbWV0aG9kIHdpbGwgcmV0dXJuIGEgbGlzdCBvZiBgTGljaFRyaW5oVGF1YCBvYmplY3RzIHRoYXQgaGF2ZSB0aGUgc3BlY2lmaWVkIGRlcGFydHVyZSBkYXRlLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xpY2hUcmluaFRhdURBT0ltcGwuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDgxXHQgICAgICAgIH1cbiAgICA4Mlx0ICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgODNcdCAgICB9XG4gICAgODRcdFxuICAgIDg1XHQgICAgcHVibGljIGJvb2xlYW4gZGVsZXRlKFN0cmluZyBpZCkge1xuICAgIDg2XHQgICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICA4N1x0ICAgICAgICB0cnkge1xuICAgIDg4XHQgICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgIDg5XHQgICAgICAgICAgICBMaWNoVHJpbmhUYXUgdCA9IGVtLmZpbmQoTGljaFRyaW5oVGF1LmNsYXNzLCBpZCk7XG4gICAgOTBcdCAgICAgICAgICAgIGlmICh0ICE9IG51bGwpIHtcbiAgICA5MVx0ICAgICAgICAgICAgICAgIGVtLnJlbW92ZSh0KTtcbiAgICA5Mlx0ICAgICAgICAgICAgfVxuICAgIDkzXHQgICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICA5NFx0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgOTVcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICA5Nlx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICA5N1x0ICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICA5OFx0ICAgICAgICB9XG4gICAgOTlcdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgMTAwXHQgICAgfVxuICAgMTAxXHRcbiAgIDEwMlx0ICAgIEBPdmVycmlkZVxuICAgMTAzXHQgICAgcHVibGljIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlKExvY2FsRGF0ZSBkYXRlKSB7XG4gICAxMDRcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgMTA1XHQgICAgICAgIExpc3Q8TGljaFRyaW5oVGF1PiBsaXN0ID0gbnVsbDtcbiAgIDEwNlx0ICAgICAgICB0cnkge1xuICAgMTA3XHQgICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgMTA4XHQgICAgICAgICAgICBTdHJpbmcganBxbCA9IFwiU0VMRUNUIGx0dCBGUk9NIExpY2hUcmluaFRhdSBsdHQgV0hFUkUgbHR0Lm5nYXlEaSA9IDpkYXRlXCI7XG4gICAxMDlcdCAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShqcHFsLCBMaWNoVHJpbmhUYXUuY2xhc3MpXG4gICAxMTBcdCAgICAgICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImRhdGVcIiwgZGF0ZSlcbiAgIDExMVx0ICAgICAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgMTEyXHQgICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgIDExM1x0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgMTE0XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgMTE1XHQgICAgICAgICAgICBpZiAodHIuaXNBY3RpdmUoKSkge1xuICAgMTE2XHQgICAgICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgIDExN1x0ICAgICAgICAgICAgfVxuICAgMTE4XHQgICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4buXaSBraGkgbOG6pXkgZGFuaCBzw6FjaCBMaWNoVHJpbmhUYXUgdGhlbyBuZ8OgeVwiKTtcbiAgIDExOVx0ICAgICAgICB9XG4gICAxMjBcdCAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAxMjFcdCAgICB9XG4gICAxMjJcdH1cbiAgIDEyM1x0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUtRQ0c1VFdOQ3NqdTNySmFWUFJ2NGsifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyIsImZvbGRlclJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJJJ3ZlIHN1Y2Nlc3NmdWxseSBpbXBsZW1lbnRlZCB0aGUgYGdldExpc3RMaWNoVHJpbmhUYXVCeURhdGVgIG1ldGhvZCBpbiB0aGUgYExpY2hUcmluaFRhdURBT0ltcGxgIGNsYXNzLiBIZXJlJ3MgYSBzdW1tYXJ5IG9mIHRoZSBjaGFuZ2VzIEkgbWFkZTpcblxuMS4gVXBkYXRlZCB0aGUgYExpY2hUcmluaFRhdURBT2AgaW50ZXJmYWNlIHRvIGluY2x1ZGUgdGhlIG5ldyBtZXRob2Q6XG4gICBgYGBqYXZhXG4gICBMaXN0PExpY2hUcmluaFRhdT4gZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZShMb2NhbERhdGUgZGF0ZSk7XG4gICBgYGBcblxuMi4gQWRkZWQgdGhlIGltcG9ydCBmb3IgYGphdmEudGltZS5Mb2NhbERhdGVgIGluIGJvdGggdGhlIGludGVyZmFjZSBhbmQgaW1wbGVtZW50YXRpb24gY2xhc3MuXG5cbjMuIEltcGxlbWVudGVkIHRoZSBgZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZWAgbWV0aG9kIGluIHRoZSBgTGljaFRyaW5oVGF1REFPSW1wbGAgY2xhc3M6XG4gICAtIFRoZSBtZXRob2QgdGFrZXMgYSBgTG9jYWxEYXRlYCBwYXJhbWV0ZXIgdG8gZmlsdGVyIHJlY29yZHMgYnkgZGF0ZVxuICAgLSBJdCB1c2VzIGEgSlBRTCBxdWVyeSB0byBzZWxlY3QgYExpY2hUcmluaFRhdWAgZW50aXRpZXMgd2hlcmUgdGhlIGBuZ2F5RGlgIGZpZWxkIG1hdGNoZXMgdGhlIHByb3ZpZGVkIGRhdGVcbiAgIC0gSXQgaW5jbHVkZXMgcHJvcGVyIHRyYW5zYWN0aW9uIG1hbmFnZW1lbnQgKGJlZ2luLCBjb21taXQsIHJvbGxiYWNrKVxuICAgLSBJdCBpbmNsdWRlcyBlcnJvciBoYW5kbGluZyB3aXRoIGFwcHJvcHJpYXRlIGVycm9yIG1lc3NhZ2VzXG5cblRoZSBpbXBsZW1lbnRhdGlvbiBmb2xsb3dzIHRoZSBzYW1lIHBhdHRlcm4gYXMgb3RoZXIgbWV0aG9kcyBpbiB0aGUgY2xhc3MsIGVuc3VyaW5nIGNvbnNpc3RlbmN5IGluIHRoZSBjb2RlYmFzZS4gVGhlIG1ldGhvZCB3aWxsIHJldHVybiBhIGxpc3Qgb2YgYExpY2hUcmluaFRhdWAgb2JqZWN0cyB0aGF0IGhhdmUgdGhlIHNwZWNpZmllZCBkZXBhcnR1cmUgZGF0ZS5cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsicmVxdWVzdF9pZCI6Ijg5YzUxZjU2LTNhOGYtNGJiZC1iMGQ5LTBmZWZiZWQxYWFlZSIsInV1aWQiOiJlMWJiMThjYi00Nzk1LTQ2NGYtYmFkMi05MzY3ZWVmNTVhZjQiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLWNoZWNrcG9pbnQtZGVsaW1pdGVyIiwic3RhdHVzIjoic3VjY2VzcyIsImZyb21UaW1lc3RhbXAiOjE3NDQ3MjU5ODAyOTAsInRvVGltZXN0YW1wIjoxNzQ0NzI4MzU4MDM1LCJzZWVuX3N0YXRlIjoic2VlbiJ9LHsicmVxdWVzdF9pZCI6IjRjODMwNDUyLWIyMTEtNGNhNS04NGI1LTNlOWFiYzRjNzVhZiIsInN0YXR1cyI6ImNhbmNlbGxlZCIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtdHVybi1kZWxpbWl0ZXIifSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiYTRkYWY3ZGUtZTA2Yy00ZTcxLTlmMWEtZDlkNmU0NGIwNjEyIiwicmVxdWVzdF9tZXNzYWdlIjoiZmluYWwgXG4gQE92ZXJyaWRlXHJcbiAgICBwdWJsaWMgTGlzdDxMaWNoVHJpbmhUYXU+IGdldExpc3RMaWNoVHJpbmhUYXVCeURhdGUoTG9jYWxEYXRlIGRhdGUpIHtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBAT3ZlcnJpZGVcclxuICAgIHB1YmxpYyBMaXN0PExpY2hUcmluaFRhdT4gZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZUFuZEdhRGkoTG9jYWxEYXRlIGRhdGUsIFN0cmluZyBnYURpKSB7XHJcbiAgICAgICAgcmV0dXJuIExpc3Qub2YoKTtcclxuICAgIH1cclxuXHJcbiAgICBAT3ZlcnJpZGVcclxuICAgIHB1YmxpYyBMaXN0PExpY2hUcmluaFRhdT4gZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZUFuZEdhRGlHYURlbihMb2NhbERhdGUgZGF0ZSwgU3RyaW5nIGdhRGksIFN0cmluZyBnYURlbikge1xyXG4gICAgICAgIHJldHVybiBMaXN0Lm9mKCk7XHJcbiAgICB9XHJcblxyXG4gICAgQE92ZXJyaWRlXHJcbiAgICBwdWJsaWMgTGlzdDxMaWNoVHJpbmhUYXU+IGdldExpc3RMaWNoVHJpbmhUYXVCeURhdGVBbmRHYURpR2FEZW5BbmRHaW9EaShMb2NhbERhdGUgZGF0ZSwgU3RyaW5nIGdhRGksIFN0cmluZyBnYURlbiwgU3RyaW5nIGdpb0RpKSB7XHJcbiAgICAgICAgcmV0dXJuIExpc3Qub2YoKTtcclxuICAgIH1cclxuIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCIsImNvbnRlbnQiOlt7InR5cGUiOiJ0ZXh0IiwidGV4dCI6ImZpbmFsICJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiIEBPdmVycmlkZVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgcHVibGljIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlKExvY2FsRGF0ZSBkYXRlKSB7XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICAgICAgXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICB9XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IlxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgQE92ZXJyaWRlXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICBwdWJsaWMgTGlzdDxMaWNoVHJpbmhUYXU+IGdldExpc3RMaWNoVHJpbmhUYXVCeURhdGVBbmRHYURpKExvY2FsRGF0ZSBkYXRlLCBTdHJpbmcgZ2FEaSkge1xyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgICAgIHJldHVybiBMaXN0Lm9mKCk7XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICB9XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IlxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgQE92ZXJyaWRlXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICBwdWJsaWMgTGlzdDxMaWNoVHJpbmhUYXU+IGdldExpc3RMaWNoVHJpbmhUYXVCeURhdGVBbmRHYURpR2FEZW4oTG9jYWxEYXRlIGRhdGUsIFN0cmluZyBnYURpLCBTdHJpbmcgZ2FEZW4pIHtcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiICAgICAgICByZXR1cm4gTGlzdC5vZigpO1xyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgfVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiICAgIEBPdmVycmlkZVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgcHVibGljIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlQW5kR2FEaUdhRGVuQW5kR2lvRGkoTG9jYWxEYXRlIGRhdGUsIFN0cmluZyBnYURpLCBTdHJpbmcgZ2FEZW4sIFN0cmluZyBnaW9EaSkge1xyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgICAgIHJldHVybiBMaXN0Lm9mKCk7XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICB9XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifV19XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUs0Q1pKNHR3bVNRWnc0UWdOMWRzR0oiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9MaWNoVHJpbmhUYXVEQU9JbXBsLmphdmFcIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkknbGwgaGVscCB5b3UgaW1wbGVtZW50IGFsbCB0aGVzZSBtZXRob2RzIGluIHRoZSBgTGljaFRyaW5oVGF1REFPSW1wbGAgY2xhc3MuIExldCBtZSBmaXJzdCBjaGVjayB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgZmlsZSBhbmQgdGhlIGludGVyZmFjZSB0byBlbnN1cmUgZXZlcnl0aGluZyBpcyBwcm9wZXJseSBhbGlnbmVkLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MCwidGV4dF9ub2RlIjp7ImNvbnRlbnQiOiJmaW5hbCBcbiBAT3ZlcnJpZGVcclxuICAgIHB1YmxpYyBMaXN0PExpY2hUcmluaFRhdT4gZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZShMb2NhbERhdGUgZGF0ZSkge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIEBPdmVycmlkZVxyXG4gICAgcHVibGljIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlQW5kR2FEaShMb2NhbERhdGUgZGF0ZSwgU3RyaW5nIGdhRGkpIHtcclxuICAgICAgICByZXR1cm4gTGlzdC5vZigpO1xyXG4gICAgfVxyXG5cclxuICAgIEBPdmVycmlkZVxyXG4gICAgcHVibGljIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlQW5kR2FEaUdhRGVuKExvY2FsRGF0ZSBkYXRlLCBTdHJpbmcgZ2FEaSwgU3RyaW5nIGdhRGVuKSB7XHJcbiAgICAgICAgcmV0dXJuIExpc3Qub2YoKTtcclxuICAgIH1cclxuXHJcbiAgICBAT3ZlcnJpZGVcclxuICAgIHB1YmxpYyBMaXN0PExpY2hUcmluaFRhdT4gZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZUFuZEdhRGlHYURlbkFuZEdpb0RpKExvY2FsRGF0ZSBkYXRlLCBTdHJpbmcgZ2FEaSwgU3RyaW5nIGdhRGVuLCBTdHJpbmcgZ2lvRGkpIHtcclxuICAgICAgICByZXR1cm4gTGlzdC5vZigpO1xyXG4gICAgfVxyXG4ifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyIsImZvbGRlclJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJJJ2xsIGhlbHAgeW91IGltcGxlbWVudCBhbGwgdGhlc2UgbWV0aG9kcyBpbiB0aGUgYExpY2hUcmluaFRhdURBT0ltcGxgIGNsYXNzLiBMZXQgbWUgZmlyc3QgY2hlY2sgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGZpbGUgYW5kIHRoZSBpbnRlcmZhY2UgdG8gZW5zdXJlIGV2ZXJ5dGhpbmcgaXMgcHJvcGVybHkgYWxpZ25lZC5cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI2OTcyNTRmNS04Yjc3LTRlODMtYWVmNy00ZDk3YTE3ZTEzOTkiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFXNEM0Q3lab2JTZ2cxZGszaTJzQUh1IiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcIkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL0xpY2hUcmluaFRhdURBTy5qYXZhXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIEQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPSW1wbC5qYXZhOlxuICAgICAxXHRwYWNrYWdlIGRhby5pbXBsO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGRhby5MaWNoVHJpbmhUYXVEQU87XG4gICAgIDRcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7XG4gICAgIDVcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eVRyYW5zYWN0aW9uO1xuICAgICA2XHRpbXBvcnQgbG9tYm9rLkFsbEFyZ3NDb25zdHJ1Y3RvcjtcbiAgICAgN1x0aW1wb3J0IG1vZGVsLkxpY2hUcmluaFRhdTtcbiAgICAgOFx0XG4gICAgIDlcdGltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlO1xuICAgIDEwXHRpbXBvcnQgamF2YS51dGlsLkxpc3Q7XG4gICAgMTFcdFxuICAgIDEyXHRAQWxsQXJnc0NvbnN0cnVjdG9yXG4gICAgMTNcdHB1YmxpYyBjbGFzcyBMaWNoVHJpbmhUYXVEQU9JbXBsIGltcGxlbWVudHMgTGljaFRyaW5oVGF1REFPIHtcbiAgICAxNFx0ICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbTtcbiAgICAxNVx0XG4gICAgMTZcdCAgICBAT3ZlcnJpZGVcbiAgICAxN1x0ICAgIHB1YmxpYyBMaXN0PExpY2hUcmluaFRhdT4gZ2V0QWxsTGlzdCgpIHtcbiAgICAxOFx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgMTlcdCAgICAgICAgTGlzdDxMaWNoVHJpbmhUYXU+IGxpc3QgPSBudWxsO1xuICAgIDIwXHQgICAgICAgIHRyeSB7XG4gICAgMjFcdCAgICAgICAgICAgIHR4LmJlZ2luKCk7XG4gICAgMjJcdCAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShcIlNFTEVDVCBsdHQgRlJPTSBMaWNoVHJpbmhUYXUgbHR0XCIsIExpY2hUcmluaFRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIDIzXHQgICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAyNFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDI1XHQgICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgIDI2XHQgICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4buXaSBraGkgbOG6pXkgZGFuaCBzw6FjaCBMaWNoVHJpbmhUYXVcIik7XG4gICAgMjdcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgMjhcdCAgICAgICAgfVxuICAgIDI5XHQgICAgICAgIHJldHVybiBsaXN0O1xuICAgIDMwXHQgICAgfVxuICAgIDMxXHRcbiAgICAzMlx0ICAgIEBPdmVycmlkZVxuICAgIDMzXHQgICAgcHVibGljIExpY2hUcmluaFRhdSBnZXRCeUlkKFN0cmluZyBpZCkge1xuICAgIDM0XHQgICAgICAgIHJldHVybiBlbS5maW5kKExpY2hUcmluaFRhdS5jbGFzcywgaWQpO1xuICAgIDM1XHQgICAgfVxuICAgIDM2XHRcbiAgICAzN1x0ICAgIEBPdmVycmlkZVxuICAgIDM4XHQgICAgcHVibGljIGJvb2xlYW4gc2F2ZShMaWNoVHJpbmhUYXUgdCkge1xuICAgIDM5XHQgICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICA0MFx0ICAgICAgICB0cnkge1xuICAgIDQxXHQgICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgIDQyXHQgICAgICAgICAgICBlbS5wZXJzaXN0KHQpO1xuICAgIDQzXHQgICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICA0NFx0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgNDVcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICA0Nlx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICA0N1x0ICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICA0OFx0ICAgICAgICB9XG4gICAgNDlcdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIDUwXHQgICAgfVxuICAgIDUxXHRcbiAgICA1Mlx0ICAgIEBPdmVycmlkZVxuICAgIDUzXHQgICAgcHVibGljIGJvb2xlYW4gdXBkYXRlKExpY2hUcmluaFRhdSB0KSB7XG4gICAgNTRcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgIDU1XHQgICAgICAgIHRyeSB7XG4gICAgNTZcdCAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgNTdcdCAgICAgICAgICAgIGVtLm1lcmdlKHQpO1xuICAgIDU4XHQgICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICA1OVx0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgNjBcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICA2MVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICA2Mlx0ICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICA2M1x0ICAgICAgICB9XG4gICAgNjRcdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIDY1XHQgICAgfVxuICAgIDY2XHRcbiAgICA2N1x0ICAgIEBPdmVycmlkZVxuICAgIDY4XHQgICAgcHVibGljIGJvb2xlYW4gZGVsZXRlKExpY2hUcmluaFRhdSBsaWNoVHJpbmhUYXUpIHtcbiAgICA2OVx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgNzBcdCAgICAgICAgdHJ5IHtcbiAgICA3MVx0ICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICA3Mlx0ICAgICAgICAgICAgaWYgKCFlbS5jb250YWlucyhsaWNoVHJpbmhUYXUpKSB7XG4gICAgNzNcdCAgICAgICAgICAgICAgICBsaWNoVHJpbmhUYXUgPSBlbS5tZXJnZShsaWNoVHJpbmhUYXUpO1xuICAgIDc0XHQgICAgICAgICAgICB9XG4gICAgNzVcdCAgICAgICAgICAgIGVtLnJlbW92ZShsaWNoVHJpbmhUYXUpO1xuICAgIDc2XHQgICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICA3N1x0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgNzhcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICA3OVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICA4MFx0ICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICA4MVx0ICAgICAgICB9XG4gICAgODJcdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIDgzXHQgICAgfVxuICAgIDg0XHRcbiAgICA4NVx0ICAgIHB1YmxpYyBib29sZWFuIGRlbGV0ZShTdHJpbmcgaWQpIHtcbiAgICA4Nlx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgODdcdCAgICAgICAgdHJ5IHtcbiAgICA4OFx0ICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICA4OVx0ICAgICAgICAgICAgTGljaFRyaW5oVGF1IHQgPSBlbS5maW5kKExpY2hUcmluaFRhdS5jbGFzcywgaWQpO1xuICAgIDkwXHQgICAgICAgICAgICBpZiAodCAhPSBudWxsKSB7XG4gICAgOTFcdCAgICAgICAgICAgICAgICBlbS5yZW1vdmUodCk7XG4gICAgOTJcdCAgICAgICAgICAgIH1cbiAgICA5M1x0ICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgOTRcdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIDk1XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgOTZcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgOTdcdCAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgOThcdCAgICAgICAgfVxuICAgIDk5XHQgICAgICAgIHJldHVybiBmYWxzZTtcbiAgIDEwMFx0ICAgIH1cbiAgIDEwMVx0XG4gICAxMDJcdCAgICBAT3ZlcnJpZGVcbiAgIDEwM1x0ICAgIHB1YmxpYyBMaXN0PExpY2hUcmluaFRhdT4gZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZShMb2NhbERhdGUgZGF0ZSkge1xuICAgMTA0XHQgICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgIDEwNVx0ICAgICAgICBMaXN0PExpY2hUcmluaFRhdT4gbGlzdCA9IG51bGw7XG4gICAxMDZcdCAgICAgICAgdHJ5IHtcbiAgIDEwN1x0ICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgIDEwOFx0ICAgICAgICAgICAgU3RyaW5nIGpwcWwgPSBcIlNFTEVDVCBsdHQgRlJPTSBMaWNoVHJpbmhUYXUgbHR0IFdIRVJFIGx0dC5uZ2F5RGkgPSA6ZGF0ZVwiO1xuICAgMTA5XHQgICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoanBxbCwgTGljaFRyaW5oVGF1LmNsYXNzKVxuICAgMTEwXHQgICAgICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJkYXRlXCIsIGRhdGUpXG4gICAxMTFcdCAgICAgICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgIDExMlx0ICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAxMTNcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDExNFx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDExNVx0ICAgICAgICAgICAgaWYgKHRyLmlzQWN0aXZlKCkpIHtcbiAgIDExNlx0ICAgICAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAxMTdcdCAgICAgICAgICAgIH1cbiAgIDExOFx0ICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggTGljaFRyaW5oVGF1IHRoZW8gbmfDoHlcIik7XG4gICAxMTlcdCAgICAgICAgfVxuICAgMTIwXHQgICAgICAgIHJldHVybiBsaXN0O1xuICAgMTIxXHQgICAgfVxuICAgMTIyXHR9XG4gICAxMjNcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogMTIzXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFLNENaSjR0d21TUVp3NFFnTjFkc0dKIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmciLCJmb2xkZXJSb290IjoiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjY4NGU0NTgyLTU1MzItNGM4Yy1hNGU0LTM0YzE5Y2EyN2ZhMCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTl2cllONWZzeDVZa2FEZk1uYjN3QVYiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9tb2RlbC9MaWNoVHJpbmhUYXUuamF2YVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IEkgbmVlZCB0byBjaGVjayB0aGUgYExpY2hUcmluaFRhdWAgbW9kZWwgYW5kIGl0cyByZWxhdGlvbnNoaXBzIHRvIHVuZGVyc3RhbmQgaG93IHRvIGltcGxlbWVudCB0aGUgbWV0aG9kcyB0aGF0IGludm9sdmUgYGdhRGlgIGFuZCBgZ2FEZW5gOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9MaWNoVHJpbmhUYXVEQU8uamF2YTpcbiAgICAgMVx0cGFja2FnZSBkYW87XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgbW9kZWwuTGljaFRyaW5oVGF1O1xuICAgICA0XHRcbiAgICAgNVx0aW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGU7XG4gICAgIDZcdGltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbiAgICAgN1x0XG4gICAgIDhcdHB1YmxpYyBpbnRlcmZhY2UgTGljaFRyaW5oVGF1REFPIHtcbiAgICAgOVx0ICAgIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRBbGxMaXN0KCk7XG4gICAgMTBcdCAgICBMaWNoVHJpbmhUYXUgZ2V0QnlJZChTdHJpbmcgaWQpO1xuICAgIDExXHQgICAgYm9vbGVhbiBzYXZlKExpY2hUcmluaFRhdSBsaWNoVHJpbmhUYXUpO1xuICAgIDEyXHQgICAgYm9vbGVhbiB1cGRhdGUoTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdSk7XG4gICAgMTNcdCAgICBib29sZWFuIGRlbGV0ZShMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1KTtcbiAgICAxNFx0ICAgIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlKExvY2FsRGF0ZSBkYXRlKTtcbiAgICAxNVx0fVxuICAgIDE2XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDE2XG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFXNEM0Q3lab2JTZ2cxZGszaTJzQUh1In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmciLCJmb2xkZXJSb290IjoiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTm93IEkgbmVlZCB0byBjaGVjayB0aGUgYExpY2hUcmluaFRhdWAgbW9kZWwgYW5kIGl0cyByZWxhdGlvbnNoaXBzIHRvIHVuZGVyc3RhbmQgaG93IHRvIGltcGxlbWVudCB0aGUgbWV0aG9kcyB0aGF0IGludm9sdmUgYGdhRGlgIGFuZCBgZ2FEZW5gOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImJjZjk1NzFmLTNiYmYtNGNlNS04NWNkLTY4ZDBhN2QzZDgwMiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUNWOVJHWXZTSlRuWm15VWt3Wlo0SEIiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9tb2RlbC9UYXUuamF2YVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTGV0IG1lIGNoZWNrIHRoZSBgVGF1YCBtb2RlbCB0byBzZWUgaG93IGl0IHJlbGF0ZXMgdG8gYGdhRGlgIGFuZCBgZ2FEZW5gOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL21vZGVsL0xpY2hUcmluaFRhdS5qYXZhOlxuICAgICAxXHRwYWNrYWdlIG1vZGVsO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuKjtcbiAgICAgNFx0aW1wb3J0IGxvbWJvay5EYXRhO1xuICAgICA1XHRpbXBvcnQgbG9tYm9rLkVxdWFsc0FuZEhhc2hDb2RlO1xuICAgICA2XHRpbXBvcnQgbG9tYm9rLlRvU3RyaW5nO1xuICAgICA3XHRcbiAgICAgOFx0aW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGU7XG4gICAgIDlcdGltcG9ydCBqYXZhLnRpbWUuTG9jYWxUaW1lO1xuICAgIDEwXHRpbXBvcnQgamF2YS51dGlsLlNldDtcbiAgICAxMVx0XG4gICAgMTJcdEBFbnRpdHlcbiAgICAxM1x0QERhdGFcbiAgICAxNFx0QEVxdWFsc0FuZEhhc2hDb2RlKG9ubHlFeHBsaWNpdGx5SW5jbHVkZWQgPSB0cnVlKVxuICAgIDE1XHRAVGFibGUobmFtZSA9IFwibGljaHRyaW5odGF1XCIpXG4gICAgMTZcdHB1YmxpYyBjbGFzcyBMaWNoVHJpbmhUYXUge1xuICAgIDE3XHQgICAgQElkXG4gICAgMThcdCAgICBAQ29sdW1uKG5hbWUgPSBcIm1hX2xpY2hcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiVkFSQ0hBUigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UsdW5pcXVlID0gdHJ1ZSlcbiAgICAxOVx0ICAgIHByaXZhdGUgIFN0cmluZyBtYUxpY2g7XG4gICAgMjBcdCAgICBAQ29sdW1uKG5hbWUgPSBcImdpb19kaVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJUSU1FXCIsbnVsbGFibGUgPSBmYWxzZSlcbiAgICAyMVx0ICAgIHByaXZhdGUgTG9jYWxUaW1lIGdpb0RpO1xuICAgIDIyXHQgICAgQENvbHVtbihuYW1lID0gXCJuZ2F5X2RpXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcIkRBVEVcIixudWxsYWJsZSA9IGZhbHNlKVxuICAgIDIzXHQgICAgcHJpdmF0ZSBMb2NhbERhdGUgbmdheURpO1xuICAgIDI0XHQgICAgQENvbHVtbihuYW1lID0gXCJ0cmFuZ190aGFpXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcIk5WQVJDSEFSKDUwKVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIDI1XHQgICAgcHJpdmF0ZSBTdHJpbmcgdHJhbmdUaGFpO1xuICAgIDI2XHRcbiAgICAyN1x0ICAgIEBNYW55VG9PbmVcbiAgICAyOFx0ICAgIEBKb2luQ29sdW1uKG5hbWUgPSBcInRhdV9tYV90YXVcIiwgcmVmZXJlbmNlZENvbHVtbk5hbWUgPSBcIm1hX3RhdVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIDI5XHQgICAgcHJpdmF0ZSBUYXUgdGF1O1xuICAgIDMwXHRcbiAgICAzMVx0ICAgIEBPbmVUb01hbnkobWFwcGVkQnkgPSBcImxpY2hUcmluaFRhdVwiKVxuICAgIDMyXHQgICAgQFRvU3RyaW5nLkV4Y2x1ZGVcbiAgICAzM1x0ICAgIHByaXZhdGUgU2V0PFZlVGF1PiB2ZV90YXVzO1xuICAgIDM0XHR9XG4gICAgMzVcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogMzVcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTl2cllONWZzeDVZa2FEZk1uYjN3QVYifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyIsImZvbGRlclJvb3QiOiJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZyJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJMZXQgbWUgY2hlY2sgdGhlIGBUYXVgIG1vZGVsIHRvIHNlZSBob3cgaXQgcmVsYXRlcyB0byBgZ2FEaWAgYW5kIGBnYURlbmA6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiM2U5NGMwNGMtNTdjNC00MmVhLTkyMmEtNDJlMjdiZTAzODgzIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxQVRkb3labTV4UllBYVlpZXRkSGVWViIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL21vZGVsL1R1eWVuVGF1LmphdmFcIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik5vdyBsZXQgbWUgY2hlY2sgdGhlIGBUdXllblRhdWAgbW9kZWwgdG8gc2VlIGlmIGl0IGNvbnRhaW5zIGBnYURpYCBhbmQgYGdhRGVuYDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9tb2RlbC9UYXUuamF2YTpcbiAgICAgMVx0cGFja2FnZSBtb2RlbDtcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLio7XG4gICAgIDRcdGltcG9ydCBsb21ib2suRGF0YTtcbiAgICAgNVx0aW1wb3J0IGxvbWJvay5FcXVhbHNBbmRIYXNoQ29kZTtcbiAgICAgNlx0aW1wb3J0IGxvbWJvay5Ub1N0cmluZztcbiAgICAgN1x0XG4gICAgIDhcdGltcG9ydCBqYXZhLnV0aWwuU2V0O1xuICAgICA5XHRcbiAgICAxMFx0QERhdGFcbiAgICAxMVx0QEVudGl0eVxuICAgIDEyXHRARXF1YWxzQW5kSGFzaENvZGUob25seUV4cGxpY2l0bHlJbmNsdWRlZCA9IHRydWUpXG4gICAgMTNcdEBUYWJsZShuYW1lID0gXCJ0YXVcIilcbiAgICAxNFx0cHVibGljIGNsYXNzIFRhdSB7XG4gICAgMTVcdCAgICBASWRcbiAgICAxNlx0ICAgIEBFcXVhbHNBbmRIYXNoQ29kZS5JbmNsdWRlXG4gICAgMTdcdCAgICBAQ29sdW1uKG5hbWUgPSBcIm1hX3RhdVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSwgdW5pcXVlID0gdHJ1ZSlcbiAgICAxOFx0ICAgIHByaXZhdGUgU3RyaW5nIG1hVGF1OyAvLyBNw6MgdMOgdVxuICAgIDE5XHQgICAgQENvbHVtbihuYW1lID0gXCJ0ZW5fdGF1XCIsIGNvbHVtbkRlZmluaXRpb24gPSBcInZhcmNoYXIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIDIwXHQgICAgQEVxdWFsc0FuZEhhc2hDb2RlLkV4Y2x1ZGVcbiAgICAyMVx0ICAgIHByaXZhdGUgU3RyaW5nIHRlblRhdTtcbiAgICAyMlx0ICAgIEBDb2x1bW4obmFtZSA9IFwic29fdG9hXCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgMjNcdCAgICBARXF1YWxzQW5kSGFzaENvZGUuRXhjbHVkZS8vIFTDqm4gdMOgdVxuICAgIDI0XHQgICAgcHJpdmF0ZSBpbnQgc29Ub2E7XG4gICAgMjVcdCAgICAvLyBT4buRIHRvYVxuICAgIDI2XHQgICAgQE1hbnlUb09uZShmZXRjaCA9IEZldGNoVHlwZS5MQVpZKVxuICAgIDI3XHQgICAgQFRvU3RyaW5nLkV4Y2x1ZGVcbiAgICAyOFx0ICAgIEBKb2luQ29sdW1uKG5hbWUgPSBcIm1hX3R1eWVuXCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgMjlcdCAgICBwcml2YXRlIFR1eWVuVGF1IHR1eWVuVGF1OyAvLyDEkOG7kWkgdMaw4bujbmcgVHV5ZW5UYXVcbiAgICAzMFx0XG4gICAgMzFcdCAgICBAT25lVG9NYW55KG1hcHBlZEJ5ID0gXCJ0YXVcIiwgY2FzY2FkZSA9IENhc2NhZGVUeXBlLkFMTCwgb3JwaGFuUmVtb3ZhbCA9IHRydWUpXG4gICAgMzJcdCAgICBAVG9TdHJpbmcuRXhjbHVkZVxuICAgIDMzXHQgICAgcHJpdmF0ZSBTZXQ8VG9hVGF1PiBkYW5oU2FjaFRvYVRhdTtcbiAgICAzNFx0XG4gICAgMzVcdCAgICBAT25lVG9NYW55KG1hcHBlZEJ5ID0gXCJ0YXVcIiwgY2FzY2FkZSA9IENhc2NhZGVUeXBlLkFMTCwgb3JwaGFuUmVtb3ZhbCA9IHRydWUpXG4gICAgMzZcdCAgICBAVG9TdHJpbmcuRXhjbHVkZVxuICAgIDM3XHQgICAgcHJpdmF0ZSBTZXQ8TGljaFRyaW5oVGF1PiBMaWNoVHJpbmhUYXU7XG4gICAgMzhcdH1cbiAgICAzOVx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAzOVxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxQ1Y5UkdZdlNKVG5abXlVa3daWjRIQiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nIiwiZm9sZGVyUm9vdCI6IkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6Ik5vdyBsZXQgbWUgY2hlY2sgdGhlIGBUdXllblRhdWAgbW9kZWwgdG8gc2VlIGlmIGl0IGNvbnRhaW5zIGBnYURpYCBhbmQgYGdhRGVuYDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJkNjc4ZTFiOS0xNTNmLTQzYjUtOWQwYy02MjU5YWQ5OGM2ZGQiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFBMVdWTEhoVTlqSjZ0eW41YWdyRWJNIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9MaWNoVHJpbmhUYXVEQU8uamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCJwYWNrYWdlIGRhbztcXG5cXG5pbXBvcnQgbW9kZWwuTGljaFRyaW5oVGF1O1xcblxcbmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlO1xcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcXG5cXG5wdWJsaWMgaW50ZXJmYWNlIExpY2hUcmluaFRhdURBTyB7XFxuICAgIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRBbGxMaXN0KCk7XFxuICAgIExpY2hUcmluaFRhdSBnZXRCeUlkKFN0cmluZyBpZCk7XFxuICAgIGJvb2xlYW4gc2F2ZShMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1KTtcXG4gICAgYm9vbGVhbiB1cGRhdGUoTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdSk7XFxuICAgIGJvb2xlYW4gZGVsZXRlKExpY2hUcmluaFRhdSBsaWNoVHJpbmhUYXUpO1xcbiAgICBMaXN0PExpY2hUcmluaFRhdT4gZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZShMb2NhbERhdGUgZGF0ZSk7XFxufVwiLCBcIm5ld19zdHJcIjogXCJwYWNrYWdlIGRhbztcXG5cXG5pbXBvcnQgbW9kZWwuTGljaFRyaW5oVGF1O1xcblxcbmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlO1xcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcXG5cXG5wdWJsaWMgaW50ZXJmYWNlIExpY2hUcmluaFRhdURBTyB7XFxuICAgIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRBbGxMaXN0KCk7XFxuICAgIExpY2hUcmluaFRhdSBnZXRCeUlkKFN0cmluZyBpZCk7XFxuICAgIGJvb2xlYW4gc2F2ZShMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1KTtcXG4gICAgYm9vbGVhbiB1cGRhdGUoTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdSk7XFxuICAgIGJvb2xlYW4gZGVsZXRlKExpY2hUcmluaFRhdSBsaWNoVHJpbmhUYXUpO1xcbiAgICBMaXN0PExpY2hUcmluaFRhdT4gZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZShMb2NhbERhdGUgZGF0ZSk7XFxuICAgIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlQW5kR2FEaShMb2NhbERhdGUgZGF0ZSwgU3RyaW5nIGdhRGkpO1xcbiAgICBMaXN0PExpY2hUcmluaFRhdT4gZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZUFuZEdhRGlHYURlbihMb2NhbERhdGUgZGF0ZSwgU3RyaW5nIGdhRGksIFN0cmluZyBnYURlbik7XFxuICAgIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlQW5kR2FEaUdhRGVuQW5kR2lvRGkoTG9jYWxEYXRlIGRhdGUsIFN0cmluZyBnYURpLCBTdHJpbmcgZ2FEZW4sIFN0cmluZyBnaW9EaSk7XFxufVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMSwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAxNX1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IEknbGwgdXBkYXRlIHRoZSBgTGljaFRyaW5oVGF1REFPYCBpbnRlcmZhY2UgdG8gaW5jbHVkZSBhbGwgdGhlIHJlcXVpcmVkIG1ldGhvZHM6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIEQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvbW9kZWwvVHV5ZW5UYXUuamF2YTpcbiAgICAgMVx0cGFja2FnZSBtb2RlbDtcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLio7XG4gICAgIDRcdGltcG9ydCBsb21ib2suRGF0YTtcbiAgICAgNVx0aW1wb3J0IGxvbWJvay5FcXVhbHNBbmRIYXNoQ29kZTtcbiAgICAgNlx0aW1wb3J0IGxvbWJvay5Ub1N0cmluZztcbiAgICAgN1x0XG4gICAgIDhcdGltcG9ydCBqYXZhLnV0aWwuU2V0O1xuICAgICA5XHRcbiAgICAxMFx0QERhdGFcbiAgICAxMVx0QEVudGl0eVxuICAgIDEyXHRAVGFibGUobmFtZSA9IFwidHV5ZW50YXVcIilcbiAgICAxM1x0QEVxdWFsc0FuZEhhc2hDb2RlKG9ubHlFeHBsaWNpdGx5SW5jbHVkZWQgPSB0cnVlKVxuICAgIDE0XHRATmFtZWROYXRpdmVRdWVyaWVzKHtcbiAgICAxNVx0ICAgICAgICBATmFtZWROYXRpdmVRdWVyeShuYW1lID0gXCJUdXllblRhdS5maW5kQnlHYURpR2FEZW5cIixcbiAgICAxNlx0ICAgICAgICAgICAgICAgIHF1ZXJ5ID0gXCJzZWxlY3QgKiBmcm9tIHR1eWVudGF1IHdoZXJlIGdhX2RpID0gPzEgYW5kIGdhX2RlbiA9ID8yXCIsXG4gICAgMTdcdCAgICAgICAgcmVzdWx0Q2xhc3MgPSBUdXllblRhdS5jbGFzcyksXG4gICAgMThcdCAgICAgICAgQE5hbWVkTmF0aXZlUXVlcnkobmFtZSA9IFwiVHV5ZW5UYXUuZmluZEFsbFwiLFxuICAgIDE5XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnkgPSBcInNlbGVjdCAqIGZyb20gdHV5ZW50YXVcIixcbiAgICAyMFx0ICAgICAgICByZXN1bHRDbGFzcyA9IFR1eWVuVGF1LmNsYXNzKVxuICAgIDIxXHR9KVxuICAgIDIyXHRwdWJsaWMgY2xhc3MgVHV5ZW5UYXUge1xuICAgIDIzXHQgICAgQElkXG4gICAgMjRcdCAgICBAQ29sdW1uKG5hbWUgPSBcIm1hX3R1eWVuXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcInZhcmNoYXIoMjU1KVwiLHVuaXF1ZSA9IHRydWUsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgMjVcdCAgICBARXF1YWxzQW5kSGFzaENvZGUuSW5jbHVkZVxuICAgIDI2XHQgICAgcHJpdmF0ZSBTdHJpbmcgbWFUdXllbjtcbiAgICAyN1x0ICAgIEBDb2x1bW4obmFtZSA9IFwidGVuX3R1eWVuXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcInZhcmNoYXIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlIClcbiAgICAyOFx0ICAgIEBFcXVhbHNBbmRIYXNoQ29kZS5FeGNsdWRlXG4gICAgMjlcdCAgICBwcml2YXRlIFN0cmluZyB0ZW5UdXllbjtcbiAgICAzMFx0ICAgIEBDb2x1bW4obmFtZSA9IFwiZ2FfZGlcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UgKVxuICAgIDMxXHQgICAgQEVxdWFsc0FuZEhhc2hDb2RlLkV4Y2x1ZGVcbiAgICAzMlx0ICAgIHByaXZhdGUgU3RyaW5nIGdhRGk7XG4gICAgMzNcdCAgICBAQ29sdW1uKG5hbWUgPSBcImdhX2RlblwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSApXG4gICAgMzRcdCAgICBARXF1YWxzQW5kSGFzaENvZGUuRXhjbHVkZVxuICAgIDM1XHQgICAgcHJpdmF0ZSBTdHJpbmcgZ2FEZW47XG4gICAgMzZcdCAgICBAQ29sdW1uKG5hbWUgPSBcImRpYV9kaWVtX2RpXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcInZhcmNoYXIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlIClcbiAgICAzN1x0ICAgIEBFcXVhbHNBbmRIYXNoQ29kZS5FeGNsdWRlXG4gICAgMzhcdCAgICBwcml2YXRlIFN0cmluZyBkaWFEaWVtRGk7XG4gICAgMzlcdCAgICBAQ29sdW1uKG5hbWUgPSBcImRpYV9kaWVtX2RlblwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSApXG4gICAgNDBcdCAgICBARXF1YWxzQW5kSGFzaENvZGUuRXhjbHVkZVxuICAgIDQxXHQgICAgcHJpdmF0ZSBTdHJpbmcgZGlhRGllbURlbjtcbiAgICA0Mlx0ICAgIEBPbmVUb01hbnkobWFwcGVkQnkgPSBcInR1eWVuVGF1XCIsIGNhc2NhZGUgPSBDYXNjYWRlVHlwZS5BTEwsIG9ycGhhblJlbW92YWwgPSB0cnVlKVxuICAgIDQzXHQgICAgQFRvU3RyaW5nLkV4Y2x1ZGVcbiAgICA0NFx0ICAgIHByaXZhdGUgU2V0PFRhdT4gZGFuaFNhY2hUYXU7XG4gICAgNDVcdH1cbiAgICA0Nlx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA0NlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxQVRkb3labTV4UllBYVlpZXRkSGVWViJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nIiwiZm9sZGVyUm9vdCI6IkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6Ik5vdyBJJ2xsIHVwZGF0ZSB0aGUgYExpY2hUcmluaFRhdURBT2AgaW50ZXJmYWNlIHRvIGluY2x1ZGUgYWxsIHRoZSByZXF1aXJlZCBtZXRob2RzOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImMxNTg2NTkwLTdkMjMtNDBjNC05NGI5LThmZGFhMTExZWQ2ZiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTFodnpXR0VZVTJ0dDlaVUVnZFVDVlciLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcIkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPSW1wbC5qYXZhXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcImltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlO1xcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcIiwgXCJuZXdfc3RyXCI6IFwiaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGU7XFxuaW1wb3J0IGphdmEudGltZS5Mb2NhbFRpbWU7XFxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1wiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogOSwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAxMH1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IEknbGwgaW1wbGVtZW50IGFsbCB0aGUgcmVxdWlyZWQgbWV0aG9kcyBpbiB0aGUgYExpY2hUcmluaFRhdURBT0ltcGxgIGNsYXNzOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9MaWNoVHJpbmhUYXVEQU8uamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgICAxXHRwYWNrYWdlIGRhbztcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBtb2RlbC5MaWNoVHJpbmhUYXU7XG4gICAgIDRcdFxuICAgICA1XHRpbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZTtcbiAgICAgNlx0aW1wb3J0IGphdmEudXRpbC5MaXN0O1xuICAgICA3XHRcbiAgICAgOFx0cHVibGljIGludGVyZmFjZSBMaWNoVHJpbmhUYXVEQU8ge1xuICAgICA5XHQgICAgTGlzdDxMaWNoVHJpbmhUYXU+IGdldEFsbExpc3QoKTtcbiAgICAxMFx0ICAgIExpY2hUcmluaFRhdSBnZXRCeUlkKFN0cmluZyBpZCk7XG4gICAgMTFcdCAgICBib29sZWFuIHNhdmUoTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdSk7XG4gICAgMTJcdCAgICBib29sZWFuIHVwZGF0ZShMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1KTtcbiAgICAxM1x0ICAgIGJvb2xlYW4gZGVsZXRlKExpY2hUcmluaFRhdSBsaWNoVHJpbmhUYXUpO1xuICAgIDE0XHQgICAgTGlzdDxMaWNoVHJpbmhUYXU+IGdldExpc3RMaWNoVHJpbmhUYXVCeURhdGUoTG9jYWxEYXRlIGRhdGUpO1xuICAgIDE1XHQgICAgTGlzdDxMaWNoVHJpbmhUYXU+IGdldExpc3RMaWNoVHJpbmhUYXVCeURhdGVBbmRHYURpKExvY2FsRGF0ZSBkYXRlLCBTdHJpbmcgZ2FEaSk7XG4gICAgMTZcdCAgICBMaXN0PExpY2hUcmluaFRhdT4gZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZUFuZEdhRGlHYURlbihMb2NhbERhdGUgZGF0ZSwgU3RyaW5nIGdhRGksIFN0cmluZyBnYURlbik7XG4gICAgMTdcdCAgICBMaXN0PExpY2hUcmluaFRhdT4gZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZUFuZEdhRGlHYURlbkFuZEdpb0RpKExvY2FsRGF0ZSBkYXRlLCBTdHJpbmcgZ2FEaSwgU3RyaW5nIGdhRGVuLCBTdHJpbmcgZ2lvRGkpO1xuICAgIDE4XHR9XG4gICAgMTlcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFBMVdWTEhoVTlqSjZ0eW41YWdyRWJNIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmciLCJmb2xkZXJSb290IjoiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTm93IEknbGwgaW1wbGVtZW50IGFsbCB0aGUgcmVxdWlyZWQgbWV0aG9kcyBpbiB0aGUgYExpY2hUcmluaFRhdURBT0ltcGxgIGNsYXNzOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImIwYTg2NzZiLWVlZjktNDU4OC1iNjA2LTRiNGFhYTM5MDIxOCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTZGVkViUnJ2WGt6ZXg3N21iNG1iTkYiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcIkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPSW1wbC5qYXZhXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcIiAgICBAT3ZlcnJpZGVcXG4gICAgcHVibGljIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlKExvY2FsRGF0ZSBkYXRlKSB7XFxuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XFxuICAgICAgICBMaXN0PExpY2hUcmluaFRhdT4gbGlzdCA9IG51bGw7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XFxuICAgICAgICAgICAgU3RyaW5nIGpwcWwgPSBcXFwiU0VMRUNUIGx0dCBGUk9NIExpY2hUcmluaFRhdSBsdHQgV0hFUkUgbHR0Lm5nYXlEaSA9IDpkYXRlXFxcIjtcXG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoanBxbCwgTGljaFRyaW5oVGF1LmNsYXNzKVxcbiAgICAgICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcXFwiZGF0ZVxcXCIsIGRhdGUpXFxuICAgICAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgICAgIGlmICh0ci5pc0FjdGl2ZSgpKSB7XFxuICAgICAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcXFwiTFxcdTFlZDdpIGtoaSBsXFx1MWVhNXkgZGFuaCBzXFx1MDBlMWNoIExpY2hUcmluaFRhdSB0aGVvIG5nXFx1MDBlMHlcXFwiKTtcXG4gICAgICAgIH1cXG4gICAgICAgIHJldHVybiBsaXN0O1xcbiAgICB9XCIsIFwibmV3X3N0clwiOiBcIiAgICBAT3ZlcnJpZGVcXG4gICAgcHVibGljIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlKExvY2FsRGF0ZSBkYXRlKSB7XFxuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XFxuICAgICAgICBMaXN0PExpY2hUcmluaFRhdT4gbGlzdCA9IG51bGw7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XFxuICAgICAgICAgICAgU3RyaW5nIGpwcWwgPSBcXFwiU0VMRUNUIGx0dCBGUk9NIExpY2hUcmluaFRhdSBsdHQgV0hFUkUgbHR0Lm5nYXlEaSA9IDpkYXRlXFxcIjtcXG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoanBxbCwgTGljaFRyaW5oVGF1LmNsYXNzKVxcbiAgICAgICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcXFwiZGF0ZVxcXCIsIGRhdGUpXFxuICAgICAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgICAgIGlmICh0ci5pc0FjdGl2ZSgpKSB7XFxuICAgICAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcXFwiTFxcdTFlZDdpIGtoaSBsXFx1MWVhNXkgZGFuaCBzXFx1MDBlMWNoIExpY2hUcmluaFRhdSB0aGVvIG5nXFx1MDBlMHlcXFwiKTtcXG4gICAgICAgIH1cXG4gICAgICAgIHJldHVybiBsaXN0O1xcbiAgICB9XFxuICAgIFxcbiAgICBAT3ZlcnJpZGVcXG4gICAgcHVibGljIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlQW5kR2FEaShMb2NhbERhdGUgZGF0ZSwgU3RyaW5nIGdhRGkpIHtcXG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcXG4gICAgICAgIExpc3Q8TGljaFRyaW5oVGF1PiBsaXN0ID0gbnVsbDtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgdHIuYmVnaW4oKTtcXG4gICAgICAgICAgICBTdHJpbmcganBxbCA9IFxcXCJTRUxFQ1QgbHR0IEZST00gTGljaFRyaW5oVGF1IGx0dCBXSEVSRSBsdHQubmdheURpID0gOmRhdGUgQU5EIGx0dC50YXUudHV5ZW5UYXUuZ2FEaSA9IDpnYURpXFxcIjtcXG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoanBxbCwgTGljaFRyaW5oVGF1LmNsYXNzKVxcbiAgICAgICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcXFwiZGF0ZVxcXCIsIGRhdGUpXFxuICAgICAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFxcXCJnYURpXFxcIiwgZ2FEaSlcXG4gICAgICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7XFxuICAgICAgICAgICAgdHIuY29tbWl0KCk7XFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICAgICAgaWYgKHRyLmlzQWN0aXZlKCkpIHtcXG4gICAgICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFxcXCJMXFx1MWVkN2kga2hpIGxcXHUxZWE1eSBkYW5oIHNcXHUwMGUxY2ggTGljaFRyaW5oVGF1IHRoZW8gbmdcXHUwMGUweSB2XFx1MDBlMCBnYSBcXHUwMTExaVxcXCIpO1xcbiAgICAgICAgfVxcbiAgICAgICAgcmV0dXJuIGxpc3Q7XFxuICAgIH1cXG5cXG4gICAgQE92ZXJyaWRlXFxuICAgIHB1YmxpYyBMaXN0PExpY2hUcmluaFRhdT4gZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZUFuZEdhRGlHYURlbihMb2NhbERhdGUgZGF0ZSwgU3RyaW5nIGdhRGksIFN0cmluZyBnYURlbikge1xcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xcbiAgICAgICAgTGlzdDxMaWNoVHJpbmhUYXU+IGxpc3QgPSBudWxsO1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICB0ci5iZWdpbigpO1xcbiAgICAgICAgICAgIFN0cmluZyBqcHFsID0gXFxcIlNFTEVDVCBsdHQgRlJPTSBMaWNoVHJpbmhUYXUgbHR0IFdIRVJFIGx0dC5uZ2F5RGkgPSA6ZGF0ZSBBTkQgbHR0LnRhdS50dXllblRhdS5nYURpID0gOmdhRGkgQU5EIGx0dC50YXUudHV5ZW5UYXUuZ2FEZW4gPSA6Z2FEZW5cXFwiO1xcbiAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShqcHFsLCBMaWNoVHJpbmhUYXUuY2xhc3MpXFxuICAgICAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFxcXCJkYXRlXFxcIiwgZGF0ZSlcXG4gICAgICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXFxcImdhRGlcXFwiLCBnYURpKVxcbiAgICAgICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcXFwiZ2FEZW5cXFwiLCBnYURlbilcXG4gICAgICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7XFxuICAgICAgICAgICAgdHIuY29tbWl0KCk7XFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICAgICAgaWYgKHRyLmlzQWN0aXZlKCkpIHtcXG4gICAgICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFxcXCJMXFx1MWVkN2kga2hpIGxcXHUxZWE1eSBkYW5oIHNcXHUwMGUxY2ggTGljaFRyaW5oVGF1IHRoZW8gbmdcXHUwMGUweSwgZ2EgXFx1MDExMWkgdlxcdTAwZTAgZ2EgXFx1MDExMVxcdTFlYmZuXFxcIik7XFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gbGlzdDtcXG4gICAgfVxcblxcbiAgICBAT3ZlcnJpZGVcXG4gICAgcHVibGljIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlQW5kR2FEaUdhRGVuQW5kR2lvRGkoTG9jYWxEYXRlIGRhdGUsIFN0cmluZyBnYURpLCBTdHJpbmcgZ2FEZW4sIFN0cmluZyBnaW9EaSkge1xcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xcbiAgICAgICAgTGlzdDxMaWNoVHJpbmhUYXU+IGxpc3QgPSBudWxsO1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICB0ci5iZWdpbigpO1xcbiAgICAgICAgICAgIC8vIENvbnZlcnQgZ2lvRGkgc3RyaW5nIHRvIExvY2FsVGltZVxcbiAgICAgICAgICAgIExvY2FsVGltZSB0aW1lID0gTG9jYWxUaW1lLnBhcnNlKGdpb0RpKTtcXG4gICAgICAgICAgICBTdHJpbmcganBxbCA9IFxcXCJTRUxFQ1QgbHR0IEZST00gTGljaFRyaW5oVGF1IGx0dCBXSEVSRSBsdHQubmdheURpID0gOmRhdGUgQU5EIGx0dC50YXUudHV5ZW5UYXUuZ2FEaSA9IDpnYURpIEFORCBsdHQudGF1LnR1eWVuVGF1LmdhRGVuID0gOmdhRGVuIEFORCBsdHQuZ2lvRGkgPSA6Z2lvRGlcXFwiO1xcbiAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShqcHFsLCBMaWNoVHJpbmhUYXUuY2xhc3MpXFxuICAgICAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFxcXCJkYXRlXFxcIiwgZGF0ZSlcXG4gICAgICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXFxcImdhRGlcXFwiLCBnYURpKVxcbiAgICAgICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcXFwiZ2FEZW5cXFwiLCBnYURlbilcXG4gICAgICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXFxcImdpb0RpXFxcIiwgdGltZSlcXG4gICAgICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7XFxuICAgICAgICAgICAgdHIuY29tbWl0KCk7XFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICAgICAgaWYgKHRyLmlzQWN0aXZlKCkpIHtcXG4gICAgICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFxcXCJMXFx1MWVkN2kga2hpIGxcXHUxZWE1eSBkYW5oIHNcXHUwMGUxY2ggTGljaFRyaW5oVGF1IHRoZW8gbmdcXHUwMGUweSwgZ2EgXFx1MDExMWksIGdhIFxcdTAxMTFcXHUxZWJmbiB2XFx1MDBlMCBnaVxcdTFlZGQgXFx1MDExMWlcXFwiKTtcXG4gICAgICAgIH1cXG4gICAgICAgIHJldHVybiBsaXN0O1xcbiAgICB9XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAxMDIsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMTIxfV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3cgSSdsbCBhZGQgdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoZSByZW1haW5pbmcgbWV0aG9kczpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9MaWNoVHJpbmhUYXVEQU9JbXBsLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgNVx0aW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5VHJhbnNhY3Rpb247XG4gICAgIDZcdGltcG9ydCBsb21ib2suQWxsQXJnc0NvbnN0cnVjdG9yO1xuICAgICA3XHRpbXBvcnQgbW9kZWwuTGljaFRyaW5oVGF1O1xuICAgICA4XHRcbiAgICAgOVx0aW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGU7XG4gICAgMTBcdGltcG9ydCBqYXZhLnRpbWUuTG9jYWxUaW1lO1xuICAgIDExXHRpbXBvcnQgamF2YS51dGlsLkxpc3Q7XG4gICAgMTJcdFxuICAgIDEzXHRAQWxsQXJnc0NvbnN0cnVjdG9yXG4gICAgMTRcdHB1YmxpYyBjbGFzcyBMaWNoVHJpbmhUYXVEQU9JbXBsIGltcGxlbWVudHMgTGljaFRyaW5oVGF1REFPIHtcbiAgICAxNVx0ICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbTtcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxMWh2eldHRVlVMnR0OVpVRWdkVUNWVyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nIiwiZm9sZGVyUm9vdCI6IkQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6Ik5vdyBJJ2xsIGFkZCB0aGUgaW1wbGVtZW50YXRpb24gb2YgdGhlIHJlbWFpbmluZyBtZXRob2RzOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImMwYmU3YmJmLTk4ZTMtNGEwMS05YzZiLWQxODc4ZTFhOTE2MyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkkndmUgc3VjY2Vzc2Z1bGx5IGltcGxlbWVudGVkIGFsbCB0aGUgcmVxdWlyZWQgbWV0aG9kcyBpbiB0aGUgYExpY2hUcmluaFRhdURBT0ltcGxgIGNsYXNzLiBIZXJlJ3MgYSBzdW1tYXJ5IG9mIHdoYXQgSSBkaWQ6XG5cbjEuIFVwZGF0ZWQgdGhlIGBMaWNoVHJpbmhUYXVEQU9gIGludGVyZmFjZSB0byBpbmNsdWRlIGFsbCB0aGUgcmVxdWlyZWQgbWV0aG9kczpcbiAgIC0gYGdldExpc3RMaWNoVHJpbmhUYXVCeURhdGUoTG9jYWxEYXRlIGRhdGUpYFxuICAgLSBgZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZUFuZEdhRGkoTG9jYWxEYXRlIGRhdGUsIFN0cmluZyBnYURpKWBcbiAgIC0gYGdldExpc3RMaWNoVHJpbmhUYXVCeURhdGVBbmRHYURpR2FEZW4oTG9jYWxEYXRlIGRhdGUsIFN0cmluZyBnYURpLCBTdHJpbmcgZ2FEZW4pYFxuICAgLSBgZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZUFuZEdhRGlHYURlbkFuZEdpb0RpKExvY2FsRGF0ZSBkYXRlLCBTdHJpbmcgZ2FEaSwgU3RyaW5nIGdhRGVuLCBTdHJpbmcgZ2lvRGkpYFxuXG4yLiBBZGRlZCB0aGUgaW1wb3J0IGZvciBgamF2YS50aW1lLkxvY2FsVGltZWAgdG8gaGFuZGxlIHRpbWUgcGFyc2luZyBpbiB0aGUgaW1wbGVtZW50YXRpb24uXG5cbjMuIEltcGxlbWVudGVkIGVhY2ggbWV0aG9kIHdpdGg6XG4gICAtIFByb3BlciB0cmFuc2FjdGlvbiBtYW5hZ2VtZW50IChiZWdpbiwgY29tbWl0LCByb2xsYmFjaylcbiAgIC0gRXJyb3IgaGFuZGxpbmcgd2l0aCBhcHByb3ByaWF0ZSBlcnJvciBtZXNzYWdlc1xuICAgLSBKUFFMIHF1ZXJpZXMgdGhhdCBuYXZpZ2F0ZSB0aHJvdWdoIHRoZSBlbnRpdHkgcmVsYXRpb25zaGlwcyB0byBmaWx0ZXIgYnkgdGhlIHJlcXVpcmVkIGNyaXRlcmlhXG5cbjQuIEZvciB0aGUgYGdldExpc3RMaWNoVHJpbmhUYXVCeURhdGVBbmRHYURpR2FEZW5BbmRHaW9EaWAgbWV0aG9kLCBJIGFkZGVkIGNvZGUgdG8gcGFyc2UgdGhlIGBnaW9EaWAgc3RyaW5nIHBhcmFtZXRlciBpbnRvIGEgYExvY2FsVGltZWAgb2JqZWN0IHRvIG1hdGNoIHRoZSBlbnRpdHkncyBmaWVsZCB0eXBlLlxuXG5UaGUgaW1wbGVtZW50YXRpb24gZm9sbG93cyB0aGUgc2FtZSBwYXR0ZXJuIGFzIG90aGVyIG1ldGhvZHMgaW4gdGhlIGNsYXNzLCBlbnN1cmluZyBjb25zaXN0ZW5jeSBpbiB0aGUgY29kZWJhc2UuIEVhY2ggbWV0aG9kIHVzZXMgSlBRTCBxdWVyaWVzIHRvIG5hdmlnYXRlIHRocm91Z2ggdGhlIGVudGl0eSByZWxhdGlvbnNoaXBzOlxuXG4tIGBMaWNoVHJpbmhUYXVgIGhhcyBhIHJlbGF0aW9uc2hpcCB3aXRoIGBUYXVgXG4tIGBUYXVgIGhhcyBhIHJlbGF0aW9uc2hpcCB3aXRoIGBUdXllblRhdWBcbi0gYFR1eWVuVGF1YCBjb250YWlucyB0aGUgYGdhRGlgIGFuZCBgZ2FEZW5gIGZpZWxkc1xuXG5UaGVzZSBtZXRob2RzIHdpbGwgYWxsb3cgeW91IHRvIHNlYXJjaCBmb3IgdHJhaW4gc2NoZWR1bGVzIGJhc2VkIG9uIHZhcmlvdXMgY3JpdGVyaWEsIHN1Y2ggYXMgZGVwYXJ0dXJlIGRhdGUsIGRlcGFydHVyZSBzdGF0aW9uLCBhcnJpdmFsIHN0YXRpb24sIGFuZCBkZXBhcnR1cmUgdGltZS5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9MaWNoVHJpbmhUYXVEQU9JbXBsLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICA5OVx0ICAgICAgICB9XG4gICAxMDBcdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgMTAxXHQgICAgfVxuICAgMTAyXHRcbiAgIDEwM1x0ICAgIEBPdmVycmlkZVxuICAgMTA0XHQgICAgcHVibGljIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlKExvY2FsRGF0ZSBkYXRlKSB7XG4gICAxMDVcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgMTA2XHQgICAgICAgIExpc3Q8TGljaFRyaW5oVGF1PiBsaXN0ID0gbnVsbDtcbiAgIDEwN1x0ICAgICAgICB0cnkge1xuICAgMTA4XHQgICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgMTA5XHQgICAgICAgICAgICBTdHJpbmcganBxbCA9IFwiU0VMRUNUIGx0dCBGUk9NIExpY2hUcmluaFRhdSBsdHQgV0hFUkUgbHR0Lm5nYXlEaSA9IDpkYXRlXCI7XG4gICAxMTBcdCAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShqcHFsLCBMaWNoVHJpbmhUYXUuY2xhc3MpXG4gICAxMTFcdCAgICAgICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImRhdGVcIiwgZGF0ZSlcbiAgIDExMlx0ICAgICAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgMTEzXHQgICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgIDExNFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgMTE1XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgMTE2XHQgICAgICAgICAgICBpZiAodHIuaXNBY3RpdmUoKSkge1xuICAgMTE3XHQgICAgICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgIDExOFx0ICAgICAgICAgICAgfVxuICAgMTE5XHQgICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4buXaSBraGkgbOG6pXkgZGFuaCBzw6FjaCBMaWNoVHJpbmhUYXUgdGhlbyBuZ8OgeVwiKTtcbiAgIDEyMFx0ICAgICAgICB9XG4gICAxMjFcdCAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAxMjJcdCAgICB9XG4gICAxMjNcdFxuICAgMTI0XHQgICAgQE92ZXJyaWRlXG4gICAxMjVcdCAgICBwdWJsaWMgTGlzdDxMaWNoVHJpbmhUYXU+IGdldExpc3RMaWNoVHJpbmhUYXVCeURhdGVBbmRHYURpKExvY2FsRGF0ZSBkYXRlLCBTdHJpbmcgZ2FEaSkge1xuICAgMTI2XHQgICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgIDEyN1x0ICAgICAgICBMaXN0PExpY2hUcmluaFRhdT4gbGlzdCA9IG51bGw7XG4gICAxMjhcdCAgICAgICAgdHJ5IHtcbiAgIDEyOVx0ICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgIDEzMFx0ICAgICAgICAgICAgU3RyaW5nIGpwcWwgPSBcIlNFTEVDVCBsdHQgRlJPTSBMaWNoVHJpbmhUYXUgbHR0IFdIRVJFIGx0dC5uZ2F5RGkgPSA6ZGF0ZSBBTkQgbHR0LnRhdS50dXllblRhdS5nYURpID0gOmdhRGlcIjtcbiAgIDEzMVx0ICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZVF1ZXJ5KGpwcWwsIExpY2hUcmluaFRhdS5jbGFzcylcbiAgIDEzMlx0ICAgICAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZGF0ZVwiLCBkYXRlKVxuICAgMTMzXHQgICAgICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJnYURpXCIsIGdhRGkpXG4gICAxMzRcdCAgICAgICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgIDEzNVx0ICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAxMzZcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDEzN1x0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDEzOFx0ICAgICAgICAgICAgaWYgKHRyLmlzQWN0aXZlKCkpIHtcbiAgIDEzOVx0ICAgICAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAxNDBcdCAgICAgICAgICAgIH1cbiAgIDE0MVx0ICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggTGljaFRyaW5oVGF1IHRoZW8gbmfDoHkgdsOgIGdhIMSRaVwiKTtcbiAgIDE0Mlx0ICAgICAgICB9XG4gICAxNDNcdCAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAxNDRcdCAgICB9XG4gICAxNDVcdFxuICAgMTQ2XHQgICAgQE92ZXJyaWRlXG4gICAxNDdcdCAgICBwdWJsaWMgTGlzdDxMaWNoVHJpbmhUYXU+IGdldExpc3RMaWNoVHJpbmhUYXVCeURhdGVBbmRHYURpR2FEZW4oTG9jYWxEYXRlIGRhdGUsIFN0cmluZyBnYURpLCBTdHJpbmcgZ2FEZW4pIHtcbiAgIDE0OFx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAxNDlcdCAgICAgICAgTGlzdDxMaWNoVHJpbmhUYXU+IGxpc3QgPSBudWxsO1xuICAgMTUwXHQgICAgICAgIHRyeSB7XG4gICAxNTFcdCAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAxNTJcdCAgICAgICAgICAgIFN0cmluZyBqcHFsID0gXCJTRUxFQ1QgbHR0IEZST00gTGljaFRyaW5oVGF1IGx0dCBXSEVSRSBsdHQubmdheURpID0gOmRhdGUgQU5EIGx0dC50YXUudHV5ZW5UYXUuZ2FEaSA9IDpnYURpIEFORCBsdHQudGF1LnR1eWVuVGF1LmdhRGVuID0gOmdhRGVuXCI7XG4gICAxNTNcdCAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShqcHFsLCBMaWNoVHJpbmhUYXUuY2xhc3MpXG4gICAxNTRcdCAgICAgICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImRhdGVcIiwgZGF0ZSlcbiAgIDE1NVx0ICAgICAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZ2FEaVwiLCBnYURpKVxuICAgMTU2XHQgICAgICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJnYURlblwiLCBnYURlbilcbiAgIDE1N1x0ICAgICAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgMTU4XHQgICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgIDE1OVx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgMTYwXHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgMTYxXHQgICAgICAgICAgICBpZiAodHIuaXNBY3RpdmUoKSkge1xuICAgMTYyXHQgICAgICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgIDE2M1x0ICAgICAgICAgICAgfVxuICAgMTY0XHQgICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4buXaSBraGkgbOG6pXkgZGFuaCBzw6FjaCBMaWNoVHJpbmhUYXUgdGhlbyBuZ8OgeSwgZ2EgxJFpIHbDoCBnYSDEkeG6v25cIik7XG4gICAxNjVcdCAgICAgICAgfVxuICAgMTY2XHQgICAgICAgIHJldHVybiBsaXN0O1xuICAgMTY3XHQgICAgfVxuICAgMTY4XHRcbiAgIDE2OVx0ICAgIEBPdmVycmlkZVxuICAgMTcwXHQgICAgcHVibGljIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlQW5kR2FEaUdhRGVuQW5kR2lvRGkoTG9jYWxEYXRlIGRhdGUsIFN0cmluZyBnYURpLCBTdHJpbmcgZ2FEZW4sIFN0cmluZyBnaW9EaSkge1xuICAgMTcxXHQgICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgIDE3Mlx0ICAgICAgICBMaXN0PExpY2hUcmluaFRhdT4gbGlzdCA9IG51bGw7XG4gICAxNzNcdCAgICAgICAgdHJ5IHtcbiAgIDE3NFx0ICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgIDE3NVx0ICAgICAgICAgICAgLy8gQ29udmVydCBnaW9EaSBzdHJpbmcgdG8gTG9jYWxUaW1lXG4gICAxNzZcdCAgICAgICAgICAgIExvY2FsVGltZSB0aW1lID0gTG9jYWxUaW1lLnBhcnNlKGdpb0RpKTtcbiAgIDE3N1x0ICAgICAgICAgICAgU3RyaW5nIGpwcWwgPSBcIlNFTEVDVCBsdHQgRlJPTSBMaWNoVHJpbmhUYXUgbHR0IFdIRVJFIGx0dC5uZ2F5RGkgPSA6ZGF0ZSBBTkQgbHR0LnRhdS50dXllblRhdS5nYURpID0gOmdhRGkgQU5EIGx0dC50YXUudHV5ZW5UYXUuZ2FEZW4gPSA6Z2FEZW4gQU5EIGx0dC5naW9EaSA9IDpnaW9EaVwiO1xuICAgMTc4XHQgICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoanBxbCwgTGljaFRyaW5oVGF1LmNsYXNzKVxuICAgMTc5XHQgICAgICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJkYXRlXCIsIGRhdGUpXG4gICAxODBcdCAgICAgICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImdhRGlcIiwgZ2FEaSlcbiAgIDE4MVx0ICAgICAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZ2FEZW5cIiwgZ2FEZW4pXG4gICAxODJcdCAgICAgICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImdpb0RpXCIsIHRpbWUpXG4gICAxODNcdCAgICAgICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgIDE4NFx0ICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAxODVcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDE4Nlx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDE4N1x0ICAgICAgICAgICAgaWYgKHRyLmlzQWN0aXZlKCkpIHtcbiAgIDE4OFx0ICAgICAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAxODlcdCAgICAgICAgICAgIH1cbiAgIDE5MFx0ICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggTGljaFRyaW5oVGF1IHRoZW8gbmfDoHksIGdhIMSRaSwgZ2EgxJHhur9uIHbDoCBnaeG7nSDEkWlcIik7XG4gICAxOTFcdCAgICAgICAgfVxuICAgMTkyXHQgICAgICAgIHJldHVybiBsaXN0O1xuICAgMTkzXHQgICAgfVxuICAgMTk0XHR9XG4gICAxOTVcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE2RlZFYlJydlhremV4NzdtYjRtYk5GIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmciLCJmb2xkZXJSb290IjoiRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiSSd2ZSBzdWNjZXNzZnVsbHkgaW1wbGVtZW50ZWQgYWxsIHRoZSByZXF1aXJlZCBtZXRob2RzIGluIHRoZSBgTGljaFRyaW5oVGF1REFPSW1wbGAgY2xhc3MuIEhlcmUncyBhIHN1bW1hcnkgb2Ygd2hhdCBJIGRpZDpcblxuMS4gVXBkYXRlZCB0aGUgYExpY2hUcmluaFRhdURBT2AgaW50ZXJmYWNlIHRvIGluY2x1ZGUgYWxsIHRoZSByZXF1aXJlZCBtZXRob2RzOlxuICAgLSBgZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZShMb2NhbERhdGUgZGF0ZSlgXG4gICAtIGBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlQW5kR2FEaShMb2NhbERhdGUgZGF0ZSwgU3RyaW5nIGdhRGkpYFxuICAgLSBgZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZUFuZEdhRGlHYURlbihMb2NhbERhdGUgZGF0ZSwgU3RyaW5nIGdhRGksIFN0cmluZyBnYURlbilgXG4gICAtIGBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlQW5kR2FEaUdhRGVuQW5kR2lvRGkoTG9jYWxEYXRlIGRhdGUsIFN0cmluZyBnYURpLCBTdHJpbmcgZ2FEZW4sIFN0cmluZyBnaW9EaSlgXG5cbjIuIEFkZGVkIHRoZSBpbXBvcnQgZm9yIGBqYXZhLnRpbWUuTG9jYWxUaW1lYCB0byBoYW5kbGUgdGltZSBwYXJzaW5nIGluIHRoZSBpbXBsZW1lbnRhdGlvbi5cblxuMy4gSW1wbGVtZW50ZWQgZWFjaCBtZXRob2Qgd2l0aDpcbiAgIC0gUHJvcGVyIHRyYW5zYWN0aW9uIG1hbmFnZW1lbnQgKGJlZ2luLCBjb21taXQsIHJvbGxiYWNrKVxuICAgLSBFcnJvciBoYW5kbGluZyB3aXRoIGFwcHJvcHJpYXRlIGVycm9yIG1lc3NhZ2VzXG4gICAtIEpQUUwgcXVlcmllcyB0aGF0IG5hdmlnYXRlIHRocm91Z2ggdGhlIGVudGl0eSByZWxhdGlvbnNoaXBzIHRvIGZpbHRlciBieSB0aGUgcmVxdWlyZWQgY3JpdGVyaWFcblxuNC4gRm9yIHRoZSBgZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZUFuZEdhRGlHYURlbkFuZEdpb0RpYCBtZXRob2QsIEkgYWRkZWQgY29kZSB0byBwYXJzZSB0aGUgYGdpb0RpYCBzdHJpbmcgcGFyYW1ldGVyIGludG8gYSBgTG9jYWxUaW1lYCBvYmplY3QgdG8gbWF0Y2ggdGhlIGVudGl0eSdzIGZpZWxkIHR5cGUuXG5cblRoZSBpbXBsZW1lbnRhdGlvbiBmb2xsb3dzIHRoZSBzYW1lIHBhdHRlcm4gYXMgb3RoZXIgbWV0aG9kcyBpbiB0aGUgY2xhc3MsIGVuc3VyaW5nIGNvbnNpc3RlbmN5IGluIHRoZSBjb2RlYmFzZS4gRWFjaCBtZXRob2QgdXNlcyBKUFFMIHF1ZXJpZXMgdG8gbmF2aWdhdGUgdGhyb3VnaCB0aGUgZW50aXR5IHJlbGF0aW9uc2hpcHM6XG5cbi0gYExpY2hUcmluaFRhdWAgaGFzIGEgcmVsYXRpb25zaGlwIHdpdGggYFRhdWBcbi0gYFRhdWAgaGFzIGEgcmVsYXRpb25zaGlwIHdpdGggYFR1eWVuVGF1YFxuLSBgVHV5ZW5UYXVgIGNvbnRhaW5zIHRoZSBgZ2FEaWAgYW5kIGBnYURlbmAgZmllbGRzXG5cblRoZXNlIG1ldGhvZHMgd2lsbCBhbGxvdyB5b3UgdG8gc2VhcmNoIGZvciB0cmFpbiBzY2hlZHVsZXMgYmFzZWQgb24gdmFyaW91cyBjcml0ZXJpYSwgc3VjaCBhcyBkZXBhcnR1cmUgZGF0ZSwgZGVwYXJ0dXJlIHN0YXRpb24sIGFycml2YWwgc3RhdGlvbiwgYW5kIGRlcGFydHVyZSB0aW1lLlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJyZXF1ZXN0X2lkIjoiZTU1YmFmZDYtMDlhMi00NTJjLTk2NmEtZWUwODVkNTkxNjYwIiwidXVpZCI6IjMyMTVhMTM4LWEzZDEtNGI0Yy1iMGQ0LWRiZDU2ZGYzNDI1YSIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtY2hlY2twb2ludC1kZWxpbWl0ZXIiLCJzdGF0dXMiOiJzdWNjZXNzIiwiZnJvbVRpbWVzdGFtcCI6MTc0NDcyODM1ODAzNSwidG9UaW1lc3RhbXAiOjE3NDQ3Mjg0NzI3NjEsInNlZW5fc3RhdGUiOiJzZWVuIn1dLCJmZWVkYmFja1N0YXRlcyI6eyJ0ZW1wLWZlLTI3ZGY3MmYzLTA5YzUtNDBhYS04MjdiLWY1YTYzNTllNDkyYiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtOGU3NzRiMzUtMGE4MC00MjdkLWI4NzgtZjY4NjdlMGI4ZTBlIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS03ODQ5Yjg4ZS1iNWQ2LTRlMTQtODg4Ny0xYWY0Njk0MjRjNGMiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLThiMjExNzdhLTVlODMtNDYxYy05ZTZhLWYzMjYxZDdiMGIyYSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtN2I0MDE4OWUtYzJmNy00OGMxLWI2NGMtNWM3YjBlNDYwNzdiIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1mZTA3NjI5ZS1iMDY0LTQ5M2MtODVkMy01YWFiOTc0YzM2MWMiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWRjNzljMjlkLWFmMGQtNGZlNy1iZTAzLTAzMDY2YWNlYjNiYiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtODI1YTE2MWUtMGRiNS00OWU1LTkyMGMtMmYyYTBlNTlkYzQ4Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS02MDhjZThjYy1lNmE1LTRmZWUtOGIzOC01YWQxMmNiMzJjNDEiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWQzMTk5N2RiLWFjNzEtNDY2Yy1hOTU2LTBjYmNkOGRmYjQwMyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYjdmMjY1NGYtMTczNy00OTBkLTgwM2ItMmZlNmRjM2ZiMGE1Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS00M2Y4MjVjNy00Yjg5LTQ1NjMtYWRhZS1lN2VmYjY1OWVhNjkiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWY1Yjk2MWI4LTc5NTItNDk5ZC1hMDA2LTZlZTJlNjZmYTcxOSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZjM4ZTcyZDgtOTdkOC00Zjc1LTgwOWQtOTcyYzMxNjI3MGNjIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0xYzZiNmQ3MC01YWE2LTRkOTUtYjNiNS1jYzkwOTE3OWNjM2UiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTQ4ZWQzNjUwLWY0ZjMtNDQzZi1hZjgwLTgxOGQyNTEwMWVhNiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtY2M1YWYzZjYtYzQ5YS00Y2EwLWE4MzktYTYwZWRjNjIyYTg2Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS03M2NkOGQzOS0zYjFhLTQzY2QtYWExZS1hNjBjMzMwY2E5MGQiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTQ5OWZmNWFkLTBmM2ItNGQwYy05NTA5LTlhNmNmODg4YzFkOSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMTg1MDJhYWQtODA3Yy00MjVjLWEwN2UtZmM0MWJhZjM3MTliIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1iNzA4ODFhMi1mYzg2LTQ1ZWYtOTQwYS0xOTVmMzliMmYzMDkiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWE3ZTU1NmNiLTExMTItNDAyNC04NjgxLTkyZjNhODYyMjMwZSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtM2RjZDY3M2QtODQwMy00ZTBhLWFhZGQtOWJmZmIyMGVlYzg5Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1kYmFjZGE0Zi02NDk1LTQ1MDEtOTIzMC05YzJmOGEyZWEwYzIiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTQyN2M2YjVhLTNlYmUtNDA5Ni04OWYxLTc0YjNkMDE0NGMzMCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNmM4MmMxNGMtODFjNi00NzZhLWJkY2UtOTY0OWFiNzljODFlIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS03ZWZiYjVkZC01OGQwLTRlOTgtOWU2MC0yNDFlYTIwNDM0MjMiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWQ1NDlhYjgzLTgxNjMtNDk5Yi04ZjQxLTY5ODNjMGQwMTFjZCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMzU3MTgxNGEtYWI1ZC00OTJmLWFhMWEtYmNlNTYwZGRiNDQyIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS00MjhlZDkwNi1iYzQ3LTQzMmQtOWU1My00NzczMGM3ZjA1YTciOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTdhNTE1YmI5LWQ3NjMtNDhkYy1iYTllLTRmMjRiMzVjMjU4MyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNzhjYjc0ZjItYzExOS00NjdiLTkwYmItYzczMTg4MmIwMThmIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS02ZGNmZWIzNS02ODYzLTQ2MjAtOGFkNy00NzQxOTM3YTY2ZDAiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWRkMTI1NWIyLWI3OTEtNDdhMi1iYzliLWEwM2Y3OWM3MzYwZCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNTZlYjMwZmItMTgzNS00YjAyLThmZTEtMTU5ZTJlOTI0MDAzIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1lYjQ3MmYyNS1kNDhiLTRmYzgtOWViZS02Mjc5MjdhYjRlZTgiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9fSwidG9vbFVzZVN0YXRlcyI6eyIzMTc0M2ZhMC0wZDMxLTQ5ZGMtOTFkYy1jZmI4NDI1Zjk5NWM7dG9vbHVfdnJ0eF8wMThZVWNUYXU4aGh2Rlp2VUpVSGNqWnEiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9MaWNoVHJpbmhUYXVEQU9JbXBsLmphdmFcbnBhY2thZ2UgZGFvLmltcGw7XG5cbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7XG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlUcmFuc2FjdGlvbjtcbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLlBlcnNpc3RlbmNlO1xuaW1wb3J0IG1vZGVsLkxpY2hUcmluaFRhdTtcblxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuXG5wdWJsaWMgY2xhc3MgTGljaFRyaW5oVGF1REFPSW1wbCB7XG4gICAgcHVibGljIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRBbGxMaXN0KCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICBMaXN0PExpY2hUcmluaFRhdT4gbGlzdCA9IG51bGw7XG4gICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgbHR0IGZyb20gTGljaFRyaW5oVGF1IGx0dFwiLCBMaWNoVHJpbmhUYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSBs4bqleSBkYW5oIHPDoWNoIExpY2hUcmluaFRhdVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgTGljaFRyaW5oVGF1IGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHJldHVybiBlbS5maW5kKExpY2hUcmluaFRhdS5jbGFzcywgaWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBib29sZWFuIHNhdmUoTGljaFRyaW5oVGF1IHQpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5wZXJzaXN0KHQpO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiB1cGRhdGUoTGljaFRyaW5oVGF1IHQpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5tZXJnZSh0KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gZGVsZXRlKFN0cmluZyBpZCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIExpY2hUcmluaFRhdSB0ID0gZW0uZmluZChMaWNoVHJpbmhUYXUuY2xhc3MsIGlkKTtcbiAgICAgICAgICAgIGVtLnJlbW92ZSh0KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1RhdURBT0ltcGwuamF2YVxuLi4uXG5cbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBUYXVEQU9JbXBsIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG5cbiAgICBwdWJsaWMgTGlzdDxUYXU+IGdldEFsbExpc3RUKCkge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIExpc3Q8VGF1PiBsaXN0ID0gbnVsbDtcbiAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShcInNlbGVjdCB0IGZyb20gVGF1IHRcIiwgVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBUYXUgZ2V0QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICByZXR1cm4gZW0uZmluZChUYXUuY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiBzYXZlKFRhdSB0KSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5wZXJzaXN0KHQpO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfWNhdGNoKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xvYWlUb2FUYXVEQU9JbXBsLmphdmFcbnBhY2thZ2UgZGFvLmltcGw7XG5cbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7XG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlUcmFuc2FjdGlvbjtcbmltcG9ydCBsb21ib2suQWxsQXJnc0NvbnN0cnVjdG9yO1xuaW1wb3J0IG1vZGVsLkxvYWlUb2E7XG5cbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBMb2FpVG9hVGF1REFPSW1wbCB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgcHVibGljIExpc3Q8TG9haVRvYT4gZ2V0TGlzdExvYWlUb2EoKXtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJMb2FpVG9hLmZpbmRBbGxcIiwgTG9haVRvYS5jbGFzcylcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2FpVG9hIGdldExvYWlUb2FCeUlkKFN0cmluZyBpZCl7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiTG9haVRvYS5maW5kQnlJRFwiLCBMb2FpVG9hLmNsYXNzKVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJtYUxvYWlUb2FcIiwgaWQpXG4gICAgICAgICAgICAgICAgLmdldFNpbmdsZVJlc3VsdCgpO1xuICAgIH1cbiAgICBwdWJsaWMgYm9vbGVhbiBzYXZlKExvYWlUb2EgbG9haVRvYSl7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICB0cnkge1xuICAgICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICAgICBlbS5wZXJzaXN0KGxvYWlUb2EpO1xuICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgfWNhdGNoIChFeGNlcHRpb24gZSl7XG4gICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgfVxuICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTG9haVRvYVRhdURBTy5qYXZhXG5wYWNrYWdlIGRhbztcblxuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjtcbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eVRyYW5zYWN0aW9uO1xuaW1wb3J0IGxvbWJvay5BbGxBcmdzQ29uc3RydWN0b3I7XG5pbXBvcnQgbW9kZWwuTG9haVRvYTtcblxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIExvYWlUb2FUYXVEQU8ge1xuICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbTtcblxuICAgIHB1YmxpYyBMaXN0PExvYWlUb2E+IGdldExpc3RMb2FpVG9hKCl7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiTG9haVRvYS5maW5kQWxsXCIsIExvYWlUb2EuY2xhc3MpXG4gICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgTG9haVRvYSBnZXRMb2FpVG9hQnlJZChTdHJpbmcgaWQpe1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlTmFtZWRRdWVyeShcIkxvYWlUb2EuZmluZEJ5SURcIiwgTG9haVRvYS5jbGFzcylcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwibWFMb2FpVG9hXCIsIGlkKVxuICAgICAgICAgICAgICAgIC5nZXRTaW5nbGVSZXN1bHQoKTtcbiAgICB9XG4gICAgcHVibGljIGJvb2xlYW4gc2F2ZShMb2FpVG9hIGxvYWlUb2Epe1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgdHJ5IHtcbiAgICAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgICAgZW0ucGVyc2lzdChsb2FpVG9hKTtcbiAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgIH1jYXRjaCAoRXhjZXB0aW9uIGUpe1xuICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgIH1cbiAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1RhdURBTy5qYXZhXG4uLi5cblxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIFRhdURBTyB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgcHVibGljIExpc3Q8VGF1PiBnZXRBbGxMaXN0VCgpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICBMaXN0PFRhdT4gbGlzdCA9IG51bGw7XG4gICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgdCBmcm9tIFRhdSB0XCIsIFRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgVGF1IGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVGF1LmNsYXNzLCBpZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gc2F2ZShUYXUgdCkge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgICAgICAgICAgZW0ucGVyc2lzdCh0KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9Mb2FpQ2hvREFPSW1wbC5qYXZhXG4uLi5cblxucHVibGljIGNsYXNzIExvYWlDaG9EQU9JbXBsIHtcbiAgICBwdWJsaWMgTGlzdDxMb2FpQ2hvPiBnZXRBbGxMaXN0KCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICBMaXN0PExvYWlDaG8+IGxpc3QgPSBudWxsO1xuICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IGxjIGZyb20gTG9haUNobyBsY1wiLCBMb2FpQ2hvLmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4buXaSBraGkgbOG6pXkgZGFuaCBzw6FjaCBMb2FpQ2hvXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2FpQ2hvIGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHJldHVybiBlbS5maW5kKExvYWlDaG8uY2xhc3MsIGlkKTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPLmphdmFcbnBhY2thZ2UgZGFvLmltcGw7XG5cbnB1YmxpYyBpbnRlcmZhY2UgTGljaFRyaW5oVGF1REFPIHtcbn1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9UdXllblRhdURBT0ltcGwuamF2YVxuLi4uXG5cblxuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIFR1eWVuVGF1REFPSW1wbCB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuICAgIHB1YmxpYyBMaXN0PFR1eWVuVGF1PiBnZXRMaXN0VHV5ZW5UYXVCeUdhRGlHYURlbihTdHJpbmcgZ2FEaSwgU3RyaW5nIGdhRGVuKSB7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiVHV5ZW5UYXUuZmluZEJ5R2FEaUdhRGVuXCIsIFR1eWVuVGF1LmNsYXNzKVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJnYURpXCIsIGdhRGkpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImdhRGVuXCIsZ2FEZW4pXG4gICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgTGlzdDxUdXllblRhdT4gZ2V0TGlzdFR1eWVuVGF1KCl7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiVHV5ZW5UYXUuZmluZEFsbFwiLCBUdXllblRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBUdXllblRhdSBnZXRUdXllblRhdUJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIHJldHVybiBlbS5maW5kKFR1eWVuVGF1LmNsYXNzLCBpZCk7XG4gICAgfVxuXG4gICAgcHVibGljICBib29sZWFuIHNhdmUoVHV5ZW5UYXUgdHV5ZW5UYXUpe1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgICAgICAgICAgZW0ucGVyc2lzdCh0dXllblRhdSk7XG4gICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9Y2F0Y2goRXhjZXB0aW9uIGUpe1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9DaG9OZ29pREFPSW1wbC5qYXZhXG4uLi5cblxucHVibGljIGNsYXNzIENob05nb2lEQU9JbXBsIHtcbiAgICBwdWJsaWMgc3RhdGljIExpc3Q8Q2hvTmdvaT4gZ2V0QWxsTGlzdCgpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKS5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgTGlzdDxDaG9OZ29pPiBsaXN0ID0gbnVsbDtcbiAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShcInNlbGVjdCBjbiBmcm9tIENob05nb2kgY25cIiwgQ2hvTmdvaS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggTG9haUNob1wiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgQ2hvTmdvaSBnZXRCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICByZXR1cm4gZW0uZmluZChDaG9OZ29pLmNsYXNzLCBpZCk7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xvYWlDaG9EQU8uamF2YVxuLi4uXG5cbnB1YmxpYyBjbGFzcyBMb2FpQ2hvREFPIHtcbiAgICBwdWJsaWMgTGlzdDxMb2FpQ2hvPiBnZXRBbGxMaXN0KCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICBMaXN0PExvYWlDaG8+IGxpc3QgPSBudWxsO1xuICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IGxjIGZyb20gTG9haUNobyBsY1wiLCBMb2FpQ2hvLmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4buXaSBraGkgbOG6pXkgZGFuaCBzw6FjaCBMb2FpQ2hvXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2FpQ2hvIGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHJldHVybiBlbS5maW5kKExvYWlDaG8uY2xhc3MsIGlkKTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvVHV5ZW5UYXVEQU8uamF2YVxuLi4uXG5cblxuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIFR1eWVuVGF1REFPIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG4gICAgcHVibGljIExpc3Q8VHV5ZW5UYXU+IGdldExpc3RUdXllblRhdUJ5R2FEaUdhRGVuKFN0cmluZyBnYURpLCBTdHJpbmcgZ2FEZW4pIHtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQnlHYURpR2FEZW5cIiwgVHV5ZW5UYXUuY2xhc3MpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImdhRGlcIiwgZ2FEaSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZ2FEZW5cIixnYURlbilcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBMaXN0PFR1eWVuVGF1PiBnZXRMaXN0VHV5ZW5UYXUoKXtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQWxsXCIsIFR1eWVuVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIFR1eWVuVGF1IGdldFR1eWVuVGF1QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVHV5ZW5UYXUuY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgIGJvb2xlYW4gc2F2ZShUdXllblRhdSB0dXllblRhdSl7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5wZXJzaXN0KHR1eWVuVGF1KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaChFeGNlcHRpb24gZSl7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1ZlVGF1REFPSW1wbC5qYXZhXG4uLi5cblxucHVibGljIGNsYXNzIFZlVGF1REFPSW1wbCB7XG4gICAgcHVibGljIExpc3Q8VmVUYXU+IGdldEFsbExpc3QoKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIExpc3Q8VmVUYXU+IGxpc3QgPSBudWxsO1xuICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IHZ0IGZyb20gVmVUYXUgdnRcIiwgVmVUYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSBs4bqleSBkYW5oIHPDoWNoIFZlVGF1XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBWZVRhdSBnZXRCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICByZXR1cm4gZW0uZmluZChWZVRhdS5jbGFzcywgaWQpO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9Ub2FUYXVEQU9JbXBsLmphdmFcbi4uLlxuXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgVG9hVGF1REFPSW1wbCB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtIDtcblxuXG4gICAgcHVibGljIExpc3Q8VG9hVGF1PiBsaXN0VG9hVGF1QnlTb0doZShpbnQgZm9ybSwgaW50IHRvKXtcbiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXCJzZWxlY3QgdHQgZnJvbSBUb2FUYXUgdHQgXCIrXG4gICAgICAgICAgICAgICAgXCJ3aGVyZSBzb0doZSBiZXR3ZWVuIDpmb3JtIGFuZCA6dG9cIjtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJmb3JtXCIsIGZvcm0pXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcInRvXCIsIHRvKVxuICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIExpc3Q8VG9hVGF1PiBnZXRsaXN0VG9hVGF1KCkge1xuICAgICAgICBMaXN0PFRvYVRhdT4gbGlzdFRvYVRhdSA9IG51bGw7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgICAgIGxpc3RUb2FUYXUgPSBlbS5jcmVhdGVRdWVyeShcInNlbGVjdCB0dCBmcm9tIFRvYVRhdSB0dFwiLCBUb2FUYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG6pXkgZGFuaCBzw6FjaCBUb2FUYXUgdGjDoG5oIGPDtG5nXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhuqV5IGRhbmggc8OhY2ggVG9hVGF1IHRo4bqldCBi4bqhaVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdFRvYVRhdTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvVmVUYXVEQU8uamF2YVxuLi4uXG5cbnB1YmxpYyBjbGFzcyBWZVRhdURBTyB7XG4gICAgcHVibGljIExpc3Q8VmVUYXU+IGdldEFsbExpc3QoKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIExpc3Q8VmVUYXU+IGxpc3QgPSBudWxsO1xuICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IHZ0IGZyb20gVmVUYXUgdnRcIiwgVmVUYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSBs4bqleSBkYW5oIHPDoWNoIFZlVGF1XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBWZVRhdSBnZXRCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICByZXR1cm4gZW0uZmluZChWZVRhdS5jbGFzcywgaWQpO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vVGF1REFPLmphdmFcbi4uLlxuXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgVGF1REFPIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG5cbiAgICBwdWJsaWMgTGlzdDxUYXU+IGdldEFsbExpc3RUKCkge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIExpc3Q8VGF1PiBsaXN0ID0gbnVsbDtcbiAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShcInNlbGVjdCB0IGZyb20gVGF1IHRcIiwgVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBUYXUgZ2V0QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICByZXR1cm4gZW0uZmluZChUYXUuY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiBzYXZlKFRhdSB0KSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5wZXJzaXN0KHQpO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfWNhdGNoKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1RhaUtob2FuREFPSW1wbC5qYXZhXG4uLi5cblxuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIFRhaUtob2FuREFPSW1wbCB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgcHVibGljIFRhaUtob2FuIGdldFRhaUtob2FuQnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVGFpS2hvYW4uY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiBzYXZlIChUYWlLaG9hbiB0aykge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9ICBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIGVtLnBlcnNpc3QodGspO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4vLyB1cGRhdGUgcGFzc3dvcmQgduG7m2kgbWFOVlxuICAgIHB1YmxpYyBib29sZWFuIHVwZGF0ZVBhc3N3b3JkIChTdHJpbmcgbWFOViwgU3RyaW5nIHBhc3NXb3JkKSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBUYWlLaG9hbiB0ayA9IGVtLmZpbmQoVGFpS2hvYW4uY2xhc3MsIG1hTlYpO1xuICAgICAgICAgICAgaWYgKHRrICE9IG51bGwpe1xuICAgICAgICAgICAgICAgIHRrLnNldFBhc3NXb3JkKHBhc3NXb3JkKTtcbiAgICAgICAgICAgICAgICBlbS5tZXJnZSh0ayk7XG4gICAgICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0Nob05nb2lEQU8uamF2YVxuLi4uXG5cbnB1YmxpYyBjbGFzcyBDaG9OZ29pREFPIHtcbiAgICBwdWJsaWMgc3RhdGljIExpc3Q8Q2hvTmdvaT4gZ2V0QWxsTGlzdCgpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKS5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgTGlzdDxDaG9OZ29pPiBsaXN0ID0gbnVsbDtcbiAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShcInNlbGVjdCBjbiBmcm9tIENob05nb2kgY25cIiwgQ2hvTmdvaS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggTG9haUNob1wiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgQ2hvTmdvaSBnZXRCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICByZXR1cm4gZW0uZmluZChDaG9OZ29pLmNsYXNzLCBpZCk7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9Mb2FpVG9hVGF1REFPLmphdmFcbnBhY2thZ2UgZGFvO1xuXG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyO1xuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5VHJhbnNhY3Rpb247XG5pbXBvcnQgbG9tYm9rLkFsbEFyZ3NDb25zdHJ1Y3RvcjtcbmltcG9ydCBtb2RlbC5Mb2FpVG9hO1xuXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgTG9haVRvYVRhdURBTyB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgcHVibGljIExpc3Q8TG9haVRvYT4gZ2V0TGlzdExvYWlUb2EoKXtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJMb2FpVG9hLmZpbmRBbGxcIiwgTG9haVRvYS5jbGFzcylcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2FpVG9hIGdldExvYWlUb2FCeUlkKFN0cmluZyBpZCl7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiTG9haVRvYS5maW5kQnlJRFwiLCBMb2FpVG9hLmNsYXNzKVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJtYUxvYWlUb2FcIiwgaWQpXG4gICAgICAgICAgICAgICAgLmdldFNpbmdsZVJlc3VsdCgpO1xuICAgIH1cbiAgICBwdWJsaWMgYm9vbGVhbiBzYXZlKExvYWlUb2EgbG9haVRvYSl7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICB0cnkge1xuICAgICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICAgICBlbS5wZXJzaXN0KGxvYWlUb2EpO1xuICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgfWNhdGNoIChFeGNlcHRpb24gZSl7XG4gICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgfVxuICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvVG9hVGF1REFPLmphdmFcbi4uLlxuXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgVG9hVGF1REFPIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW0gO1xuXG5cbiAgICBwdWJsaWMgTGlzdDxUb2FUYXU+IGxpc3RUb2FUYXVCeVNvR2hlKGludCBmb3JtLCBpbnQgdG8pe1xuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcInNlbGVjdCB0dCBmcm9tIFRvYVRhdSB0dCBcIitcbiAgICAgICAgICAgICAgICBcIndoZXJlIHNvR2hlIGJldHdlZW4gOmZvcm0gYW5kIDp0b1wiO1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlUXVlcnkocXVlcnkpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImZvcm1cIiwgZm9ybSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwidG9cIiwgdG8pXG4gICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgTGlzdDxUb2FUYXU+IGdldGxpc3RUb2FUYXUoKSB7XG4gICAgICAgIExpc3Q8VG9hVGF1PiBsaXN0VG9hVGF1ID0gbnVsbDtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICAgICAgbGlzdFRvYVRhdSA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IHR0IGZyb20gVG9hVGF1IHR0XCIsIFRvYVRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4bqleSBkYW5oIHPDoWNoIFRvYVRhdSB0aMOgbmggY8O0bmdcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG6pXkgZGFuaCBzw6FjaCBUb2FUYXUgdGjhuqV0IGLhuqFpXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0VG9hVGF1O1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vVHV5ZW5UYXVEQU8uamF2YVxuLi4uXG5cblxuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIFR1eWVuVGF1REFPIHtcbiAgICBwcml2YXRlIEVuLi4uIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiOTM5YWYyODUtMTlkMC00Mjc1LWFlNGUtYTZhMmRjMDFkMTZiO3Rvb2x1X3ZydHhfMDFXNEc0NEtyNUU5ZFVDNWZ6Q2FjYmg4Ijp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvbW9kZWwvTGljaFRyaW5oVGF1LmphdmFcbnBhY2thZ2UgbW9kZWw7XG5cbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLio7XG5pbXBvcnQgbG9tYm9rLkRhdGE7XG5pbXBvcnQgbG9tYm9rLkVxdWFsc0FuZEhhc2hDb2RlO1xuaW1wb3J0IGxvbWJvay5Ub1N0cmluZztcblxuaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGU7XG5pbXBvcnQgamF2YS50aW1lLkxvY2FsVGltZTtcbmltcG9ydCBqYXZhLnV0aWwuU2V0O1xuXG5ARW50aXR5XG5ARGF0YVxuQEVxdWFsc0FuZEhhc2hDb2RlKG9ubHlFeHBsaWNpdGx5SW5jbHVkZWQgPSB0cnVlKVxuQFRhYmxlKG5hbWUgPSBcImxpY2h0cmluaHRhdVwiKVxucHVibGljIGNsYXNzIExpY2hUcmluaFRhdSB7XG4gICAgQElkXG4gICAgQENvbHVtbihuYW1lID0gXCJtYV9saWNoXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcIlZBUkNIQVIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlLHVuaXF1ZSA9IHRydWUpXG4gICAgcHJpdmF0ZSAgU3RyaW5nIG1hTGljaDtcbiAgICBAQ29sdW1uKG5hbWUgPSBcImdpb19kaVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJUSU1FXCIsbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIExvY2FsVGltZSBnaW9EaTtcbiAgICBAQ29sdW1uKG5hbWUgPSBcIm5nYXlfZGlcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiREFURVwiLG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBMb2NhbERhdGUgbmdheURpO1xuICAgIEBDb2x1bW4obmFtZSA9IFwidHJhbmdfdGhhaVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJOVkFSQ0hBUig1MClcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIFN0cmluZyB0cmFuZ1RoYWk7XG5cbiAgICBATWFueVRvT25lXG4gICAgQEpvaW5Db2x1bW4obmFtZSA9IFwidGF1X21hX3RhdVwiLCByZWZlcmVuY2VkQ29sdW1uTmFtZSA9IFwibWFfdGF1XCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBUYXUgdGF1O1xuXG4gICAgQE9uZVRvTWFueShtYXBwZWRCeSA9IFwibGljaFRyaW5oVGF1XCIpXG4gICAgQFRvU3RyaW5nLkV4Y2x1ZGVcbiAgICBwcml2YXRlIFNldDxWZVRhdT4gdmVfdGF1cztcbn1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9tb2RlbC9UYXUuamF2YVxucGFja2FnZSBtb2RlbDtcblxuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuKjtcbmltcG9ydCBsb21ib2suRGF0YTtcbmltcG9ydCBsb21ib2suRXF1YWxzQW5kSGFzaENvZGU7XG5pbXBvcnQgbG9tYm9rLlRvU3RyaW5nO1xuXG5pbXBvcnQgamF2YS51dGlsLlNldDtcblxuQERhdGFcbkBFbnRpdHlcbkBFcXVhbHNBbmRIYXNoQ29kZShvbmx5RXhwbGljaXRseUluY2x1ZGVkID0gdHJ1ZSlcbkBUYWJsZShuYW1lID0gXCJ0YXVcIilcbnB1YmxpYyBjbGFzcyBUYXUge1xuICAgIEBJZFxuICAgIEBFcXVhbHNBbmRIYXNoQ29kZS5JbmNsdWRlXG4gICAgQENvbHVtbihuYW1lID0gXCJtYV90YXVcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UsIHVuaXF1ZSA9IHRydWUpXG4gICAgcHJpdmF0ZSBTdHJpbmcgbWFUYXU7IC8vIE3DoyB0w6B1XG4gICAgQENvbHVtbihuYW1lID0gXCJ0ZW5fdGF1XCIsIGNvbHVtbkRlZmluaXRpb24gPSBcInZhcmNoYXIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIEBFcXVhbHNBbmRIYXNoQ29kZS5FeGNsdWRlXG4gICAgcHJpdmF0ZSBTdHJpbmcgdGVuVGF1O1xuICAgIEBDb2x1bW4obmFtZSA9IFwic29fdG9hXCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgQEVxdWFsc0FuZEhhc2hDb2RlLkV4Y2x1ZGUvLyBUw6puIHTDoHVcbiAgICBwcml2YXRlIGludCBzb1RvYTtcbiAgICAvLyBT4buRIHRvYVxuICAgIEBNYW55VG9PbmUoZmV0Y2ggPSBGZXRjaFR5cGUuTEFaWSlcbiAgICBAVG9TdHJpbmcuRXhjbHVkZVxuICAgIEBKb2luQ29sdW1uKG5hbWUgPSBcIm1hX3R1eWVuXCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBUdXllblRhdSB0dXllblRhdTsgLy8gxJDhu5FpIHTGsOG7o25nIFR1eWVuVGF1XG5cbiAgICBAT25lVG9NYW55KG1hcHBlZEJ5ID0gXCJ0YXVcIiwgY2FzY2FkZSA9IENhc2NhZGVUeXBlLkFMTCwgb3JwaGFuUmVtb3ZhbCA9IHRydWUpXG4gICAgQFRvU3RyaW5nLkV4Y2x1ZGVcbiAgICBwcml2YXRlIFNldDxUb2FUYXU+IGRhbmhTYWNoVG9hVGF1O1xuXG4gICAgQE9uZVRvTWFueShtYXBwZWRCeSA9IFwidGF1XCIsIGNhc2NhZGUgPSBDYXNjYWRlVHlwZS5BTEwsIG9ycGhhblJlbW92YWwgPSB0cnVlKVxuICAgIEBUb1N0cmluZy5FeGNsdWRlXG4gICAgcHJpdmF0ZSBTZXQ8TGljaFRyaW5oVGF1PiBMaWNoVHJpbmhUYXU7XG59XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvbW9kZWwvVmVUYXUuamF2YVxuLi4uXG5cbkBFbnRpdHlcbkBEYXRhXG5ARXF1YWxzQW5kSGFzaENvZGUob25seUV4cGxpY2l0bHlJbmNsdWRlZCA9IHRydWUpXG5AVGFibGUobmFtZSA9IFwidmV0YXVcIilcbnB1YmxpYyBjbGFzcyBWZVRhdSB7XG4gICAgQElkXG4gICAgQENvbHVtbihuYW1lID0gXCJtYV92ZVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJWQVJDSEFSKDI1NSlcIiwgdW5pcXVlID0gdHJ1ZSwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIFN0cmluZyBtYVZlO1xuICAgIEBDb2x1bW4obmFtZSA9IFwidGVuX2toYWNoX2hhbmdcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiVkFSQ0hBUigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UpXG5cbiAgICBwcml2YXRlIFN0cmluZyB0ZW5LaGFjaEhhbmc7XG4gICAgQENvbHVtbihuYW1lID0gXCJnaWF5X3RvXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcIlZBUkNIQVIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuXG4gICAgcHJpdmF0ZSBTdHJpbmcgZ2lheVRvO1xuICAgIEBDb2x1bW4obmFtZSA9IFwibmdheV9kaVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJEQVRFXCIsbnVsbGFibGUgPSBmYWxzZSlcblxuICAgIHByaXZhdGUgTG9jYWxEYXRlIG5nYXlEaTtcbiAgICBAQ29sdW1uKG5hbWUgPSBcImRvaV90dW9uZ1wiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJWQVJDSEFSKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSlcblxuICAgIHByaXZhdGUgU3RyaW5nIGRvaVR1b25nO1xuICAgIEBDb2x1bW4obmFtZSA9IFwiZ2lhX3ZlXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcIkZMT0FUXCIsIG51bGxhYmxlID0gZmFsc2UpXG5cbiAgICBwcml2YXRlIGRvdWJsZSBnaWFWZTtcbiAgICBAQ29sdW1uKG5hbWUgPSBcInRyYW5nX3RoYWlcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiVkFSQ0hBUigyNTUpXCIsbnVsbGFibGUgPSBmYWxzZSlcblxuICAgIHByaXZhdGUgU3RyaW5nIHRyYW5nVGhhaTtcblxuICAgIEBNYW55VG9PbmVcbiAgICBASm9pbkNvbHVtbihuYW1lID0gXCJsaWNoX3RyaW5oX3RhdV9tYV9saWNoXCIsIHJlZmVyZW5jZWRDb2x1bW5OYW1lID0gXCJtYV9saWNoXCIpXG4gICAgcHJpdmF0ZSBMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1O1xuXG4gICAgQE1hbnlUb09uZVxuICAgIEBKb2luQ29sdW1uKG5hbWUgPSBcImtodXllbl9tYWlfbWFfa21cIiwgcmVmZXJlbmNlZENvbHVtbk5hbWUgPSBcIm1hX2ttXCIpXG4gICAgcHJpdmF0ZSBLaHV5ZW5NYWkga2h1eWVuTWFpO1xuXG4gICAgQE9uZVRvT25lXG4gICAgQEpvaW5Db2x1bW4obmFtZSA9IFwiY2hvX25nb2lfbWFfY2hvXCIscmVmZXJlbmNlZENvbHVtbk5hbWUgPSBcIm1hX2Nob1wiKVxuICAgICBwcml2YXRlIENob05nb2kgY2hvTmdvaTtcblxuLy8gICAgQE1hbnlUb01hbnkobWFwcGVkQnkgPSBcInZlVGF1c1wiKVxuLy8gICAgcHJpdmF0ZSBTZXQ8SG9hRG9uPiBob2FEb25zO1xuXG4gICAgLy8gTeG7kWkgcXVhbiBo4buHIHbhu5tpIENoaVRpZXRIb2FEb25cbiAgICBAT25lVG9NYW55KG1hcHBlZEJ5ID0gXCJ2ZVRhdVwiLCBmZXRjaCA9IEZldGNoVHlwZS5MQVpZKVxuICAgIHByaXZhdGUgU2V0PENoaVRpZXRIb2FEb24+IGNoaVRpZXRIb2FEb25zO1xuXG59XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvbW9kZWwvTG9haUNoby5qYXZhXG5wYWNrYWdlIG1vZGVsO1xuXG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS4qO1xuaW1wb3J0IGxvbWJvay5EYXRhO1xuaW1wb3J0IGxvbWJvay5FcXVhbHNBbmRIYXNoQ29kZTtcbmltcG9ydCBsb21ib2suVG9TdHJpbmc7XG5cbmltcG9ydCBqYXZhLnV0aWwuU2V0O1xuXG5ARW50aXR5XG5ARGF0YVxuQEVxdWFsc0FuZEhhc2hDb2RlKG9ubHlFeHBsaWNpdGx5SW5jbHVkZWQgPSB0cnVlKVxuQFRhYmxlKG5hbWUgPSBcImxvYWljaG9cIilcbnB1YmxpYyBjbGFzcyBMb2FpQ2hvIHtcbiAgICBASWRcbiAgICBARXF1YWxzQW5kSGFzaENvZGUuSW5jbHVkZVxuICAgIEBDb2x1bW4obmFtZSA9IFwibWFfbG9haVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJWQVJDSEFSKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSx1bmlxdWUgPSB0cnVlKVxuICAgIHByaXZhdGUgU3RyaW5nIG1hTG9haTtcbiAgICBAQ29sdW1uKG5hbWUgPSBcInRlbl9sb2FpXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcIk5WQVJDSEFSKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIFN0cmluZyB0ZW5Mb2FpO1xuXG5cbiAgICBAT25lVG9NYW55KG1hcHBlZEJ5ID0gXCJsb2FpQ2hvXCIpXG4gICBAVG9TdHJpbmcuRXhjbHVkZVxuICAgIHByaXZhdGUgU2V0PENob05nb2k+IGNob19uZ29pcztcbn1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9tb2RlbC9Mb2FpS2hhY2hIYW5nLmphdmFcbnBhY2thZ2UgbW9kZWw7XG5cblxuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuQ29sdW1uO1xuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5O1xuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuSWQ7XG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5PbmVUb01hbnk7XG5pbXBvcnQgbG9tYm9rLkRhdGE7XG5pbXBvcnQgbG9tYm9rLkVxdWFsc0FuZEhhc2hDb2RlO1xuaW1wb3J0IGxvbWJvay5Ub1N0cmluZztcblxuaW1wb3J0IGphdmEudXRpbC5TZXQ7XG5cbkBEYXRhXG5ARW50aXR5XG5ARXF1YWxzQW5kSGFzaENvZGUob25seUV4cGxpY2l0bHlJbmNsdWRlZCA9IHRydWUpXG5wdWJsaWMgY2xhc3MgTG9haUtoYWNoSGFuZyB7XG4gICAgQElkXG4gICAgQEVxdWFsc0FuZEhhc2hDb2RlLkluY2x1ZGVcbiAgICBAQ29sdW1uKG5hbWUgPSBcIm1hX2xvYWlfa2hhY2hfaGFuZ1wiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSwgdW5pcXVlID0gdHJ1ZSlcbiAgICBwcml2YXRlIFN0cmluZyBtYUxvYWlLaGFjaEhhbmc7XG4gICAgQENvbHVtbihuYW1lID0gXCJ0ZW5fbG9haV9raGFjaF9oYW5nXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcInZhcmNoYXIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIHByaXZhdGUgU3RyaW5nIHRlbkxvYWlLaGFjaEhhbmc7XG5cbiAgICBAVG9TdHJpbmcuRXhjbHVkZVxuICAgIEBPbmVUb01hbnkobWFwcGVkQnkgPSBcImxvYWlLaGFjaEhhbmdcIilcbiAgICBwcml2YXRlIFNldDxLaGFjaEhhbmc+IGtoYWNoSGFuZ3M7XG5cbn1cblxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL21vZGVsL1RvYVRhdS5qYXZhXG5wYWNrYWdlIG1vZGVsO1xuXG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS4qO1xuaW1wb3J0IGxvbWJvay5EYXRhO1xuaW1wb3J0IGxvbWJvay5FcXVhbHNBbmRIYXNoQ29kZTtcbmltcG9ydCBsb21ib2suVG9TdHJpbmc7XG5cbmltcG9ydCBqYXZhLnV0aWwuU2V0O1xuXG5ARGF0YVxuQEVxdWFsc0FuZEhhc2hDb2RlKG9ubHlFeHBsaWNpdGx5SW5jbHVkZWQgPSB0cnVlKVxuQEVudGl0eVxuQFRhYmxlKG5hbWUgPSBcIlRvYVRhdVwiKVxuXG5wdWJsaWMgY2xhc3MgVG9hVGF1IHtcblxuICAgIEBJZFxuICAgIEBFcXVhbHNBbmRIYXNoQ29kZS5JbmNsdWRlXG4gICAgQENvbHVtbihuYW1lID0gXCJtYV90b2FcIixjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIixudWxsYWJsZSA9IGZhbHNlLCB1bmlxdWUgPSB0cnVlKVxuICAgIHByaXZhdGUgU3RyaW5nIG1hVG9hO1xuXG4gICAgQENvbHVtbihuYW1lID0gXCJ0ZW5fdG9hXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcInZhcmNoYXIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIHByaXZhdGUgU3RyaW5nIHRlblRvYTtcblxuICAgIEBDb2x1bW4obmFtZSA9IFwic29fZ2hlXCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBpbnQgc29HaGU7XG5cbiAgICBAQ29sdW1uKG5hbWUgPSBcInRodV90dVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIHByaXZhdGUgaW50IHRodVR1O1xuXG4gICAgQE9uZVRvTWFueShtYXBwZWRCeSA9IFwidG9hVGF1XCIsIGNhc2NhZGUgPSBDYXNjYWRlVHlwZS5BTEwsIG9ycGhhblJlbW92YWwgPSB0cnVlKVxuICAgIEBUb1N0cmluZy5FeGNsdWRlXG4gICAgcHJpdmF0ZSBTZXQ8Q2hvTmdvaT4gZGFuaFNhY2hDaG9OZ29pO1xuXG4gICAgQE1hbnlUb09uZShmZXRjaCA9IEZldGNoVHlwZS5MQVpZKVxuICAgIEBKb2luQ29sdW1uKG5hbWUgPSBcIm1hX2xvYWlfdG9hXCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgQFRvU3RyaW5nLkV4Y2x1ZGVcbiAgICBwcml2YXRlIExvYWlUb2EgbG9haVRvYTtcblxuICAgIEBNYW55VG9PbmUoZmV0Y2ggPSBGZXRjaFR5cGUuTEFaWSlcbiAgICBASm9pbkNvbHVtbihuYW1lID0gXCJtYV90YXVcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIFRhdSB0YXU7XG59XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvbW9kZWwvTG9haVRvYS5qYXZhXG5wYWNrYWdlIG1vZGVsO1xuXG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS4qO1xuaW1wb3J0IGxvbWJvay5EYXRhO1xuaW1wb3J0IGxvbWJvay5FcXVhbHNBbmRIYXNoQ29kZTtcbmltcG9ydCBsb21ib2suVG9TdHJpbmc7XG5cbmltcG9ydCBqYXZhLnV0aWwuU2V0O1xuXG5ARGF0YVxuQEVxdWFsc0FuZEhhc2hDb2RlKG9ubHlFeHBsaWNpdGx5SW5jbHVkZWQgPSB0cnVlKVxuQEVudGl0eVxuQFRhYmxlKG5hbWUgPSBcIkxvYWlUb2FcIilcbkBOYW1lZE5hdGl2ZVF1ZXJpZXMoe1xuICAgICAgICBATmFtZWROYXRpdmVRdWVyeShuYW1lID0gXCJMb2FpVG9hLmZpbmRBbGxcIixcbiAgICAgICAgICAgICAgICBxdWVyeSA9IFwic2VsZWN0ICogZnJvbSBsb2FpdG9hXCIsXG4gICAgICAgICAgICAgICAgcmVzdWx0Q2xhc3MgPSBMb2FpVG9hLmNsYXNzKSxcbiAgICAgICAgQE5hbWVkTmF0aXZlUXVlcnkobmFtZSA9IFwiTG9haVRvYS5maW5kQnlJRFwiLFxuICAgICAgICAgICAgICAgIHF1ZXJ5ID0gXCJzZWxlY3QgKiBmcm9tIGxvYWl0b2Egd2hlcmUgbWFfbG9haV90b2EgbGlrZSA6bWFMb2FpVG9hXCIsXG4gICAgICAgICAgICAgICAgcmVzdWx0Q2xhc3MgPSBMb2FpVG9hLmNsYXNzKVxufSlcbnB1YmxpYyBjbGFzcyBMb2FpVG9hIHtcbiAgICBASWRcbiAgICBAQ29sdW1uKG5hbWUgPSBcIm1hX2xvYWlfdG9hXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcInZhcmNoYXIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIEBFcXVhbHNBbmRIYXNoQ29kZS5JbmNsdWRlXG4gICAgcHJpdmF0ZSBTdHJpbmcgbWFMb2FpO1xuXG4gICAgQENvbHVtbihuYW1lID0gXCJ0ZW5fbG9haVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIFN0cmluZyB0ZW5Mb2FpO1xuXG4gICAgQE9uZVRvTWFueShtYXBwZWRCeSA9IFwibG9haVRvYVwiLCBjYXNjYWRlID0gQ2FzY2FkZVR5cGUuQUxMLCBvcnBoYW5SZW1vdmFsID0gdHJ1ZSlcbiAgICBAVG9TdHJpbmcuRXhjbHVkZVxuICAgIHByaXZhdGUgU2V0PFRvYVRhdT4gZGFuaFNhY2hUb2FUYXU7XG59XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvbW9kZWwvTGljaExhbVZpZWMuamF2YVxucGFja2FnZSBtb2RlbDtcblxuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuKjtcbmltcG9ydCBsb21ib2suRGF0YTtcbmltcG9ydCBsb21ib2suRXF1YWxzQW5kSGFzaENvZGU7XG5pbXBvcnQgbG9tYm9rLlRvU3RyaW5nO1xuXG5pbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7XG5cbi8qKlxuICogQEThu7Egw6FuOiBBcHBcbiAqIEBDbGFzczogTGljaExhbVZpZWNcbiAqIEBU4bqhbyB2w6BvIG5nw6B5OiAxNS8wMS8yMDI1XG4gKiBAVMOhYyBnaeG6ozogTmd1eWVuIEh1dSBTYW5nXG4gKi9cbkBEYXRhXG5ARW50aXR5XG5ARXF1YWxzQW5kSGFzaENvZGUob25seUV4cGxpY2l0bHlJbmNsdWRlZCA9IHRydWUpXG5AVGFibGUobmFtZSA9IFwibGljaGxhbXZpZWNcIilcbkBOYW1lZE5hdGl2ZVF1ZXJpZXMoe1xuICAgICAgICBATmFtZWROYXRpdmVRdWVyeShuYW1lID0gXCJMaWNoTGFtVmllYy5maW5kQnlNYUxpY2hMYW1WaWVjXCIsXG4gICAgICAgICAgICAgICAgcXVlcnkgPSBcInNlbGVjdCAqIGZyb20gbGljaGxhbXZpZWMgd2hlcmUgbWFfbGljaF9sYW1fdmllYyA9IDptYUxpY2hMYW1WaWVjXCIsXG4gICAgICAgICAgICAgICAgcmVzdWx0Q2xhc3MgPSBMaWNoTGFtVmllYy5jbGFzcyksXG4gICAgICAgIEBOYW1lZE5hdGl2ZVF1ZXJ5KG5hbWUgPSBcIkxpY2hMYW1WaWVjLmZpbmRCeU1hTlZcIixcbiAgICAgICAgICAgICAgICBxdWVyeSA9IFwic2VsZWN0ICogZnJvbSBsaWNobGFtdmllYyB3aGVyZSBtYV9udiA9IDptYU5WXCIsXG4gICAgICAgICAgICAgICAgcmVzdWx0Q2xhc3MgPSBMaWNoTGFtVmllYy5jbGFzcyksXG4gICAgICAgIEBOYW1lZE5hdGl2ZVF1ZXJ5KG5hbWUgPSBcIkxpY2hMYW1WaWVjLmZpbmRBbGxcIixcbiAgICAgICAgICAgICAgICBxdWVyeSA9IFwic2VsZWN0ICogZnJvbSBsaWNobGFtdmllY1wiLFxuICAgICAgICAgICAgICAgIHJlc3VsdENsYXNzID0gTGljaExhbVZpZWMuY2xhc3MpXG59KVxucHVibGljIGNsYXNzIExpY2hMYW1WaWVjIHtcbiAgICBASWRcbiAgICBARXF1YWxzQW5kSGFzaENvZGUuSW5jbHVkZVxuICAgIEBDb2x1bW4obmFtZSA9IFwibWFfbGljaF9sYW1fdmllY1wiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSwgdW5pcXVlID0gdHJ1ZSlcbiAgICBwcml2YXRlIFN0cmluZyBtYUxpY2hMYW1WaWVjOyAvLyBNw6MgbOG7i2NoIGzDoG0gdmnhu4djXG5cbiAgICBAQ29sdW1uKG5hbWUgPSBcImdpb19iYXRfZGF1XCIsIGNvbHVtbkRlZmluaXRpb24gPSBcImRhdGV0aW1lXCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBMb2NhbERhdGVUaW1lIGdpb0JhdERhdTsgLy8gR2nhu50gYuG6r3QgxJHhuqd1XG4gICAgQENvbHVtbihuYW1lID0gXCJnaW9fa2V0X3RodWNcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiZGF0ZXRpbWVcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIExvY2FsRGF0ZVRpbWUgZ2lvS2V0VGh1YzsgLy8gR2nhu50ga+G6v3QgdGjDumNcbiAgICBAQ29sdW1uKG5hbWUgPSBcInRyYW5nX3RoYWlcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBTdHJpbmcgdHJhbmdUaGFpOyAvLyBUcuG6oW5nIHRow6FpXG4gICAgQENvbHVtbihuYW1lID0gXCJ0ZW5fY2FcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBTdHJpbmcgdGVuQ2E7IC8vIFTDqm4gY2FcblxuICAgIC8vIE3hu5l0IGzhu4tjaCBsw6BtIHZp4buHYyBjaOG7iSB0aHXhu5ljIHbhu4EgbeG7mXQgbmjDom4gdmnDqm5cbiAgICBATWFueVRvT25lKGZldGNoID0gRmV0Y2hUeXBlLkxBWlkpXG4gICAgQEpvaW5Db2x1bW4obmFtZSA9IFwibWFfbnZcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBAVG9TdHJpbmcuRXhjbHVkZVxuICAgIHByaXZhdGUgTmhhblZpZW4gbmhhblZpZW47XG5cblxuXG59Li4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL21vZGVsL1R1eWVuVGF1LmphdmFcbnBhY2thZ2UgbW9kZWw7XG5cbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLio7XG5pbXBvcnQgbG9tYm9rLkRhdGE7XG5pbXBvcnQgbG9tYm9rLkVxdWFsc0FuZEhhc2hDb2RlO1xuaW1wb3J0IGxvbWJvay5Ub1N0cmluZztcblxuaW1wb3J0IGphdmEudXRpbC5TZXQ7XG5cbkBEYXRhXG5ARW50aXR5XG5AVGFibGUobmFtZSA9IFwidHV5ZW50YXVcIilcbkBFcXVhbHNBbmRIYXNoQ29kZShvbmx5RXhwbGljaXRseUluY2x1ZGVkID0gdHJ1ZSlcbkBOYW1lZE5hdGl2ZVF1ZXJpZXMoe1xuICAgICAgICBATmFtZWROYXRpdmVRdWVyeShuYW1lID0gXCJUdXllblRhdS5maW5kQnlHYURpR2FEZW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeSA9IFwic2VsZWN0ICogZnJvbSB0dXllbnRhdSB3aGVyZSBnYV9kaSA9IDpnYURpIGFuZCBnYV9kZW4gPSA6Z2FEZW5cIixcbiAgICAgICAgcmVzdWx0Q2xhc3MgPSBUdXllblRhdS5jbGFzcyksXG4gICAgICAgIEBOYW1lZE5hdGl2ZVF1ZXJ5KG5hbWUgPSBcIlR1eWVuVGF1LmZpbmRBbGxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeSA9IFwic2VsZWN0ICogZnJvbSB0dXllbnRhdVwiLFxuICAgICAgICByZXN1bHRDbGFzcyA9IFR1eWVuVGF1LmNsYXNzKVxufSlcbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9tb2RlbC9Mb2FpSG9hRG9uLmphdmFcbnBhY2thZ2UgbW9kZWw7XG5cblxuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuKjtcbmltcG9ydCBsb21ib2suRGF0YTtcbmltcG9ydCBsb21ib2suRXF1YWxzQW5kSGFzaENvZGU7XG5cbmltcG9ydCBqYXZhLnV0aWwuU2V0O1xuXG5ARGF0YVxuQEVxdWFsc0FuZEhhc2hDb2RlKG9ubHlFeHBsaWNpdGx5SW5jbHVkZWQgPSB0cnVlKVxuQEVudGl0eVxuQFRhYmxlKG5hbWUgPSBcImxvYWlob2Fkb25cIilcbnB1YmxpYyBjbGFzcyBMb2FpSG9hRG9uIHtcbiAgICBASWRcbiAgICBAQ29sdW1uKG5hbWUgPSBcIm1hX2xvYWlfaGRcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UsIHVuaXF1ZSA9IHRydWUpXG4gICAgQEVxdWFsc0FuZEhhc2hDb2RlLkluY2x1ZGVcbiAgICBwcml2YXRlIFN0cmluZyBtYUxvYWlIb2FEb247XG4gICAgQENvbHVtbihuYW1lID0gXCJ0ZW5fbG9haV9oZFwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJOVkFSQ0hBUigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBTdHJpbmcgdGVuTG9haUhvYURvbjtcblxuICAgIEBPbmVUb01hbnkobWFwcGVkQnkgPSBcImxvYWlIb2FEb25cIilcbiAgICBwcml2YXRlIFNldDxIb2FEb24+IGhvYURvbnM7XG5cblxuXG5cbn1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYXRhZmFrZXIvTGljaFRyaW5oVGF1REYuamF2YVxuLi4uXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgICAgICAgICAgTGljaFRyaW5oVGF1IGxpY2hUcmluaCA9IG5ldyBMaWNoVHJpbmhUYXUoKTtcbiAgICAgICAgICAgICAgICBsaWNoVHJpbmguc2V0TWFMaWNoKGdlbmVyYXRlUmFuZG9tTGljaFRyaW5oQ29kZShlbSkpO1xuICAgICAgICAgICAgICAgIGxpY2hUcmluaC5zZXRUcmFuZ1RoYWkoXCJIb+G6oXQgxJHhu5luZ1wiKTtcblxuICAgICAgICAgICAgICAgIC8vIEzhuqV5IGdp4budIG5n4bqrdSBuaGnDqm4gdHJvbmcgbmfDoHkgY2hvIHRyxrDhu5tjXG4gICAgICAgICAgICAgICAgTG9jYWxUaW1lIGdpb0RpID0gTG9jYWxUaW1lLm9mKGZha2VyLm51bWJlcigpLm51bWJlckJldHdlZW4oMCwgMjMpLCBmYWtlci5udW1iZXIoKS5udW1iZXJCZXR3ZWVuKDAsIDU5KSk7XG5cbiAgICAgICAgICAgICAgICAvLyBT4butIGThu6VuZyBuZ8OgeSDEkcaw4bujYyB0cnV54buBbiB2w6BvIHRoYXkgdsOsIHThuqFvIG5n4bqrdSBuaGnDqm5cbiAgICAgICAgICAgICAgICBsaWNoVHJpbmguc2V0R2lvRGkoZ2lvRGkpO1xuICAgICAgICAgICAgICAgIGxpY2hUcmluaC5zZXROZ2F5RGkoZGF5KTsgLy8gxJDhurd0IG5nw6B5IGPhu5EgxJHhu4tuaCBjaG8gbOG7i2NoIHRyw6xuaCB0w6B1XG5cbiAgICAgICAgICAgICAgICAvLyBM4bqleSBuZ+G6q3Ugbmhpw6puIG3hu5l0IFRvYVRhdSB04burIGRhbmggc8OhY2hcbiAgICAgICAgICAgICAgICBUb2FUYXUgcmFuZG9tVG9hVGF1ID0gbGlzdFRvYVRhdS5nZXQoVGhyZWFkTG9jYWxSYW5kb20uY3VycmVudCgpLm5leHRJbnQobGlzdFRvYVRhdS5zaXplKCkpKTtcbiAgICAgICAgICAgICAgICBIaWJlcm5hdGUuaW5pdGlhbGl6ZShyYW5kb21Ub2FUYXUuZ2V0VGF1KCkpOyAvLyBLaOG7n2kgdOG6oW8gVGF1IHRyxrDhu5tjIGtoaSBz4butIGThu6VuZ1xuICAgICAgICAgICAgICAgIGxpY2hUcmluaC5zZXRUYXUocmFuZG9tVG9hVGF1LmdldFRhdSgpKTtcbi4uLlxuXG4gICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IDE7IGkrKykgeyAvLyBU4bqhbyAyMCBs4buLY2ggdHLDrG5oIHTDoHVcbiAgICAgICAgICAgICAgICBMaWNoVHJpbmhUYXUgbGljaFRyaW5oID0gbmV3IExpY2hUcmluaFRhdSgpO1xuICAgICAgICAgICAgICAgIGxpY2hUcmluaC5zZXRNYUxpY2goZ2VuZXJhdGVSYW5kb21MaWNoVHJpbmhDb2RlKGVtKSk7XG4gICAgICAgICAgICAgICAgbGljaFRyaW5oLnNldFRyYW5nVGhhaShcIkhv4bqhdCDEkeG7mW5nXCIpO1xuXG4gICAgICAgICAgICAgICAgLy8gVOG6oW8gdGjhu51pIGdpYW4gdsOgIG5nw6B5IG5n4bqrdSBuaGnDqm5cbiAgICAgICAgICAgICAgICBMb2NhbFRpbWUgZ2lvRGkgPSBMb2NhbFRpbWUub2YoZmFrZXIubnVtYmVyKCkubnVtYmVyQmV0d2VlbigwLCAyMyksIGZha2VyLm51bWJlcigpLm51bWJlckJldHdlZW4oMCwgNTkpKTtcbiAgICAgICAgICAgICAgICBMb2NhbERhdGUgbmdheURpID0gTG9jYWxEYXRlLm5vdygpLnBsdXMoVGhyZWFkTG9jYWxSYW5kb20uY3VycmVudCgpLm5leHRJbnQoMSwgMzEpLCBDaHJvbm9Vbml0LkRBWVMpO1xuXG4gICAgICAgICAgICAgICAgbGljaFRyaW5oLnNldEdpb0RpKGdpb0RpKTtcbiAgICAgICAgICAgICAgICBsaWNoVHJpbmguc2V0TmdheURpKG5nYXlEaSk7XG5cbiAgICAgICAgICAgICAgICAvLyBM4bqleSBuZ+G6q3Ugbmhpw6puIG3hu5l0IFRvYVRhdSB04burIGRhbmggc8OhY2hcbiAgICAgICAgICAgICAgICBUb2FUYXUgcmFuZG9tVG9hVGF1ID0gbGlzdFRvYVRhdS5nZXQoVGhyZWFkTG9jYWxSYW5kb20uY3VycmVudCgpLm5leHRJbnQobGlzdFRvYVRhdS5zaXplKCkpKTtcbiAgICAgICAgICAgICAgICBIaWJlcm5hdGUuaW5pdGlhbGl6ZShyYW5kb21Ub2FUYXUuZ2V0VGF1KCkpOyAvLyBLaOG7n2kgdOG6oW8gVGF1IHRyxrDhu5tjIGtoaSBz4butIGThu6VuZ1xuICAgICAgICAgICAgICAgIGxpY2hUcmluaC5zZXRUYXUocmFuZG9tVG9hVGF1LmdldFRhdSgpKTtcblxuICAgICAgICAgICAgICAgIGVtLnBlcnNpc3QobGljaFRyaW5oKTtcblxuICAgICAgICAgICAgICAgIC8vIFThuqFvIHbDqSB0w6B1IGNobyBt4buXaSBUb2FUYXUgKDIwIGNo4buXIG5n4buTaSlcbiAgICAgICAgICAgICAgICBmb3IgKFRvYVRhdSB0b2FUYXUgOiBsaXN0VG9hVGF1KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaW50IGogPSAwOyBqIDwgdG9hVGF1LmdldFNvR2hlKCk7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVOG6oW8gY2jhu5cgbmfhu5NpXG4gICAgICAgICAgICAgICAgICAgICAgICBDaG9OZ29pIGNob05nb2kgPSBuZXcgQ2hvTmdvaSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hvTmdvaS5zZXRMb2FpQ2hvKGxpc3RMb2FpQ2hvLmdldChUaHJlYWRMb2NhbFJhbmRvbS5jdXJyZW50KCkubmV4dEludChsaXN0TG9haUNoby5zaXplKCkpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaG9OZ29pLnNldFRvYVRhdSh0b2FUYXUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQaMOhdCBzaW5oIHTDqm4gY2jhu5cgbmfhu5NpICgxQSwgMUIsIC4uLiwgMTREKVxuICAgICAgICAgICAgICAgICAgICAgICAgaW50IHJvdyA9IGogLyA0ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXIgY29sdW1uID0gKGNoYXIpICgnQScgKyBqICUgNCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcgdGVuQ04gPSByb3cgKyBcIlwiICsgY29sdW1uO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVOG6oW8gbcOjIGNo4buXIG5n4buTaVxuICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nIG1hQ2hvID0gXCJDTlwiICsgdGVuQ04gKyB0b2FUYXUuZ2V0TWFUb2EoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNob05nb2kuc2V0TWFDaG8obWFDaG8pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjaG9OZ29pLnNldFRlbkNobyh0ZW5DTik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNob05nb2kuc2V0VGluaFRyYW5nKGZha2VyLmJvb2woKS5ib29sKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hvTmdvaS5zZXRHaWFUaWVuKGZha2VyLm51bWJlcigpLnJhbmRvbURvdWJsZSgyLCA1MCwgNTAwKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVtLnBlcnNpc3QoY2hvTmdvaSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFThuqFvIHbDqSB0w6B1IHTGsMahbmcg4bupbmdcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBWZVRhdSB2ZVRhdSA9IG5ldyBWZVRhdSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVUYXUuc2V0TWFWZShnZW5lcmF0ZVRpY2tldENvZGUodG9hVGF1LmdldFRhdSgpLmdldE1hVGF1KCksIGxpY2hUcmluaC5nZXRNYUxpY2goKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVUYXUuc2V0Q2hvTmdvaShjaG9OZ29pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlVGF1LnNldExpY2hUcmluaFRhdShsaWNoVHJpbmgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVUYXUuc2V0VGVuS2hhY2hIYW5nKGZha2VyLm5hbWUoKS5mdWxsTmFtZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlVGF1LnNldEdpYXlUbyhmYWtlci5pZE51bWJlcigpLnZhbGlkKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVUYXUuc2V0TmdheURpKG5nYXlEaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZVRhdS5zZXREb2lUdW9uZyhmYWtlci5vcHRpb25zKCkub3B0aW9uKFwiTmfGsOG7nWkgbOG7m25cIiwgXCJUcuG6uyBlbVwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZVRhdS5zZXRHaWFWZShmYWtlci5udW1iZXIoKS5yYW5kb21Eb3VibGUoMiwgMTAwLCAxMDAwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZVRhdS5zZXRUcmFuZ1RoYWkoZmFrZXIub3B0aW9ucygpLm9wdGlvbihcIsSQw6MgdHLhuqNcIiwgXCLEkMOjIHRoYW5oIHRvw6FuXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFZlVGF1IGV4aXN0aW5nVmVUYXUgPSBlbS5maW5kKFZlVGF1LmNsYXNzLCB2ZVRhdS5nZXRNYVZlKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nVmVUYXUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE7hur91IG3DoyB2w6kgxJHDoyB04buTbiB04bqhaSwgdOG6oW8gbOG6oWkgbcOjIHbDqVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlVGF1LnNldE1hVmUoZ2VuZXJhdGVUaWNrZXRDb2RlKHRvYVRhdS5nZXRUYXUoKS5nZXRNYVRhdSgpLCBsaWNoVHJpbmguZ2V0TWFMaWNoKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVtLnBlcnNpc3QodmVUYXUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9yZXNvdXJjZXMvTUVUQS1JTkYvcGVyc2lzdGVuY2UueG1sXG48P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiIHN0YW5kYWxvbmU9XCJ5ZXNcIj8+XG48cGVyc2lzdGVuY2UgeG1sbnM9XCJodHRwczovL2pha2FydGEuZWUveG1sL25zL3BlcnNpc3RlbmNlXCJcbiAgICAgICAgICAgICB4bWxuczp4c2k9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZVwiXG4gICAgICAgICAgICAgeHNpOnNjaGVtYUxvY2F0aW9uPVwiaHR0cHM6Ly9qYWthcnRhLmVlL3htbC9ucy9wZXJzaXN0ZW5jZSBodHRwczovL2pha2FydGEuZWUveG1sL25zL3BlcnNpc3RlbmNlL3BlcnNpc3RlbmNlXzNfMC54c2RcIlxuICAgICAgICAgICAgIHZlcnNpb249XCIzLjBcIj5cbiAgICA8cGVyc2lzdGVuY2UtdW5pdCBuYW1lPVwibWFyaWFkYlwiPlxuICAgICAgICA8Y2xhc3M+bW9kZWwuVG9hVGF1PC9jbGFzcz5cbiAgICAgICAgPGNsYXNzPm1vZGVsLkxvYWlUb2E8L2NsYXNzPlxuICAgICAgICA8Y2xhc3M+bW9kZWwuVHV5ZW5UYXU8L2NsYXNzPlxuICAgICAgICA8Y2xhc3M+bW9kZWwuVGF1PC9jbGFzcz5cbiAgICAgICAgPGNsYXNzPm1vZGVsLk5oYW5WaWVuPC9jbGFzcz5cbiAgICAgICAgPGNsYXNzPm1vZGVsLlRhaUtob2FuPC9jbGFzcz5cbiAgICAgICAgPGNsYXNzPm1vZGVsLkxpY2hMYW1WaWVjPC9jbGFzcz5cbiAgICAgICAgPGNsYXNzPm1vZGVsLlZlVGF1PC9jbGFzcz5cbiAgICAgICAgPGNsYXNzPm1vZGVsLktoYWNoSGFuZzwvY2xhc3M+XG4gICAgICAgIDxjbGFzcz5tb2RlbC5Ib2FEb248L2NsYXNzPlxuICAgICAgICA8Y2xhc3M+bW9kZWwuS2h1eWVuTWFpPC9jbGFzcz5cbiAgICAgICAgPGNsYXNzPm1vZGVsLkxvYWlDaG88L2NsYXNzPlxuICAgICAgICA8Y2xhc3M+bW9kZWwuQ2hvTmdvaTwvY2xhc3M+XG4gICAgICAgIDxjbGFzcz5tb2RlbC5Mb2FpSG9hRG9uPC9jbGFzcz5cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9tb2RlbC9DaG9OZ29pLmphdmFcbnBhY2thZ2UgbW9kZWw7XG5cbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLio7XG5pbXBvcnQgbG9tYm9rLkRhdGE7XG5pbXBvcnQgbG9tYm9rLkVxdWFsc0FuZEhhc2hDb2RlO1xuaW1wb3J0IGxvbWJvay5Ub1N0cmluZztcblxuQEVudGl0eVxuQERhdGFcbkBFcXVhbHNBbmRIYXNoQ29kZShvbmx5RXhwbGljaXRseUluY2x1ZGVkID0gdHJ1ZSlcbkBUYWJsZShuYW1lID0gXCJjaG9fbmdvaVwiKVxucHVibGljIGNsYXNzIENob05nb2kge1xuICAgIEBJZFxuICAgIEBFcXVhbHNBbmRIYXNoQ29kZS5JbmNsdWRlXG4gICAgQENvbHVtbihuYW1lID0gXCJtYV9jaG9cIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiVkFSQ0hBUigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UsIHVuaXF1ZSA9IHRydWUpXG4gICAgcHJpdmF0ZSBTdHJpbmcgbWFDaG87XG4gICAgQENvbHVtbihuYW1lID0gXCJ0ZW5fY2hvXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcIk5WQVJDSEFSKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIFN0cmluZyB0ZW5DaG87XG4gICAgQENvbHVtbihuYW1lID0gXCJ0aW5oX3RyYW5nXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcIkJJVFwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIHByaXZhdGUgYm9vbGVhbiB0aW5oVHJhbmc7XG4gICAgQENvbHVtbihuYW1lID0gXCJnaWFfdGllblwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJGTE9BVFwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIHByaXZhdGUgZG91YmxlIGdpYVRpZW47XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGF0YWZha2VyL1RhdURGLmphdmFcbi4uLlxuXG4gICAgICAgICAgICAvLyBU4bqhbyAxMCBk4buvIGxp4buHdSBt4bqrdSBjaG8gVGF1XG4gICAgICAgICAgICBmb3IgKGludCBpID0gMTsgaSA8PSAxMDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgVGF1IHRhdSA9IG5ldyBUYXUoKTtcbiAgICAgICAgICAgICAgICB0YXUuc2V0TWFUYXUoXCJUXCIgKyBpKTsgLy8gTcOjIHTDoHUgxJHhu4tuaCBk4bqhbmcgVDEsIFQyLCAuLi5cbiAgICAgICAgICAgICAgICB0YXUuc2V0VGVuVGF1KFwiVMOgdSBcIiArIGZha2VyLm5hbWUoKS5sYXN0TmFtZSgpKTsgLy8gVMOqbiB0w6B1IHbhu5tpIGjhu40gbmfhuqt1IG5oacOqblxuICAgICAgICAgICAgICAgIHRhdS5zZXRTb1RvYShmYWtlci5udW1iZXIoKS5udW1iZXJCZXR3ZWVuKDUsIDIwKSk7IC8vIFPhu5EgdG9hIHThu6sgNSDEkeG6v24gMjBcblxuICAgICAgICAgICAgICAgIC8vIExpw6puIGvhur90IHbhu5tpIG3hu5l0IFR1eWVuVGF1IG5n4bqrdSBuaGnDqm5cbiAgICAgICAgICAgICAgICBUdXllblRhdSByYW5kb21UdXllblRhdSA9IHR1eWVuVGF1TGlzdC5nZXQoZmFrZXIubnVtYmVyKCkubnVtYmVyQmV0d2VlbigwLCB0dXllblRhdUxpc3Quc2l6ZSgpKSk7XG4gICAgICAgICAgICAgICAgdGF1LnNldFR1eWVuVGF1KHJhbmRvbVR1eWVuVGF1KTtcblxuICAgICAgICAgICAgICAgIC8vIEzGsHUgxJHhu5FpIHTGsOG7o25nIFRhdSB2w6BvIGPGoSBz4bufIGThu68gbGnhu4d1XG4gICAgICAgICAgICAgICAgZW0ucGVyc2lzdCh0YXUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5jb21taXQoKTtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkThu68gbGnhu4d1IG3huqt1IGNobyBUYXUgxJHDoyDEkcaw4bujYyB04bqhbyB0aMOgbmggY8O0bmcuXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgaWYgKHRyYW5zYWN0aW9uLmlzQWN0aXZlKCkpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5yb2xsYmFjaygpO1xuICAgICAgICAgICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL21vZGVsL1RhaUtob2FuLmphdmFcbi4uLlxuXG5ARGF0YVxuQEVudGl0eVxuQEVxdWFsc0FuZEhhc2hDb2RlKG9ubHlFeHBsaWNpdGx5SW5jbHVkZWQgPSB0cnVlKVxuQFRhYmxlKG5hbWUgPSBcInRhaWtob2FuXCIpXG5wdWJsaWMgY2xhc3MgVGFpS2hvYW4ge1xuICAgIEBJZFxuICAgIEBFcXVhbHNBbmRIYXNoQ29kZS5JbmNsdWRlXG4gICAgQENvbHVtbihuYW1lID0gXCJtYV9udlwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSwgdW5pcXVlID0gdHJ1ZSlcbiAgICBwcml2YXRlIFN0cmluZyBtYU5WOyAvLyBNw6MgdMOgaSBraG/huqNuXG5cbiAgICBAQ29sdW1uKG5hbWUgPSBcInBhc3N3b3JkXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcInZhcmNoYXIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIHByaXZhdGUgU3RyaW5nIHBhc3NXb3JkOyAvLyBN4bqtdCBraOG6qXVcblxuICAgIC8vIE3hu5l0IHTDoGkga2hv4bqjbiBjaOG7iSB0aHXhu5ljIHbhu4EgbeG7mXQgbmjDom4gdmnDqm5cbi8vICAgIEBPbmVUb09uZVxuLy8gICAgQEpvaW5Db2x1bW4obmFtZSA9IFwibWFfbnZcIiwgcmVmZXJlbmNlZENvbHVtbk5hbWUgPSBcIm1hX252XCIsIHVuaXF1ZSA9IHRydWUpXG4vLyAgICBwcml2YXRlIE5oYW5WaWVuIG5oYW5WaWVuO1xuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL21vZGVsL0toYWNoSGFuZy5qYXZhXG4uLi5cbiAgICBwcml2YXRlIGRvdWJsZSBkaWVtVGljaEx1eTtcbiAgICBAQ29sdW1uKG5hbWUgPSBcIm5nYXlfc2luaFwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJkYXRlXCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBMb2NhbERhdGUgbmdheVNpbmg7XG4gICAgQENvbHVtbihuYW1lID0gXCJuZ2F5X3RoYW1fZ2lhXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcImRhdGVcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIExvY2FsRGF0ZSBuZ2F5VGhhbWdHaWE7XG4gICAgQENvbHVtbihuYW1lID0gXCJoYW5nX3RoYW5oX3ZpZW5cIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBTdHJpbmcgaGFuZ1RoYW5oVmllbjtcblxuICAgIEBNYW55VG9PbmVcbiAgICBASm9pbkNvbHVtbihuYW1lID0gXCJtYV9sb2FpX2toYWNoX2hhbmdcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIExvYWlLaGFjaEhhbmcgbG9haUtoYWNoSGFuZztcbiAgICBAVG9TdHJpbmcuRXhjbHVkZVxuICAgIEBPbmVUb01hbnkobWFwcGVkQnkgPSBcImtoYWNoSGFuZ1wiKVxuICAgIHByaXZhdGUgU2V0PEhvYURvbj4gaG9hRG9ucztcbn1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9MaWNoVHJpbmhUYXVEQU9JbXBsLmphdmFcbi4uLlxuXG5wdWJsaWMgY2xhc3MgTGljaFRyaW5oVGF1REFPSW1wbCB7XG4gICAgcHVibGljIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRBbGxMaXN0KCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICBMaXN0PExpY2hUcmluaFRhdT4gbGlzdCA9IG51bGw7XG4gICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsaXN0ID0uLi4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI3ODllNDAxNy01YTYyLTRiZmUtYWM2Ni1lNjE3MzJkY2UyZTM7dG9vbHVfdnJ0eF8wMVNyem5GOW1CdHBib2JQanN0Mzd6dk4iOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9MaWNoVHJpbmhUYXVEQU8uamF2YVxucGFja2FnZSBkYW8uaW1wbDtcblxucHVibGljIGludGVyZmFjZSBMaWNoVHJpbmhUYXVEQU8ge1xufVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9MaWNoVHJpbmhUYXVEQU8uamF2YVxucGFja2FnZSBkYW8uaW1wbDtcblxucHVibGljIGludGVyZmFjZSBMaWNoVHJpbmhUYXVEQU8ge1xufVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1RhdURBTy5qYXZhXG4uLi5cblxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIFRhdURBTyB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgcHVibGljIExpc3Q8VGF1PiBnZXRBbGxMaXN0VCgpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICBMaXN0PFRhdT4gbGlzdCA9IG51bGw7XG4gICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgdCBmcm9tIFRhdSB0XCIsIFRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgVGF1IGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVGF1LmNsYXNzLCBpZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gc2F2ZShUYXUgdCkge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgICAgICAgICAgZW0ucGVyc2lzdCh0KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vVGF1REFPLmphdmFcbi4uLlxuXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgVGF1REFPIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG5cbiAgICBwdWJsaWMgTGlzdDxUYXU+IGdldEFsbExpc3RUKCkge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIExpc3Q8VGF1PiBsaXN0ID0gbnVsbDtcbiAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShcInNlbGVjdCB0IGZyb20gVGF1IHRcIiwgVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBUYXUgZ2V0QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICByZXR1cm4gZW0uZmluZChUYXUuY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiBzYXZlKFRhdSB0KSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5wZXJzaXN0KHQpO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfWNhdGNoKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xpY2hUcmluaFRhdURBT0ltcGwuamF2YVxuLi4uXG5cbnB1YmxpYyBjbGFzcyBMaWNoVHJpbmhUYXVEQU9JbXBsIHtcbiAgICBwdWJsaWMgTGlzdDxMaWNoVHJpbmhUYXU+IGdldEFsbExpc3QoKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIExpc3Q8TGljaFRyaW5oVGF1PiBsaXN0ID0gbnVsbDtcbiAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShcInNlbGVjdCBsdHQgZnJvbSBMaWNoVHJpbmhUYXUgbHR0XCIsIExpY2hUcmluaFRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggTGljaFRyaW5oVGF1XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBMaWNoVHJpbmhUYXUgZ2V0QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoTGljaFRyaW5oVGF1LmNsYXNzLCBpZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gc2F2ZShMaWNoVHJpbmhUYXUgdCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIGVtLnBlcnNpc3QodCk7XG4gICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBib29sZWFuIHVwZGF0ZShMaWNoVHJpbmhUYXUgdCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIGVtLm1lcmdlKHQpO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiBkZWxldGUoU3RyaW5nIGlkKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgICAgICAgICAgTGljaFRyaW5oVGF1IHQgPSBlbS5maW5kKExpY2hUcmluaFRhdS5jbGFzcywgaWQpO1xuICAgICAgICAgICAgZW0ucmVtb3ZlKHQpO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvVGF1REFPSW1wbC5qYXZhXG4uLi5cblxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIFRhdURBT0ltcGwge1xuICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbTtcblxuICAgIHB1YmxpYyBMaXN0PFRhdT4gZ2V0QWxsTGlzdFQoKSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgTGlzdDxUYXU+IGxpc3QgPSBudWxsO1xuICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IHQgZnJvbSBUYXUgdFwiLCBUYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgcHVibGljIFRhdSBnZXRCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHJldHVybiBlbS5maW5kKFRhdS5jbGFzcywgaWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBib29sZWFuIHNhdmUoVGF1IHQpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIGVtLnBlcnNpc3QodCk7XG4gICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9Y2F0Y2goRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvVHV5ZW5UYXVEQU8uamF2YVxuLi4uXG5cblxuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIFR1eWVuVGF1REFPIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG4gICAgcHVibGljIExpc3Q8VHV5ZW5UYXU+IGdldExpc3RUdXllblRhdUJ5R2FEaUdhRGVuKFN0cmluZyBnYURpLCBTdHJpbmcgZ2FEZW4pIHtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQnlHYURpR2FEZW5cIiwgVHV5ZW5UYXUuY2xhc3MpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImdhRGlcIiwgZ2FEaSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZ2FEZW5cIixnYURlbilcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBMaXN0PFR1eWVuVGF1PiBnZXRMaXN0VHV5ZW5UYXUoKXtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQWxsXCIsIFR1eWVuVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIFR1eWVuVGF1IGdldFR1eWVuVGF1QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVHV5ZW5UYXUuY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgIGJvb2xlYW4gc2F2ZShUdXllblRhdSB0dXllblRhdSl7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5wZXJzaXN0KHR1eWVuVGF1KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaChFeGNlcHRpb24gZSl7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9UdXllblRhdURBTy5qYXZhXG4uLi5cblxuXG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgVHV5ZW5UYXVEQU8ge1xuICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbTtcbiAgICBwdWJsaWMgTGlzdDxUdXllblRhdT4gZ2V0TGlzdFR1eWVuVGF1QnlHYURpR2FEZW4oU3RyaW5nIGdhRGksIFN0cmluZyBnYURlbikge1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlTmFtZWRRdWVyeShcIlR1eWVuVGF1LmZpbmRCeUdhRGlHYURlblwiLCBUdXllblRhdS5jbGFzcylcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZ2FEaVwiLCBnYURpKVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJnYURlblwiLGdhRGVuKVxuICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIExpc3Q8VHV5ZW5UYXU+IGdldExpc3RUdXllblRhdSgpe1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlTmFtZWRRdWVyeShcIlR1eWVuVGF1LmZpbmRBbGxcIiwgVHV5ZW5UYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgVHV5ZW5UYXUgZ2V0VHV5ZW5UYXVCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICByZXR1cm4gZW0uZmluZChUdXllblRhdS5jbGFzcywgaWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyAgYm9vbGVhbiBzYXZlKFR1eWVuVGF1IHR1eWVuVGF1KXtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIGVtLnBlcnNpc3QodHV5ZW5UYXUpO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfWNhdGNoKEV4Y2VwdGlvbiBlKXtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL0xvYWlUb2FUYXVEQU8uamF2YVxucGFja2FnZSBkYW87XG5cbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7XG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlUcmFuc2FjdGlvbjtcbmltcG9ydCBsb21ib2suQWxsQXJnc0NvbnN0cnVjdG9yO1xuaW1wb3J0IG1vZGVsLkxvYWlUb2E7XG5cbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBMb2FpVG9hVGF1REFPIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG5cbiAgICBwdWJsaWMgTGlzdDxMb2FpVG9hPiBnZXRMaXN0TG9haVRvYSgpe1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlTmFtZWRRdWVyeShcIkxvYWlUb2EuZmluZEFsbFwiLCBMb2FpVG9hLmNsYXNzKVxuICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIExvYWlUb2EgZ2V0TG9haVRvYUJ5SWQoU3RyaW5nIGlkKXtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJMb2FpVG9hLmZpbmRCeUlEXCIsIExvYWlUb2EuY2xhc3MpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcIm1hTG9haVRvYVwiLCBpZClcbiAgICAgICAgICAgICAgICAuZ2V0U2luZ2xlUmVzdWx0KCk7XG4gICAgfVxuICAgIHB1YmxpYyBib29sZWFuIHNhdmUoTG9haVRvYSBsb2FpVG9hKXtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgIHRyeSB7XG4gICAgICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgICAgIGVtLnBlcnNpc3QobG9haVRvYSk7XG4gICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICB9Y2F0Y2ggKEV4Y2VwdGlvbiBlKXtcbiAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICB9XG4gICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9Mb2FpVG9hVGF1REFPLmphdmFcbnBhY2thZ2UgZGFvO1xuXG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyO1xuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5VHJhbnNhY3Rpb247XG5pbXBvcnQgbG9tYm9rLkFsbEFyZ3NDb25zdHJ1Y3RvcjtcbmltcG9ydCBtb2RlbC5Mb2FpVG9hO1xuXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgTG9haVRvYVRhdURBTyB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgcHVibGljIExpc3Q8TG9haVRvYT4gZ2V0TGlzdExvYWlUb2EoKXtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJMb2FpVG9hLmZpbmRBbGxcIiwgTG9haVRvYS5jbGFzcylcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2FpVG9hIGdldExvYWlUb2FCeUlkKFN0cmluZyBpZCl7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiTG9haVRvYS5maW5kQnlJRFwiLCBMb2FpVG9hLmNsYXNzKVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJtYUxvYWlUb2FcIiwgaWQpXG4gICAgICAgICAgICAgICAgLmdldFNpbmdsZVJlc3VsdCgpO1xuICAgIH1cbiAgICBwdWJsaWMgYm9vbGVhbiBzYXZlKExvYWlUb2EgbG9haVRvYSl7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICB0cnkge1xuICAgICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICAgICBlbS5wZXJzaXN0KGxvYWlUb2EpO1xuICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgfWNhdGNoIChFeGNlcHRpb24gZSl7XG4gICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgfVxuICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvVHV5ZW5UYXVEQU9JbXBsLmphdmFcbi4uLlxuXG5cbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBUdXllblRhdURBT0ltcGwge1xuICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbTtcbiAgICBwdWJsaWMgTGlzdDxUdXllblRhdT4gZ2V0TGlzdFR1eWVuVGF1QnlHYURpR2FEZW4oU3RyaW5nIGdhRGksIFN0cmluZyBnYURlbikge1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlTmFtZWRRdWVyeShcIlR1eWVuVGF1LmZpbmRCeUdhRGlHYURlblwiLCBUdXllblRhdS5jbGFzcylcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZ2FEaVwiLCBnYURpKVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJnYURlblwiLGdhRGVuKVxuICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIExpc3Q8VHV5ZW5UYXU+IGdldExpc3RUdXllblRhdSgpe1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlTmFtZWRRdWVyeShcIlR1eWVuVGF1LmZpbmRBbGxcIiwgVHV5ZW5UYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgVHV5ZW5UYXUgZ2V0VHV5ZW5UYXVCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICByZXR1cm4gZW0uZmluZChUdXllblRhdS5jbGFzcywgaWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyAgYm9vbGVhbiBzYXZlKFR1eWVuVGF1IHR1eWVuVGF1KXtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIGVtLnBlcnNpc3QodHV5ZW5UYXUpO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfWNhdGNoKEV4Y2VwdGlvbiBlKXtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTG9haVRvYVRhdURBT0ltcGwuamF2YVxucGFja2FnZSBkYW8uaW1wbDtcblxuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjtcbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eVRyYW5zYWN0aW9uO1xuaW1wb3J0IGxvbWJvay5BbGxBcmdzQ29uc3RydWN0b3I7XG5pbXBvcnQgbW9kZWwuTG9haVRvYTtcblxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIExvYWlUb2FUYXVEQU9JbXBsIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG5cbiAgICBwdWJsaWMgTGlzdDxMb2FpVG9hPiBnZXRMaXN0TG9haVRvYSgpe1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlTmFtZWRRdWVyeShcIkxvYWlUb2EuZmluZEFsbFwiLCBMb2FpVG9hLmNsYXNzKVxuICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIExvYWlUb2EgZ2V0TG9haVRvYUJ5SWQoU3RyaW5nIGlkKXtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJMb2FpVG9hLmZpbmRCeUlEXCIsIExvYWlUb2EuY2xhc3MpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcIm1hTG9haVRvYVwiLCBpZClcbiAgICAgICAgICAgICAgICAuZ2V0U2luZ2xlUmVzdWx0KCk7XG4gICAgfVxuICAgIHB1YmxpYyBib29sZWFuIHNhdmUoTG9haVRvYSBsb2FpVG9hKXtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgIHRyeSB7XG4gICAgICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgICAgIGVtLnBlcnNpc3QobG9haVRvYSk7XG4gICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICB9Y2F0Y2ggKEV4Y2VwdGlvbiBlKXtcbiAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICB9XG4gICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9DaG9OZ29pREFPLmphdmFcbi4uLlxuXG5wdWJsaWMgY2xhc3MgQ2hvTmdvaURBTyB7XG4gICAgcHVibGljIHN0YXRpYyBMaXN0PENob05nb2k+IGdldEFsbExpc3QoKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIikuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIExpc3Q8Q2hvTmdvaT4gbGlzdCA9IG51bGw7XG4gICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgY24gZnJvbSBDaG9OZ29pIGNuXCIsIENob05nb2kuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSBs4bqleSBkYW5oIHPDoWNoIExvYWlDaG9cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgcHVibGljIENob05nb2kgZ2V0QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoQ2hvTmdvaS5jbGFzcywgaWQpO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9Mb2FpQ2hvREFPLmphdmFcbi4uLlxuXG5wdWJsaWMgY2xhc3MgTG9haUNob0RBTyB7XG4gICAgcHVibGljIExpc3Q8TG9haUNobz4gZ2V0QWxsTGlzdCgpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgTGlzdDxMb2FpQ2hvPiBsaXN0ID0gbnVsbDtcbiAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShcInNlbGVjdCBsYyBmcm9tIExvYWlDaG8gbGNcIiwgTG9haUNoby5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggTG9haUNob1wiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgTG9haUNobyBnZXRCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICByZXR1cm4gZW0uZmluZChMb2FpQ2hvLmNsYXNzLCBpZCk7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9DaG9OZ29pREFPLmphdmFcbi4uLlxuXG5wdWJsaWMgY2xhc3MgQ2hvTmdvaURBTyB7XG4gICAgcHVibGljIHN0YXRpYyBMaXN0PENob05nb2k+IGdldEFsbExpc3QoKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIikuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIExpc3Q8Q2hvTmdvaT4gbGlzdCA9IG51bGw7XG4gICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgY24gZnJvbSBDaG9OZ29pIGNuXCIsIENob05nb2kuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSBs4bqleSBkYW5oIHPDoWNoIExvYWlDaG9cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgcHVibGljIENob05nb2kgZ2V0QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoQ2hvTmdvaS5jbGFzcywgaWQpO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9WZVRhdURBTy5qYXZhXG4uLi5cblxucHVibGljIGNsYXNzIFZlVGF1REFPIHtcbiAgICBwdWJsaWMgTGlzdDxWZVRhdT4gZ2V0QWxsTGlzdCgpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgTGlzdDxWZVRhdT4gbGlzdCA9IG51bGw7XG4gICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgdnQgZnJvbSBWZVRhdSB2dFwiLCBWZVRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggVmVUYXVcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgcHVibGljIFZlVGF1IGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHJldHVybiBlbS5maW5kKFZlVGF1LmNsYXNzLCBpZCk7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9Mb2FpQ2hvREFPLmphdmFcbi4uLlxuXG5wdWJsaWMgY2xhc3MgTG9haUNob0RBTyB7XG4gICAgcHVibGljIExpc3Q8TG9haUNobz4gZ2V0QWxsTGlzdCgpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgTGlzdDxMb2FpQ2hvPiBsaXN0ID0gbnVsbDtcbiAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShcInNlbGVjdCBsYyBmcm9tIExvYWlDaG8gbGNcIiwgTG9haUNoby5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggTG9haUNob1wiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgTG9haUNobyBnZXRCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICByZXR1cm4gZW0uZmluZChMb2FpQ2hvLmNsYXNzLCBpZCk7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xpY2hMYW1WaWVjREFPLmphdmFcbi4uLlxuXG4vKipcbiAqIEBE4buxIMOhbjogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmdcbiAqIEBDbGFzczogTGljaExhbVZpZWNEQU9cbiAqIEBU4bqhbyB2w6BvIG5nw6B5OiAxOC8wMS8yMDI1XG4gKiBAVMOhYyBnaeG6ozogTmd1eWVuIEh1dSBTYW5nXG4gKi9cbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBMaWNoTGFtVmllY0RBTyB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgcHVibGljIExpY2hMYW1WaWVjIGdldExpY2hMYW1WaWVjQnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoTGljaExhbVZpZWMuY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiBzYXZlKExpY2hMYW1WaWVjIGxsdikge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgICAgICAgICAgZW0ucGVyc2lzdChsbHYpO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiB1cGRhdGUoTGljaExhbVZpZWMgbGx2KSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5tZXJnZShsbHYpO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvQ2hvTmdvaURBT0ltcGwuamF2YVxuLi4uXG5cbnB1YmxpYyBjbGFzcyBDaG9OZ29pREFPSW1wbCB7XG4gICAgcHVibGljIHN0YXRpYyBMaXN0PENob05nb2k+IGdldEFsbExpc3QoKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIikuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIExpc3Q8Q2hvTmdvaT4gbGlzdCA9IG51bGw7XG4gICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgY24gZnJvbSBDaG9OZ29pIGNuXCIsIENob05nb2kuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSBs4bqleSBkYW5oIHPDoWNoIExvYWlDaG9cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgcHVibGljIENob05nb2kgZ2V0QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoQ2hvTmdvaS5jbGFzcywgaWQpO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9Mb2FpQ2hvREFPSW1wbC5qYXZhXG4uLi5cblxucHVibGljIGNsYXNzIExvYWlDaG9EQU9JbXBsIHtcbiAgICBwdWJsaWMgTGlzdDxMb2FpQ2hvPiBnZXRBbGxMaXN0KCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICBMaXN0PExvYWlDaG8+IGxpc3QgPSBudWxsO1xuICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IGxjIGZyb20gTG9haUNobyBsY1wiLCBMb2FpQ2hvLmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4buXaSBraGkgbOG6pXkgZGFuaCBzw6FjaCBMb2FpQ2hvXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2FpQ2hvIGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHJldHVybiBlbS5maW5kKExvYWlDaG8uY2xhc3MsIGlkKTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL1ZlVGF1REFPLmphdmFcbi4uLlxuXG5wdWJsaWMgY2xhc3MgVmVUYXVEQU8ge1xuICAgIHB1YmxpYyBMaXN0PFZlVGF1PiBnZXRBbGxMaXN0KCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICBMaXN0PFZlVGF1PiBsaXN0ID0gbnVsbDtcbiAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhLi4uIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiN2Q1NDk5NTgtN2QxNi00YjdiLWJkYmUtNDk4YjBjY2JhNTExO3Rvb2x1X3ZydHhfMDE2M2VFZ2lTYm5qMkZIVjRyWldOM3JwIjp7InBoYXNlIjo2LCJyZXN1bHQiOnsidGV4dCI6IlJhbiBpbnRvIFVua25vd24gZXJyb3Igd2hpbGUgdHJ5aW5nIHRvIHJlYWQgUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9MaWNoVHJpbmhUYXVEQU9JbXBsLmphdmEiLCJpc0Vycm9yIjp0cnVlLCJyZXF1ZXN0SWQiOiIifX0sImYzYTk0NzQwLTRkYTAtNGFlZS05OGQyLTQxYWVlNDhkMzgzMzt0b29sdV92cnR4XzAxQlA3U1hxMUVFUWlHM3YzWE1FMXhqcyI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIEQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPSW1wbC5qYXZhOlxuICAgICAxXHRwYWNrYWdlIGRhby5pbXBsO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGRhby5MaWNoVHJpbmhUYXVEQU87XG4gICAgIDRcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7XG4gICAgIDVcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eVRyYW5zYWN0aW9uO1xuICAgICA2XHRpbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5QZXJzaXN0ZW5jZTtcbiAgICAgN1x0aW1wb3J0IG1vZGVsLkxpY2hUcmluaFRhdTtcbiAgICAgOFx0XG4gICAgIDlcdGltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbiAgICAxMFx0XG4gICAgMTFcdHB1YmxpYyBjbGFzcyBMaWNoVHJpbmhUYXVEQU9JbXBsIGltcGxlbWVudHMgTGljaFRyaW5oVGF1REFPIHtcbiAgICAxMlx0ICAgIHB1YmxpYyBMaXN0PExpY2hUcmluaFRhdT4gZ2V0QWxsTGlzdCgpIHtcbiAgICAxM1x0ICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgMTRcdCAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgIDE1XHQgICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAxNlx0ICAgICAgICBMaXN0PExpY2hUcmluaFRhdT4gbGlzdCA9IG51bGw7XG4gICAgMTdcdCAgICAgICAgdHguYmVnaW4oKTtcbiAgICAxOFx0ICAgICAgICB0cnkge1xuICAgIDE5XHQgICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgbHR0IGZyb20gTGljaFRyaW5oVGF1IGx0dFwiLCBMaWNoVHJpbmhUYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAyMFx0ICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgMjFcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAyMlx0ICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAyM1x0ICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggTGljaFRyaW5oVGF1XCIpO1xuICAgIDI0XHQgICAgICAgIH1cbiAgICAyNVx0ICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAyNlx0ICAgIH1cbiAgICAyN1x0XG4gICAgMjhcdCAgICBwdWJsaWMgTGljaFRyaW5oVGF1IGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgMjlcdCAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgIDMwXHQgICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAzMVx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgMzJcdCAgICAgICAgcmV0dXJuIGVtLmZpbmQoTGljaFRyaW5oVGF1LmNsYXNzLCBpZCk7XG4gICAgMzNcdCAgICB9XG4gICAgMzRcdFxuICAgIDM1XHQgICAgcHVibGljIGJvb2xlYW4gc2F2ZShMaWNoVHJpbmhUYXUgdCkge1xuICAgIDM2XHQgICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAzN1x0ICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgMzhcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgIDM5XHQgICAgICAgIHRyeSB7XG4gICAgNDBcdCAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgNDFcdCAgICAgICAgICAgIGVtLnBlcnNpc3QodCk7XG4gICAgNDJcdCAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgIDQzXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICA0NFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDQ1XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDQ2XHQgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgIDQ3XHQgICAgICAgIH1cbiAgICA0OFx0ICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgNDlcdCAgICB9XG4gICAgNTBcdFxuICAgIDUxXHQgICAgcHVibGljIGJvb2xlYW4gdXBkYXRlKExpY2hUcmluaFRhdSB0KSB7XG4gICAgNTJcdCAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgIDUzXHQgICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICA1NFx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgNTVcdCAgICAgICAgdHJ5IHtcbiAgICA1Nlx0ICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICA1N1x0ICAgICAgICAgICAgZW0ubWVyZ2UodCk7XG4gICAgNThcdCAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgIDU5XHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICA2MFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDYxXHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDYyXHQgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgIDYzXHQgICAgICAgIH1cbiAgICA2NFx0ICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgNjVcdCAgICB9XG4gICAgNjZcdFxuICAgIDY3XHQgICAgQE92ZXJyaWRlXG4gICAgNjhcdCAgICBwdWJsaWMgYm9vbGVhbiBkZWxldGUoTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdSkge1xuICAgIDY5XHQgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICA3MFx0ICAgIH1cbiAgICA3MVx0XG4gICAgNzJcdCAgICBwdWJsaWMgYm9vbGVhbiBkZWxldGUoU3RyaW5nIGlkKSB7XG4gICAgNzNcdCAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgIDc0XHQgICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICA3NVx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgNzZcdCAgICAgICAgdHJ5IHtcbiAgICA3N1x0ICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICA3OFx0ICAgICAgICAgICAgTGljaFRyaW5oVGF1IHQgPSBlbS5maW5kKExpY2hUcmluaFRhdS5jbGFzcywgaWQpO1xuICAgIDc5XHQgICAgICAgICAgICBlbS5yZW1vdmUodCk7XG4gICAgODBcdCAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgIDgxXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICA4Mlx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDgzXHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDg0XHQgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgIDg1XHQgICAgICAgIH1cbiAgICA4Nlx0ICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgODdcdCAgICB9XG4gICAgODhcdH1cbiAgICA4OVx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA4OVxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMTE4ZmNiZTUtM2FlMy00ZTNhLWI1MmQtZTA0OGViOWMwYzQyO3Rvb2x1X3ZydHhfMDE3UG1DeVNHSDZYdjd4a1F3NDJ1YlhyIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vTGljaFRyaW5oVGF1REFPLmphdmE6XG4gICAgIDFcdHBhY2thZ2UgZGFvO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IG1vZGVsLkxpY2hUcmluaFRhdTtcbiAgICAgNFx0XG4gICAgIDVcdGltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbiAgICAgNlx0XG4gICAgIDdcdHB1YmxpYyBpbnRlcmZhY2UgTGljaFRyaW5oVGF1REFPIHtcbiAgICAgOFx0ICAgIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRBbGxMaXN0KCk7XG4gICAgIDlcdCAgICBMaWNoVHJpbmhUYXUgZ2V0QnlJZChTdHJpbmcgaWQpO1xuICAgIDEwXHQgICAgYm9vbGVhbiBzYXZlKExpY2hUcmluaFRhdSBsaWNoVHJpbmhUYXUpO1xuICAgIDExXHQgICAgYm9vbGVhbiB1cGRhdGUoTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdSk7XG4gICAgMTJcdCAgICBib29sZWFuIGRlbGV0ZShMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1KTtcbiAgICAxM1x0fVxuICAgIDE0XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDE0XG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJlOWVmMTRhYS0wNjg3LTQxODktYmU0ZC04NThkYjg3MzJmNGQ7dG9vbHVfdnJ0eF8wMVVCWTJkeE1iTEU1WjhVa0M0ODIyZXAiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xpY2hUcmluaFRhdURBT0ltcGwuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDYzXHQgICAgICAgIH1cbiAgICA2NFx0ICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgNjVcdCAgICB9XG4gICAgNjZcdFxuICAgIDY3XHQgICAgQE92ZXJyaWRlXG4gICAgNjhcdCAgICBwdWJsaWMgYm9vbGVhbiBkZWxldGUoTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdSkge1xuICAgIDY5XHQgICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICA3MFx0ICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgNzFcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgIDcyXHQgICAgICAgIHRyeSB7XG4gICAgNzNcdCAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgNzRcdCAgICAgICAgICAgIGlmICghZW0uY29udGFpbnMobGljaFRyaW5oVGF1KSkge1xuICAgIDc1XHQgICAgICAgICAgICAgICAgbGljaFRyaW5oVGF1ID0gZW0ubWVyZ2UobGljaFRyaW5oVGF1KTtcbiAgICA3Nlx0ICAgICAgICAgICAgfVxuICAgIDc3XHQgICAgICAgICAgICBlbS5yZW1vdmUobGljaFRyaW5oVGF1KTtcbiAgICA3OFx0ICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgNzlcdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIDgwXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgODFcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgODJcdCAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgODNcdCAgICAgICAgfVxuICAgIDg0XHQgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICA4NVx0ICAgIH1cbiAgICA4Nlx0XG4gICAgODdcdCAgICBwdWJsaWMgYm9vbGVhbiBkZWxldGUoU3RyaW5nIGlkKSB7XG4gICAgODhcdCAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgIDg5XHQgICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMTcxMTM4ODMtYjcxMS00MjMyLTgzNTItZGQ1N2RhMTc4Y2Y1O3Rvb2x1XzAxOWcxVFduRmgzN0RVdkhtUjdFVE54eSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1R1eWVuVGF1REFPSW1wbC5qYXZhXG4uLi5cblxuXG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgVHV5ZW5UYXVEQU9JbXBsIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG4gICAgcHVibGljIExpc3Q8VHV5ZW5UYXU+IGdldExpc3RUdXllblRhdUJ5R2FEaUdhRGVuKFN0cmluZyBnYURpLCBTdHJpbmcgZ2FEZW4pIHtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQnlHYURpR2FEZW5cIiwgVHV5ZW5UYXUuY2xhc3MpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImdhRGlcIiwgZ2FEaSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZ2FEZW5cIixnYURlbilcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBMaXN0PFR1eWVuVGF1PiBnZXRMaXN0VHV5ZW5UYXUoKXtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQWxsXCIsIFR1eWVuVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIFR1eWVuVGF1IGdldFR1eWVuVGF1QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVHV5ZW5UYXUuY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgIGJvb2xlYW4gc2F2ZShUdXllblRhdSB0dXllblRhdSl7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5wZXJzaXN0KHR1eWVuVGF1KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaChFeGNlcHRpb24gZSl7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1R1eWVuVGF1REFPLmphdmFcbi4uLlxuXG5cbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBUdXllblRhdURBTyB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuICAgIHB1YmxpYyBMaXN0PFR1eWVuVGF1PiBnZXRMaXN0VHV5ZW5UYXVCeUdhRGlHYURlbihTdHJpbmcgZ2FEaSwgU3RyaW5nIGdhRGVuKSB7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiVHV5ZW5UYXUuZmluZEJ5R2FEaUdhRGVuXCIsIFR1eWVuVGF1LmNsYXNzKVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJnYURpXCIsIGdhRGkpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImdhRGVuXCIsZ2FEZW4pXG4gICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgTGlzdDxUdXllblRhdT4gZ2V0TGlzdFR1eWVuVGF1KCl7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiVHV5ZW5UYXUuZmluZEFsbFwiLCBUdXllblRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBUdXllblRhdSBnZXRUdXllblRhdUJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIHJldHVybiBlbS5maW5kKFR1eWVuVGF1LmNsYXNzLCBpZCk7XG4gICAgfVxuXG4gICAgcHVibGljICBib29sZWFuIHNhdmUoVHV5ZW5UYXUgdHV5ZW5UYXUpe1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgICAgICAgICAgZW0ucGVyc2lzdCh0dXllblRhdSk7XG4gICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9Y2F0Y2goRXhjZXB0aW9uIGUpe1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vVHV5ZW5UYXVEQU8uamF2YVxuLi4uXG5cblxuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIFR1eWVuVGF1REFPIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG4gICAgcHVibGljIExpc3Q8VHV5ZW5UYXU+IGdldExpc3RUdXllblRhdUJ5R2FEaUdhRGVuKFN0cmluZyBnYURpLCBTdHJpbmcgZ2FEZW4pIHtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQnlHYURpR2FEZW5cIiwgVHV5ZW5UYXUuY2xhc3MpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImdhRGlcIiwgZ2FEaSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZ2FEZW5cIixnYURlbilcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBMaXN0PFR1eWVuVGF1PiBnZXRMaXN0VHV5ZW5UYXUoKXtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQWxsXCIsIFR1eWVuVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIFR1eWVuVGF1IGdldFR1eWVuVGF1QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVHV5ZW5UYXUuY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgIGJvb2xlYW4gc2F2ZShUdXllblRhdSB0dXllblRhdSl7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBlbS5wZXJzaXN0KHR1eWVuVGF1KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaChFeGNlcHRpb24gZSl7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1RvYVRhdURBT0ltcGwuamF2YVxuLi4uXG5cbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBUb2FUYXVEQU9JbXBsIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW0gO1xuXG5cbiAgICBwdWJsaWMgTGlzdDxUb2FUYXU+IGxpc3RUb2FUYXVCeVNvR2hlKGludCBmb3JtLCBpbnQgdG8pe1xuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcInNlbGVjdCB0dCBmcm9tIFRvYVRhdSB0dCBcIitcbiAgICAgICAgICAgICAgICBcIndoZXJlIHNvR2hlIGJldHdlZW4gOmZvcm0gYW5kIDp0b1wiO1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlUXVlcnkocXVlcnkpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImZvcm1cIiwgZm9ybSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwidG9cIiwgdG8pXG4gICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgTGlzdDxUb2FUYXU+IGdldGxpc3RUb2FUYXUoKSB7XG4gICAgICAgIExpc3Q8VG9hVGF1PiBsaXN0VG9hVGF1ID0gbnVsbDtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICAgICAgbGlzdFRvYVRhdSA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IHR0IGZyb20gVG9hVGF1IHR0XCIsIFRvYVRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4bqleSBkYW5oIHPDoWNoIFRvYVRhdSB0aMOgbmggY8O0bmdcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG6pXkgZGFuaCBzw6FjaCBUb2FUYXUgdGjhuqV0IGLhuqFpXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0VG9hVGF1O1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9Ub2FUYXVEQU8uamF2YVxuLi4uXG5cbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBUb2FUYXVEQU8ge1xuICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbSA7XG5cblxuICAgIHB1YmxpYyBMaXN0PFRvYVRhdT4gbGlzdFRvYVRhdUJ5U29HaGUoaW50IGZvcm0sIGludCB0byl7XG4gICAgICAgIFN0cmluZyBxdWVyeSA9IFwic2VsZWN0IHR0IGZyb20gVG9hVGF1IHR0IFwiK1xuICAgICAgICAgICAgICAgIFwid2hlcmUgc29HaGUgYmV0d2VlbiA6Zm9ybSBhbmQgOnRvXCI7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVRdWVyeShxdWVyeSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZm9ybVwiLCBmb3JtKVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJ0b1wiLCB0bylcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBMaXN0PFRvYVRhdT4gZ2V0bGlzdFRvYVRhdSgpIHtcbiAgICAgICAgTGlzdDxUb2FUYXU+IGxpc3RUb2FUYXUgPSBudWxsO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgICAgICBsaXN0VG9hVGF1ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgdHQgZnJvbSBUb2FUYXUgdHRcIiwgVG9hVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhuqV5IGRhbmggc8OhY2ggVG9hVGF1IHRow6BuaCBjw7RuZ1wiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4bqleSBkYW5oIHPDoWNoIFRvYVRhdSB0aOG6pXQgYuG6oWlcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3RUb2FUYXU7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9Ub2FUYXVEQU8uamF2YVxuLi4uXG5cbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBUb2FUYXVEQU8ge1xuICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbSA7XG5cblxuICAgIHB1YmxpYyBMaXN0PFRvYVRhdT4gbGlzdFRvYVRhdUJ5U29HaGUoaW50IGZvcm0sIGludCB0byl7XG4gICAgICAgIFN0cmluZyBxdWVyeSA9IFwic2VsZWN0IHR0IGZyb20gVG9hVGF1IHR0IFwiK1xuICAgICAgICAgICAgICAgIFwid2hlcmUgc29HaGUgYmV0d2VlbiA6Zm9ybSBhbmQgOnRvXCI7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVRdWVyeShxdWVyeSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZm9ybVwiLCBmb3JtKVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJ0b1wiLCB0bylcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBMaXN0PFRvYVRhdT4gZ2V0bGlzdFRvYVRhdSgpIHtcbiAgICAgICAgTGlzdDxUb2FUYXU+IGxpc3RUb2FUYXUgPSBudWxsO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgICAgICBsaXN0VG9hVGF1ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgdHQgZnJvbSBUb2FUYXUgdHRcIiwgVG9hVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhuqV5IGRhbmggc8OhY2ggVG9hVGF1IHRow6BuaCBjw7RuZ1wiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4bqleSBkYW5oIHPDoWNoIFRvYVRhdSB0aOG6pXQgYuG6oWlcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3RUb2FUYXU7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xpY2hUcmluaFRhdURBT0ltcGwuamF2YVxuLi4uXG5cbnB1YmxpYyBjbGFzcyBMaWNoVHJpbmhUYXVEQU9JbXBsIHtcbiAgICBwdWJsaWMgTGlzdDxMaWNoVHJpbmhUYXU+IGdldEFsbExpc3QoKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIExpc3Q8TGljaFRyaW5oVGF1PiBsaXN0ID0gbnVsbDtcbiAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShcInNlbGVjdCBsdHQgZnJvbSBMaWNoVHJpbmhUYXUgbHR0XCIsIExpY2hUcmluaFRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggTGljaFRyaW5oVGF1XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBMaWNoVHJpbmhUYXUgZ2V0QnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoTGljaFRyaW5oVGF1LmNsYXNzLCBpZCk7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1ZlVGF1REFPSW1wbC5qYXZhXG4uLi5cblxucHVibGljIGNsYXNzIFZlVGF1REFPSW1wbCB7XG4gICAgcHVibGljIExpc3Q8VmVUYXU+IGdldEFsbExpc3QoKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIExpc3Q8VmVUYXU+IGxpc3QgPSBudWxsO1xuICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IHZ0IGZyb20gVmVUYXUgdnRcIiwgVmVUYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSBs4bqleSBkYW5oIHPDoWNoIFZlVGF1XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBWZVRhdSBnZXRCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICByZXR1cm4gZW0uZmluZChWZVRhdS5jbGFzcywgaWQpO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9UYXVEQU9JbXBsLmphdmFcbi4uLlxuXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgVGF1REFPSW1wbCB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgcHVibGljIExpc3Q8VGF1PiBnZXRBbGxMaXN0VCgpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICBMaXN0PFRhdT4gbGlzdCA9IG51bGw7XG4gICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgdCBmcm9tIFRhdSB0XCIsIFRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgVGF1IGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVGF1LmNsYXNzLCBpZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gc2F2ZShUYXUgdCkge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgICAgICAgICAgZW0ucGVyc2lzdCh0KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9WZVRhdURBTy5qYXZhXG4uLi5cblxucHVibGljIGNsYXNzIFZlVGF1REFPIHtcbiAgICBwdWJsaWMgTGlzdDxWZVRhdT4gZ2V0QWxsTGlzdCgpIHtcbiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgTGlzdDxWZVRhdT4gbGlzdCA9IG51bGw7XG4gICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgdnQgZnJvbSBWZVRhdSB2dFwiLCBWZVRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggVmVUYXVcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgcHVibGljIFZlVGF1IGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHJldHVybiBlbS5maW5kKFZlVGF1LmNsYXNzLCBpZCk7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL21vZGVsL1R1eWVuVGF1LmphdmFcbnBhY2thZ2UgbW9kZWw7XG5cbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLio7XG5pbXBvcnQgbG9tYm9rLkRhdGE7XG5pbXBvcnQgbG9tYm9rLkVxdWFsc0FuZEhhc2hDb2RlO1xuaW1wb3J0IGxvbWJvay5Ub1N0cmluZztcblxuaW1wb3J0IGphdmEudXRpbC5TZXQ7XG5cbkBEYXRhXG5ARW50aXR5XG5AVGFibGUobmFtZSA9IFwidHV5ZW50YXVcIilcbkBFcXVhbHNBbmRIYXNoQ29kZShvbmx5RXhwbGljaXRseUluY2x1ZGVkID0gdHJ1ZSlcbkBOYW1lZE5hdGl2ZVF1ZXJpZXMoe1xuICAgICAgICBATmFtZWROYXRpdmVRdWVyeShuYW1lID0gXCJUdXllblRhdS5maW5kQnlHYURpR2FEZW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeSA9IFwic2VsZWN0ICogZnJvbSB0dXllbnRhdSB3aGVyZSBnYV9kaSA9IDpnYURpIGFuZCBnYV9kZW4gPSA6Z2FEZW5cIixcbiAgICAgICAgcmVzdWx0Q2xhc3MgPSBUdXllblRhdS5jbGFzcyksXG4gICAgICAgIEBOYW1lZE5hdGl2ZVF1ZXJ5KG5hbWUgPSBcIlR1eWVuVGF1LmZpbmRBbGxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeSA9IFwic2VsZWN0ICogZnJvbSB0dXllbnRhdVwiLFxuICAgICAgICByZXN1bHRDbGFzcyA9IFR1eWVuVGF1LmNsYXNzKVxufSlcbnB1YmxpYyBjbGFzcyBUdXllblRhdSB7XG4gICAgQElkXG4gICAgQENvbHVtbihuYW1lID0gXCJtYV90dXllblwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIix1bmlxdWUgPSB0cnVlLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIEBFcXVhbHNBbmRIYXNoQ29kZS5JbmNsdWRlXG4gICAgcHJpdmF0ZSBTdHJpbmcgbWFUdXllbjtcbiAgICBAQ29sdW1uKG5hbWUgPSBcInRlbl90dXllblwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSApXG4gICAgQEVxdWFsc0FuZEhhc2hDb2RlLkV4Y2x1ZGVcbiAgICBwcml2YXRlIFN0cmluZyB0ZW5UdXllbjtcbiAgICBAQ29sdW1uKG5hbWUgPSBcImdhX2RpXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcInZhcmNoYXIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlIClcbiAgICBARXF1YWxzQW5kSGFzaENvZGUuRXhjbHVkZVxuICAgIHByaXZhdGUgU3RyaW5nIGdhRGk7XG4gICAgQENvbHVtbihuYW1lID0gXCJnYV9kZW5cIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UgKVxuICAgIEBFcXVhbHNBbmRIYXNoQ29kZS5FeGNsdWRlXG4gICAgcHJpdmF0ZSBTdHJpbmcgZ2FEZW47XG4gICAgQENvbHVtbihuYW1lID0gXCJkaWFfZGllbV9kaVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSApXG4gICAgQEVxdWFsc0FuZEhhc2hDb2RlLkV4Y2x1ZGVcbiAgICBwcml2YXRlIFN0cmluZyBkaWFEaWVtRGk7XG4gICAgQENvbHVtbihuYW1lID0gXCJkaWFfZGllbV9kZW5cIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UgKVxuICAgIEBFcXVhbHNBbmRIYXNoQ29kZS5FeGNsdWRlXG4gICAgcHJpdmF0ZSBTdHJpbmcgZGlhRGllbURlbjtcbiAgICBAT25lVG9NYW55KG1hcHBlZEJ5ID0gXCJ0dXllblRhdVwiLCBjYXNjYWRlID0gQ2FzY2FkZVR5cGUuQUxMLCBvcnBoYW5SZW1vdmFsID0gdHJ1ZSlcbiAgICBAVG9TdHJpbmcuRXhjbHVkZVxuICAgIHByaXZhdGUgU2V0PFRhdT4gZGFuaFNhY2hUYXU7XG59XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvbW9kZWwvVGF1LmphdmFcbi4uLlxuXG5ARGF0YVxuQEVudGl0eVxuQEVxdWFsc0FuZEhhc2hDb2RlKG9ubHlFeHBsaWNpdGx5SW5jbHVkZWQgPSB0cnVlKVxuQFRhYmxlKG5hbWUgPSBcInRhdVwiKVxucHVibGljIGNsYXNzIFRhdSB7XG4gICAgQElkXG4gICAgQEVxdWFsc0FuZEhhc2hDb2RlLkluY2x1ZGVcbiAgICBAQ29sdW1uKG5hbWUgPSBcIm1hX3RhdVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSwgdW5pcXVlID0gdHJ1ZSlcbiAgICBwcml2YXRlIFN0cmluZyBtYVRhdTsgLy8gTcOjIHTDoHVcbiAgICBAQ29sdW1uKG5hbWUgPSBcInRlbl90YXVcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgQEVxdWFsc0FuZEhhc2hDb2RlLkV4Y2x1ZGVcbiAgICBwcml2YXRlIFN0cmluZyB0ZW5UYXU7XG4gICAgQENvbHVtbihuYW1lID0gXCJzb190b2FcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBARXF1YWxzQW5kSGFzaENvZGUuRXhjbHVkZS8vIFTDqm4gdMOgdVxuICAgIHByaXZhdGUgaW50IHNvVG9hO1xuICAgIC8vIFPhu5EgdG9hXG4gICAgQE1hbnlUb09uZShmZXRjaCA9IEZldGNoVHlwZS5MQVpZKVxuICAgIEBUb1N0cmluZy5FeGNsdWRlXG4gICAgQEpvaW5Db2x1bW4obmFtZSA9IFwibWFfdHV5ZW5cIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIFR1eWVuVGF1IHR1eWVuVGF1OyAvLyDEkOG7kWkgdMaw4bujbmcgVHV5ZW5UYXVcblxuICAgIEBPbmVUb01hbnkobWFwcGVkQnkgPSBcInRhdVwiLCBjYXNjYWRlID0gQ2FzY2FkZVR5cGUuQUxMLCBvcnBoYW5SZW1vdmFsID0gdHJ1ZSlcbiAgICBAVG9TdHJpbmcuRXhjbHVkZVxuICAgIHByaXZhdGUgU2V0PFRvYVRhdT4gZGFuaFNhY2hUb2FUYXU7XG5cbiAgICBAT25lVG9NYW55KG1hcHBlZEJ5ID0gXCJ0YXVcIiwgY2FzY2FkZSA9IENhc2NhZGVUeXBlLkFMTCwgb3JwaGFuUmVtb3ZhbCA9IHRydWUpXG4gICAgQFRvU3RyaW5nLkV4Y2x1ZGVcbiAgICBwcml2YXRlIFNldDxMaWNoVHJpbmhUYXU+IExpY2hUcmluaFRhdTtcbn1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9tb2RlbC9Ub2FUYXUuamF2YVxuLi4uXG5cbnB1YmxpYyBjbGFzcyBUb2FUYXUge1xuXG4gICAgQElkXG4gICAgQEVxdWFsc0FuZEhhc2hDb2RlLkluY2x1ZGVcbiAgICBAQ29sdW1uKG5hbWUgPSBcIm1hX3RvYVwiLGNvbHVtbkRlZmluaXRpb24gPSBcInZhcmNoYXIoMjU1KVwiLG51bGxhYmxlID0gZmFsc2UsIHVuaXF1ZSA9IHRydWUpXG4gICAgcHJpdmF0ZSBTdHJpbmcgbWFUb2E7XG5cbiAgICBAQ29sdW1uKG5hbWUgPSBcInRlbl90b2FcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBTdHJpbmcgdGVuVG9hO1xuXG4gICAgQENvbHVtbihuYW1lID0gXCJzb19naGVcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIGludCBzb0doZTtcblxuICAgIEBDb2x1bW4obmFtZSA9IFwidGh1X3R1XCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBpbnQgdGh1VHU7XG5cbiAgICBAT25lVG9NYW55KG1hcHBlZEJ5ID0gXCJ0b2FUYXVcIiwgY2FzY2FkZSA9IENhc2NhZGVUeXBlLkFMTCwgb3JwaGFuUmVtb3ZhbCA9IHRydWUpXG4gICAgQFRvU3RyaW5nLkV4Y2x1ZGVcbiAgICBwcml2YXRlIFNldDxDaG9OZ29pPiBkYW5oU2FjaENob05nb2k7XG5cbiAgICBATWFueVRvT25lKGZldGNoID0gRmV0Y2hUeXBlLkxBWlkpXG4gICAgQEpvaW5Db2x1bW4obmFtZSA9IFwibWFfbG9haV90b2FcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBAVG9TdHJpbmcuRXhjbHVkZVxuICAgIHByaXZhdGUgTG9haVRvYSBsb2FpVG9hO1xuXG4gICAgQE1hbnlUb09uZShmZXRjaCA9IEZldGNoVHlwZS5MQVpZKVxuICAgIEBKb2luQ29sdW1uKG5hbWUgPSBcIm1hX3RhdVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIHByaXZhdGUgVGF1IHRhdTtcbn1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9tb2RlbC9MaWNoVHJpbmhUYXUuamF2YVxuLi4uXG5cbkBFbnRpdHlcbkBEYXRhXG5ARXF1YWxzQW5kSGFzaENvZGUob25seUV4cGxpY2l0bHlJbmNsdWRlZCA9IHRydWUpXG5AVGFibGUobmFtZSA9IFwibGljaHRyaW5odGF1XCIpXG5wdWJsaWMgY2xhc3MgTGljaFRyaW5oVGF1IHtcbiAgICBASWRcbiAgICBAQ29sdW1uKG5hbWUgPSBcIm1hX2xpY2hcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiVkFSQ0hBUigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UsdW5pcXVlID0gdHJ1ZSlcbiAgICBwcml2YXRlICBTdHJpbmcgbWFMaWNoO1xuICAgIEBDb2x1bW4obmFtZSA9IFwiZ2lvX2RpXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcIlRJTUVcIixudWxsYWJsZSA9IGZhbHNlKVxuICAgIHByaXZhdGUgTG9jYWxUaW1lIGdpb0RpO1xuICAgIEBDb2x1bW4obmFtZSA9IFwibmdheV9kaVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJEQVRFXCIsbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIExvY2FsRGF0ZSBuZ2F5RGk7XG4gICAgQENvbHVtbihuYW1lID0gXCJ0cmFuZ190aGFpXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcIk5WQVJDSEFSKDUwKVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIHByaXZhdGUgU3RyaW5nIHRyYW5nVGhhaTtcblxuICAgIEBNYW55VG9PbmVcbiAgICBASm9pbkNvbHVtbihuYW1lID0gXCJ0YXVfbWFfdGF1XCIsIHJlZmVyZW5jZWRDb2x1bW5OYW1lID0gXCJtYV90YXVcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIFRhdSB0YXU7XG5cbiAgICBAT25lVG9NYW55KG1hcHBlZEJ5ID0gXCJsaWNoVHJpbmhUYXVcIilcbiAgICBAVG9TdHJpbmcuRXhjbHVkZVxuICAgIHByaXZhdGUgU2V0PFZlVGF1PiB2ZV90YXVzO1xufVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL21vZGVsL1ZlVGF1LmphdmFcbi4uLlxuXG5ARW50aXR5XG5ARGF0YVxuQEVxdWFsc0FuZEhhc2hDb2RlKG9ubHlFeHBsaWNpdGx5SW5jbHVkZWQgPSB0cnVlKVxuQFRhYmxlKG5hbWUgPSBcInZldGF1XCIpXG5wdWJsaWMgY2xhc3MgVmVUYXUge1xuICAgIEBJZFxuICAgIEBDb2x1bW4obmFtZSA9IFwibWFfdmVcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiVkFSQ0hBUigyNTUpXCIsIHVuaXF1ZSA9IHRydWUsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgcHJpdmF0ZSBTdHJpbmcgbWFWZTtcbiAgICBAQ29sdW1uKG5hbWUgPSBcInRlbl9raGFjaF9oYW5nXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcIlZBUkNIQVIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlKVxuXG4gICAgcHJpdmF0ZSBTdHJpbmcgdGVuS2hhY2hIYW5nO1xuICAgIEBDb2x1bW4obmFtZSA9IFwiZ2lheV90b1wiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJWQVJDSEFSKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSlcblxuICAgIHByaXZhdGUgU3RyaW5nIGdpYXlUbztcbiAgICBAQ29sdW1uKG5hbWUgPSBcIm5nYXlfZGlcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiREFURVwiLG51bGxhYmxlID0gZmFsc2UpXG5cbiAgICBwcml2YXRlIExvY2FsRGF0ZSBuZ2F5RGk7XG4gICAgQENvbHVtbihuYW1lID0gXCJkb2lfdHVvbmdcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiVkFSQ0hBUigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UpXG5cbiAgICBwcml2YXRlIFN0cmluZyBkb2lUdW9uZztcbiAgICBAQ29sdW1uKG5hbWUgPSBcImdpYV92ZVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJGTE9BVFwiLCBudWxsYWJsZSA9IGZhbHNlKVxuXG4gICAgcHJpdmF0ZSBkb3VibGUgZ2lhVmU7XG4gICAgQENvbHVtbihuYW1lID0gXCJ0cmFuZ190aGFpXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcIlZBUkNIQVIoMjU1KVwiLG51bGxhYmxlID0gZmFsc2UpXG5cbiAgICBwcml2YXRlIFN0cmluZyB0cmFuZ1RoYWk7XG5cbiAgICBATWFueVRvT25lXG4gICAgQEpvaW5Db2x1bW4obmFtZSA9IFwibGljaF90cmluaF90YXVfbWFfbGljaFwiLCByZWZlcmVuY2VkQ29sdW1uTmFtZSA9IFwibWFfbGljaFwiKVxuICAgIHByaXZhdGUgTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdTtcblxuICAgIEBNYW55VG9PbmVcbiAgICBASm9pbkNvbHVtbihuYW1lID0gXCJraHV5ZW5fbWFpX21hX2ttXCIsIHJlZmVyZW5jZWRDb2x1bW5OYW1lID0gXCJtYV9rbVwiKVxuICAgIHByaXZhdGUgS2h1eWVuTWFpIGtodXllbk1haTtcblxuICAgIEBPbmVUb09uZVxuICAgIEBKb2luQ29sdW1uKG5hbWUgPSBcImNob19uZ29pX21hX2Nob1wiLHJlZmVyZW5jZWRDb2x1bW5OYW1lID0gXCJtYV9jaG9cIilcbiAgICAgcHJpdmF0ZSBDaG9OZ29pIGNob05nb2k7XG5cbi8vICAgIEBNYW55VG9NYW55KG1hcHBlZEJ5ID0gXCJ2ZVRhdXNcIilcbi8vICAgIHByaXZhdGUgU2V0PEhvYURvbj4gaG9hRG9ucztcblxuICAgIC8vIE3hu5FpIHF1YW4gaOG7hyB24bubaSBDaGlUaWV0SG9hRG9uXG4gICAgQE9uZVRvTWFueShtYXBwZWRCeSA9IFwidmVUYXVcIiwgZmV0Y2ggPSBGZXRjaFR5cGUuTEFaWSlcbiAgICBwcml2YXRlIFNldDxDaGlUaWV0SG9hRG9uPiBjaGlUaWV0SG9hRG9ucztcblxufVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9LaGFjaEhhbmdEQU8uamF2YVxuLi4uXG5cbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBLaGFjaEhhbmdEQU8ge1xuXG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgLy8gTOG6pXkgZGFuaCBzw6FjaCBraMOhY2ggaMOgbmcgdGhlbyB0w6puXG4gICAgcHVibGljIExpc3Q8S2hhY2hIYW5nPiBsaXN0S2hhY2hIYW5nc0J5TmFtZShTdHJpbmcgbmFtZSkge1xuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcInNlbGVjdCBraCBmcm9tIEtoYWNoSGFuZyBraCB3aGVyZSBraC50ZW5LaGFjaEhhbmcgbGlrZSA6bmFtZVwiO1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlUXVlcnkocXVlcnksIEtoYWNoSGFuZy5jbGFzcylcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwibmFtZVwiLCBcIiVcIiArIG5hbWUgKyBcIiVcIilcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIC8vIEzhuqV5IGRhbmggc8OhY2gga2jDoWNoIGjDoG5nIGPDsyDEkWnhu4NtIHTDrWNoIGzFqXkgdHJvbmcga2hv4bqjbmdcbiAgICBwdWJsaWMgTGlzdDxLaGFjaEhhbmc+IGxpc3RLaGFjaEhhbmdzQnlQb2ludHMoZG91YmxlIGZyb20sIGRvdWJsZSB0bykge1xuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcInNlbGVjdCBraCBmcm9tIEtoYWNoSGFuZyBraCB3aGVyZSBraC5kaWVtVGljaEx1eSBiZXR3ZWVuIDpmcm9tIGFuZCA6dG9cIjtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5LCBLaGFjaEhhbmcuY2xhc3MpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImZyb21cIiwgZnJvbSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwidG9cIiwgdG8pXG4gICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL1NjcmlwdC9zY3JpcHQuc3FsXG5zZWxlY3QgKiBmcm9tIHRvYXRhdTtcbnNlbGVjdCAqIGZyb20gdGF1O1xuc2VsZWN0ICogZnJvbSB0dXllbnRhdTtcbnNlbGVjdCAqIGZyb20gbG9haXRvYTtcbiNuYXRpdmUgcXVlcnlcbnNlbGVjdCAqIGZyb20gdG9hdGF1IHdoZXJlIHNvX2doZSBiZXR3ZWVuIDc1IGFuZCA4MDtcbnNlbGVjdCAqIGZyb20gdHV5ZW50YXUgd2hlcmUgZ2FfZGkgPSBcIk1heW1lIENlbnRlcnNcIiBhbmQgZ2FfZGVuID0gXCJIZWxsZXIgQ2xpZmZcIjtcbnNlbGVjdCAqIGZyb20gdGFpa2hvYW47XG5zZWxlY3QgKiBmcm9tIG5oYW52aWVuO1xuc2VsZWN0ICogZnJvbSBsaWNobGFtdmllYzsuLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvbW9kZWwvTG9haVRvYS5qYXZhXG5wYWNrYWdlIG1vZGVsO1xuXG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS4qO1xuaW1wb3J0IGxvbWJvay5EYXRhO1xuaW1wb3J0IGxvbWJvay5FcXVhbHNBbmRIYXNoQ29kZTtcbmltcG9ydCBsb21ib2suVG9TdHJpbmc7XG5cbmltcG9ydCBqYXZhLnV0aWwuU2V0O1xuXG5ARGF0YVxuQEVxdWFsc0FuZEhhc2hDb2RlKG9ubHlFeHBsaWNpdGx5SW5jbHVkZWQgPSB0cnVlKVxuQEVudGl0eVxuQFRhYmxlKG5hbWUgPSBcIkxvYWlUb2FcIilcbkBOYW1lZE5hdGl2ZVF1ZXJpZXMoe1xuICAgICAgICBATmFtZWROYXRpdmVRdWVyeShuYW1lID0gXCJMb2FpVG9hLmZpbmRBbGxcIixcbiAgICAgICAgICAgICAgICBxdWVyeSA9IFwic2VsZWN0ICogZnJvbSBsb2FpdG9hXCIsXG4gICAgICAgICAgICAgICAgcmVzdWx0Q2xhc3MgPSBMb2FpVG9hLmNsYXNzKSxcbiAgICAgICAgQE5hbWVkTmF0aXZlUXVlcnkobmFtZSA9IFwiTG9haVRvYS5maW5kQnlJRFwiLFxuICAgICAgICAgICAgICAgIHF1ZXJ5ID0gXCJzZWxlY3QgKiBmcm9tIGxvYWl0b2Egd2hlcmUgbWFfbG9haV90b2EgbGlrZSA6bWFMb2FpVG9hXCIsXG4gICAgICAgICAgICAgICAgcmVzdWx0Q2xhc3MgPSBMb2FpVG9hLmNsYXNzKVxufSlcbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9tb2RlbC9UYWlLaG9hbi5qYXZhXG4uLi5cblxuQERhdGFcbkBFbnRpdHlcbkBFcXVhbHNBbmRIYXNoQ29kZShvbmx5RXhwbGljaXRseUluY2x1ZGVkID0gdHJ1ZSlcbkBUYWJsZShuYW1lID0gXCJ0YWlraG9hblwiKVxucHVibGljIGNsYXNzIFRhaUtob2FuIHtcbiAgICBASWRcbiAgICBARXF1YWxzQW5kSGFzaENvZGUuSW5jbHVkZVxuICAgIEBDb2x1bW4obmFtZSA9IFwibWFfbnZcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UsIHVuaXF1ZSA9IHRydWUpXG4gICAgcHJpdmF0ZSBTdHJpbmcgbWFOVjsgLy8gTcOjIHTDoGkga2hv4bqjblxuXG4gICAgQENvbHVtbihuYW1lID0gXCJwYXNzd29yZFwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICBwcml2YXRlIFN0cmluZyBwYXNzV29yZDsgLy8gTeG6rXQga2jhuql1XG5cbiAgICAvLyBN4buZdCB0w6BpIGtob+G6o24gY2jhu4kgdGh14buZYyB24buBIG3hu5l0IG5ow6JuIHZpw6puXG4vLyAgICBAT25lVG9PbmVcbi8vICAgIEBKb2luQ29sdW1uKG5hbWUgPSBcIm1hX252XCIsIHJlZmVyZW5jZWRDb2x1bW5OYW1lID0gXCJtYV9udlwiLCB1bmlxdWUgPSB0cnVlKVxuLy8gICAgcHJpdmF0ZSBOaGFuVmllbiBuaGFuVmllbjtcbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9LaGFjaEhhbmdEQU8uamF2YVxuLi4uXG5cbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBLaGFjaEhhbmdEQU8ge1xuXG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgLy8gTOG6pXkgZGFuaCBzw6FjaCBraMOhY2ggaMOgbmcgdGhlbyB0w6puXG4gICAgcHVibGljIExpc3Q8S2hhY2hIYW5nPiBsaXN0S2hhY2hIYW5nc0J5TmFtZShTdHJpbmcgbmFtZSkge1xuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcInNlbGVjdCBraCBmcm9tIEtoYWNoSGFuZyBraCB3aGVyZSBraC50ZW5LaGFjaEhhbmcgbGlrZSA6bmFtZVwiO1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlUXVlcnkocXVlcnksIEtoYWNoSGFuZy5jbGFzcylcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwibmFtZVwiLCBcIiVcIiArIG5hbWUgKyBcIiVcIilcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIC8vIEzhuqV5IGRhbmggc8OhY2gga2jDoWNoIGjDoG5nIGPDsyDEkWnhu4NtIHTDrWNoIGzFqXkgdHJvbmcga2hv4bqjbmdcbiAgICBwdWJsaWMgTGlzdDxLaGFjaEhhbmc+IGxpc3RLaGFjaEhhbmdzQnlQb2ludHMoZG91YmxlIGZyb20sIGRvdWJsZSB0bykge1xuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcInNlbGVjdCBraCBmcm9tIEtoYWNoSGFuZyBraCB3aGVyZSBraC5kaWVtVGljaEx1eSBiZXR3ZWVuIDpmcm9tIGFuZCA6dG9cIjtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5LCBLaGFjaEhhbmcuY2xhc3MpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImZyb21cIiwgZnJvbSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwidG9cIiwgdG8pXG4gICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvbW9kZWwvTG9haUNoby5qYXZhXG5wYWNrYWdlIG1vZGVsO1xuXG5pLi4uIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZjZmNmNhZTYtYTVhNy00ZDlhLWJkNzQtOWI5YTQyZGMzYmUyO3Rvb2x1X3ZydHhfMDFQeWpqcTRLWTNtZ3NXaDJQaVV6ODhIIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9UdXllblRhdURBT0ltcGwuamF2YTpcbiAgICAgMVx0cGFja2FnZSBkYW8uaW1wbDtcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7XG4gICAgIDRcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eVRyYW5zYWN0aW9uO1xuICAgICA1XHRpbXBvcnQgbG9tYm9rLkFsbEFyZ3NDb25zdHJ1Y3RvcjtcbiAgICAgNlx0aW1wb3J0IG1vZGVsLlR1eWVuVGF1O1xuICAgICA3XHRcbiAgICAgOFx0aW1wb3J0IGphdmEudXRpbC5MaXN0O1xuICAgICA5XHRcbiAgICAxMFx0XG4gICAgMTFcdEBBbGxBcmdzQ29uc3RydWN0b3JcbiAgICAxMlx0cHVibGljIGNsYXNzIFR1eWVuVGF1REFPSW1wbCB7XG4gICAgMTNcdCAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG4gICAgMTRcdCAgICBwdWJsaWMgTGlzdDxUdXllblRhdT4gZ2V0TGlzdFR1eWVuVGF1QnlHYURpR2FEZW4oU3RyaW5nIGdhRGksIFN0cmluZyBnYURlbikge1xuICAgIDE1XHQgICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiVHV5ZW5UYXUuZmluZEJ5R2FEaUdhRGVuXCIsIFR1eWVuVGF1LmNsYXNzKVxuICAgIDE2XHQgICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImdhRGlcIiwgZ2FEaSlcbiAgICAxN1x0ICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJnYURlblwiLGdhRGVuKVxuICAgIDE4XHQgICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgICAxOVx0ICAgIH1cbiAgICAyMFx0XG4gICAgMjFcdCAgICBwdWJsaWMgTGlzdDxUdXllblRhdT4gZ2V0TGlzdFR1eWVuVGF1KCl7XG4gICAgMjJcdCAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJUdXllblRhdS5maW5kQWxsXCIsIFR1eWVuVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgMjNcdCAgICB9XG4gICAgMjRcdFxuICAgIDI1XHQgICAgcHVibGljIFR1eWVuVGF1IGdldFR1eWVuVGF1QnlJZChTdHJpbmcgaWQpIHtcbiAgICAyNlx0ICAgICAgICByZXR1cm4gZW0uZmluZChUdXllblRhdS5jbGFzcywgaWQpO1xuICAgIDI3XHQgICAgfVxuICAgIDI4XHRcbiAgICAyOVx0ICAgIHB1YmxpYyAgYm9vbGVhbiBzYXZlKFR1eWVuVGF1IHR1eWVuVGF1KXtcbiAgICAzMFx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgMzFcdCAgICAgICAgdHJ5IHtcbiAgICAzMlx0ICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAzM1x0ICAgICAgICAgICAgZW0ucGVyc2lzdCh0dXllblRhdSk7XG4gICAgMzRcdCAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgIDM1XHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAzNlx0ICAgICAgICB9Y2F0Y2goRXhjZXB0aW9uIGUpe1xuICAgIDM3XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDM4XHQgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgIDM5XHQgICAgICAgIH1cbiAgICA0MFx0ICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgNDFcdCAgICB9XG4gICAgNDJcdCAgICBwdWJsaWMgIGJvb2xlYW4gZGVsZXRlKFN0cmluZyBpZCl7XG4gICAgNDNcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgIDQ0XHQgICAgICAgIHRyeSB7XG4gICAgNDVcdCAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgNDZcdCAgICAgICAgICAgIFR1eWVuVGF1IHR0ID0gZW0uZmluZChUdXllblRhdS5jbGFzcywgaWQpO1xuICAgIDQ3XHQgICAgICAgICAgICBlbS5yZW1vdmUodHQpO1xuICAgIDQ4XHQgICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICA0OVx0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgNTBcdCAgICAgICAgfWNhdGNoKEV4Y2VwdGlvbiBlKXtcbiAgICA1MVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICA1Mlx0ICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICA1M1x0ICAgICAgICB9XG4gICAgNTRcdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIDU1XHQgICAgfVxuICAgIDU2XHQgICAgcHVibGljICBib29sZWFuIHVwZGF0ZShUdXllblRhdSB0dXllblRhdSl7XG4gICAgNTdcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgIDU4XHQgICAgICAgICAgICB0cnkge1xuICAgIDU5XHQgICAgICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICA2MFx0ICAgICAgICAgICAgICAgIGVtLm1lcmdlKHR1eWVuVGF1KTtcbiAgICA2MVx0ICAgICAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgIDYyXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgNjNcdCAgICAgICAgICAgIH1jYXRjaCAoRXhjZXB0aW9uIGUpe1xuICAgIDY0XHQgICAgICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICA2NVx0ICAgICAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgNjZcdCAgICAgICAgICAgIH1cbiAgICA2N1x0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIDY4XHQgICAgfVxuICAgIDY5XHR9XG4gICAgNzBcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogNzBcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImJmNzUzNjI2LTllZTktNGIzZC04YjQxLTFlYTg5NzQ2ZDc4NDt0b29sdV92cnR4XzAxNnVBcFBCV3FxZ3YzYWV1N3Azc2V2YSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIEQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvbW9kZWwvVHV5ZW5UYXUuamF2YTpcbiAgICAgMVx0cGFja2FnZSBtb2RlbDtcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLio7XG4gICAgIDRcdGltcG9ydCBsb21ib2suRGF0YTtcbiAgICAgNVx0aW1wb3J0IGxvbWJvay5FcXVhbHNBbmRIYXNoQ29kZTtcbiAgICAgNlx0aW1wb3J0IGxvbWJvay5Ub1N0cmluZztcbiAgICAgN1x0XG4gICAgIDhcdGltcG9ydCBqYXZhLnV0aWwuU2V0O1xuICAgICA5XHRcbiAgICAxMFx0QERhdGFcbiAgICAxMVx0QEVudGl0eVxuICAgIDEyXHRAVGFibGUobmFtZSA9IFwidHV5ZW50YXVcIilcbiAgICAxM1x0QEVxdWFsc0FuZEhhc2hDb2RlKG9ubHlFeHBsaWNpdGx5SW5jbHVkZWQgPSB0cnVlKVxuICAgIDE0XHRATmFtZWROYXRpdmVRdWVyaWVzKHtcbiAgICAxNVx0ICAgICAgICBATmFtZWROYXRpdmVRdWVyeShuYW1lID0gXCJUdXllblRhdS5maW5kQnlHYURpR2FEZW5cIixcbiAgICAxNlx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5ID0gXCJzZWxlY3QgKiBmcm9tIHR1eWVudGF1IHdoZXJlIGdhX2RpID0gOmdhRGkgYW5kIGdhX2RlbiA9IDpnYURlblwiLFxuICAgIDE3XHQgICAgICAgIHJlc3VsdENsYXNzID0gVHV5ZW5UYXUuY2xhc3MpLFxuICAgIDE4XHQgICAgICAgIEBOYW1lZE5hdGl2ZVF1ZXJ5KG5hbWUgPSBcIlR1eWVuVGF1LmZpbmRBbGxcIixcbiAgICAxOVx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5ID0gXCJzZWxlY3QgKiBmcm9tIHR1eWVudGF1XCIsXG4gICAgMjBcdCAgICAgICAgcmVzdWx0Q2xhc3MgPSBUdXllblRhdS5jbGFzcylcbiAgICAyMVx0fSlcbiAgICAyMlx0cHVibGljIGNsYXNzIFR1eWVuVGF1IHtcbiAgICAyM1x0ICAgIEBJZFxuICAgIDI0XHQgICAgQENvbHVtbihuYW1lID0gXCJtYV90dXllblwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIix1bmlxdWUgPSB0cnVlLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIDI1XHQgICAgQEVxdWFsc0FuZEhhc2hDb2RlLkluY2x1ZGVcbiAgICAyNlx0ICAgIHByaXZhdGUgU3RyaW5nIG1hVHV5ZW47XG4gICAgMjdcdCAgICBAQ29sdW1uKG5hbWUgPSBcInRlbl90dXllblwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSApXG4gICAgMjhcdCAgICBARXF1YWxzQW5kSGFzaENvZGUuRXhjbHVkZVxuICAgIDI5XHQgICAgcHJpdmF0ZSBTdHJpbmcgdGVuVHV5ZW47XG4gICAgMzBcdCAgICBAQ29sdW1uKG5hbWUgPSBcImdhX2RpXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcInZhcmNoYXIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlIClcbiAgICAzMVx0ICAgIEBFcXVhbHNBbmRIYXNoQ29kZS5FeGNsdWRlXG4gICAgMzJcdCAgICBwcml2YXRlIFN0cmluZyBnYURpO1xuICAgIDMzXHQgICAgQENvbHVtbihuYW1lID0gXCJnYV9kZW5cIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UgKVxuICAgIDM0XHQgICAgQEVxdWFsc0FuZEhhc2hDb2RlLkV4Y2x1ZGVcbiAgICAzNVx0ICAgIHByaXZhdGUgU3RyaW5nIGdhRGVuO1xuICAgIDM2XHQgICAgQENvbHVtbihuYW1lID0gXCJkaWFfZGllbV9kaVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSApXG4gICAgMzdcdCAgICBARXF1YWxzQW5kSGFzaENvZGUuRXhjbHVkZVxuICAgIDM4XHQgICAgcHJpdmF0ZSBTdHJpbmcgZGlhRGllbURpO1xuICAgIDM5XHQgICAgQENvbHVtbihuYW1lID0gXCJkaWFfZGllbV9kZW5cIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UgKVxuICAgIDQwXHQgICAgQEVxdWFsc0FuZEhhc2hDb2RlLkV4Y2x1ZGVcbiAgICA0MVx0ICAgIHByaXZhdGUgU3RyaW5nIGRpYURpZW1EZW47XG4gICAgNDJcdCAgICBAT25lVG9NYW55KG1hcHBlZEJ5ID0gXCJ0dXllblRhdVwiLCBjYXNjYWRlID0gQ2FzY2FkZVR5cGUuQUxMLCBvcnBoYW5SZW1vdmFsID0gdHJ1ZSlcbiAgICA0M1x0ICAgIEBUb1N0cmluZy5FeGNsdWRlXG4gICAgNDRcdCAgICBwcml2YXRlIFNldDxUYXU+IGRhbmhTYWNoVGF1O1xuICAgIDQ1XHR9XG4gICAgNDZcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogNDZcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjJjOGRmNDA0LTE0NzctNDlkNC04NDU0LTRkNzUxOTUzZmNhZDt0b29sdV92cnR4XzAxQWFON01MVFdvZG80cWk2V05RTnNaRyI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9UdXllblRhdURBTy5qYXZhXG5wYWNrYWdlIGRhbztcblxuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjtcbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eVRyYW5zYWN0aW9uO1xuaW1wb3J0IGxvbWJvay5BbGxBcmdzQ29uc3RydWN0b3I7XG5pbXBvcnQgbW9kZWwuVHV5ZW5UYXU7XG5cbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcblxuXG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgVHV5ZW5UYXVEQU8ge1xuICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbTtcbiAgICBwdWJsaWMgTGlzdDxUdXllblRhdT4gZ2V0TGlzdFR1eWVuVGF1QnlHYURpR2FEZW4oU3RyaW5nIGdhRGksIFN0cmluZyBnYURlbikge1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlTmFtZWRRdWVyeShcIlR1eWVuVGF1LmZpbmRCeUdhRGlHYURlblwiLCBUdXllblRhdS5jbGFzcylcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZ2FEaVwiLCBnYURpKVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJnYURlblwiLGdhRGVuKVxuICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIExpc3Q8VHV5ZW5UYXU+IGdldExpc3RUdXllblRhdSgpe1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlTmFtZWRRdWVyeShcIlR1eWVuVGF1LmZpbmRBbGxcIiwgVHV5ZW5UYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgVHV5ZW5UYXUgZ2V0VHV5ZW5UYXVCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICByZXR1cm4gZW0uZmluZChUdXllblRhdS5jbGFzcywgaWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyAgYm9vbGVhbiBzYXZlKFR1eWVuVGF1IHR1eWVuVGF1KXtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIGVtLnBlcnNpc3QodHV5ZW5UYXUpO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfWNhdGNoKEV4Y2VwdGlvbiBlKXtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcHVibGljICBib29sZWFuIGRlbGV0ZShTdHJpbmcgaWQpe1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgICAgICAgICAgVHV5ZW5UYXUgdHQgPSBlbS5maW5kKFR1eWVuVGF1LmNsYXNzLCBpZCk7XG4gICAgICAgICAgICBlbS5yZW1vdmUodHQpO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfWNhdGNoKEV4Y2VwdGlvbiBlKXtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcHVibGljICBib29sZWFuIHVwZGF0ZShUdXllblRhdSB0dXllblRhdSl7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgICAgICBlbS5tZXJnZSh0dXllblRhdSk7XG4gICAgICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9Y2F0Y2ggKEV4Y2VwdGlvbiBlKXtcbiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1R1eWVuVGF1REFPLmphdmFcbnBhY2thZ2UgZGFvO1xuXG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyO1xuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5VHJhbnNhY3Rpb247XG5pbXBvcnQgbG9tYm9rLkFsbEFyZ3NDb25zdHJ1Y3RvcjtcbmltcG9ydCBtb2RlbC5UdXllblRhdTtcblxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuXG5cbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBUdXllblRhdURBTyB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuICAgIHB1YmxpYyBMaXN0PFR1eWVuVGF1PiBnZXRMaXN0VHV5ZW5UYXVCeUdhRGlHYURlbihTdHJpbmcgZ2FEaSwgU3RyaW5nIGdhRGVuKSB7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiVHV5ZW5UYXUuZmluZEJ5R2FEaUdhRGVuXCIsIFR1eWVuVGF1LmNsYXNzKVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJnYURpXCIsIGdhRGkpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImdhRGVuXCIsZ2FEZW4pXG4gICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgTGlzdDxUdXllblRhdT4gZ2V0TGlzdFR1eWVuVGF1KCl7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiVHV5ZW5UYXUuZmluZEFsbFwiLCBUdXllblRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBUdXllblRhdSBnZXRUdXllblRhdUJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIHJldHVybiBlbS5maW5kKFR1eWVuVGF1LmNsYXNzLCBpZCk7XG4gICAgfVxuXG4gICAgcHVibGljICBib29sZWFuIHNhdmUoVHV5ZW5UYXUgdHV5ZW5UYXUpe1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgICAgICAgICAgZW0ucGVyc2lzdCh0dXllblRhdSk7XG4gICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9Y2F0Y2goRXhjZXB0aW9uIGUpe1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBwdWJsaWMgIGJvb2xlYW4gZGVsZXRlKFN0cmluZyBpZCl7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBUdXllblRhdSB0dCA9IGVtLmZpbmQoVHV5ZW5UYXUuY2xhc3MsIGlkKTtcbiAgICAgICAgICAgIGVtLnJlbW92ZSh0dCk7XG4gICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9Y2F0Y2goRXhjZXB0aW9uIGUpe1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBwdWJsaWMgIGJvb2xlYW4gdXBkYXRlKFR1eWVuVGF1IHR1eWVuVGF1KXtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgICAgICAgICAgICAgIGVtLm1lcmdlKHR1eWVuVGF1KTtcbiAgICAgICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1jYXRjaCAoRXhjZXB0aW9uIGUpe1xuICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPLmphdmFcbnBhY2thZ2UgZGFvLmltcGw7XG5cbnB1YmxpYyBpbnRlcmZhY2UgTGljaFRyaW5oVGF1REFPIHtcbn1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vTGljaFRyaW5oVGF1REFPLmphdmFcbnBhY2thZ2UgZGFvO1xuXG5pbXBvcnQgbW9kZWwuTGljaFRyaW5oVGF1O1xuXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5cbnB1YmxpYyBpbnRlcmZhY2UgTGljaFRyaW5oVGF1REFPIHtcbiAgICBMaXN0PExpY2hUcmluaFRhdT4gZ2V0QWxsTGlzdCgpO1xuICAgIExpY2hUcmluaFRhdSBnZXRCeUlkKFN0cmluZyBpZCk7XG4gICAgYm9vbGVhbiBzYXZlKExpY2hUcmluaFRhdSBsaWNoVHJpbmhUYXUpO1xuICAgIGJvb2xlYW4gdXBkYXRlKExpY2hUcmluaFRhdSBsaWNoVHJpbmhUYXUpO1xuICAgIGJvb2xlYW4gZGVsZXRlKExpY2hUcmluaFRhdSBsaWNoVHJpbmhUYXUpO1xufVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1R1eWVuVGF1REFPSW1wbC5qYXZhXG5wYWNrYWdlIGRhby5pbXBsO1xuXG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyO1xuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5VHJhbnNhY3Rpb247XG5pbXBvcnQgbG9tYm9rLkFsbEFyZ3NDb25zdHJ1Y3RvcjtcbmltcG9ydCBtb2RlbC5UdXllblRhdTtcblxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuXG5cbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBUdXllblRhdURBT0ltcGwge1xuICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbTtcbiAgICBwdWJsaWMgTGlzdDxUdXllblRhdT4gZ2V0TGlzdFR1eWVuVGF1QnlHYURpR2FEZW4oU3RyaW5nIGdhRGksIFN0cmluZyBnYURlbikge1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlTmFtZWRRdWVyeShcIlR1eWVuVGF1LmZpbmRCeUdhRGlHYURlblwiLCBUdXllblRhdS5jbGFzcylcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZ2FEaVwiLCBnYURpKVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJnYURlblwiLGdhRGVuKVxuICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIExpc3Q8VHV5ZW5UYXU+IGdldExpc3RUdXllblRhdSgpe1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlTmFtZWRRdWVyeShcIlR1eWVuVGF1LmZpbmRBbGxcIiwgVHV5ZW5UYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgVHV5ZW5UYXUgZ2V0VHV5ZW5UYXVCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICByZXR1cm4gZW0uZmluZChUdXllblRhdS5jbGFzcywgaWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyAgYm9vbGVhbiBzYXZlKFR1eWVuVGF1IHR1eWVuVGF1KXtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIGVtLnBlcnNpc3QodHV5ZW5UYXUpO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfWNhdGNoKEV4Y2VwdGlvbiBlKXtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcHVibGljICBib29sZWFuIGRlbGV0ZShTdHJpbmcgaWQpe1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgICAgICAgICAgVHV5ZW5UYXUgdHQgPSBlbS5maW5kKFR1eWVuVGF1LmNsYXNzLCBpZCk7XG4gICAgICAgICAgICBlbS5yZW1vdmUodHQpO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfWNhdGNoKEV4Y2VwdGlvbiBlKXtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcHVibGljICBib29sZWFuIHVwZGF0ZShUdXllblRhdSB0dXllblRhdSl7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgICAgICBlbS5tZXJnZSh0dXllblRhdSk7XG4gICAgICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9Y2F0Y2ggKEV4Y2VwdGlvbiBlKXtcbiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9UYXVEQU8uamF2YVxucGFja2FnZSBkYW87XG5cbmltcG9ydCBqYWthcnRhLmVudGVycHJpc2UuY29udGV4dC5BcHBsaWNhdGlvblNjb3BlZDtcbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7XG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlUcmFuc2FjdGlvbjtcbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLlBlcnNpc3RlbmNlO1xuaW1wb3J0IGxvbWJvay5BbGxBcmdzQ29uc3RydWN0b3I7XG5pbXBvcnQgbW9kZWwuTG9haUNobztcbmltcG9ydCBtb2RlbC5UYXU7XG5cbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBUYXVEQU8ge1xuICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbTtcblxuICAgIHB1YmxpYyBMaXN0PFRhdT4gZ2V0QWxsTGlzdFQoKSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgTGlzdDxUYXU+IGxpc3QgPSBudWxsO1xuICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZVF1ZXJ5KFwic2VsZWN0IHQgZnJvbSBUYXUgdFwiLCBUYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgcHVibGljIFRhdSBnZXRCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHJldHVybiBlbS5maW5kKFRhdS5jbGFzcywgaWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBib29sZWFuIHNhdmUoVGF1IHQpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIGVtLnBlcnNpc3QodCk7XG4gICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9Y2F0Y2goRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiB1cGRhdGUoVGF1IHQpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIGVtLm1lcmdlKHQpO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfWNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBib29sZWFuIGRlbGV0ZShTdHJpbmcgaWQpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIFRhdSB0ID0gZW0uZmluZChUYXUuY2xhc3MsaWQpO1xuICAgICAgICAgICAgZW0ucmVtb3ZlKHQpO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfWNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxufVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1RhdURBTy5qYXZhXG5wYWNrYWdlIGRhbztcblxuaW1wb3J0IGpha2FydGEuZW50ZXJwcmlzZS5jb250ZXh0LkFwcGxpY2F0aW9uU2NvcGVkO1xuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjtcbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eVRyYW5zYWN0aW9uO1xuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuUGVyc2lzdGVuY2U7XG5pbXBvcnQgbG9tYm9rLkFsbEFyZ3NDb25zdHJ1Y3RvcjtcbmltcG9ydCBtb2RlbC5Mb2FpQ2hvO1xuaW1wb3J0IG1vZGVsLlRhdTtcblxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIFRhdURBTyB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgcHVibGljIExpc3Q8VGF1PiBnZXRBbGxMaXN0VCgpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICBMaXN0PFRhdT4gbGlzdCA9IG51bGw7XG4gICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgdCBmcm9tIFRhdSB0XCIsIFRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgVGF1IGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVGF1LmNsYXNzLCBpZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gc2F2ZShUYXUgdCkge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgICAgICAgICAgZW0ucGVyc2lzdCh0KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vTG9haVRvYVRhdURBTy5qYXZhXG5wYWNrYWdlIGRhbztcblxuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjtcbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eVRyYW5zYWN0aW9uO1xuaW1wb3J0IGxvbWJvay5BbGxBcmdzQ29uc3RydWN0b3I7XG5pbXBvcnQgbW9kZWwuTG9haVRvYTtcblxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIExvYWlUb2FUYXVEQU8ge1xuICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbTtcblxuICAgIHB1YmxpYyBMaXN0PExvYWlUb2E+IGdldExpc3RMb2FpVG9hKCl7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiTG9haVRvYS5maW5kQWxsXCIsIExvYWlUb2EuY2xhc3MpXG4gICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgTG9haVRvYSBnZXRMb2FpVG9hQnlJZChTdHJpbmcgaWQpe1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlTmFtZWRRdWVyeShcIkxvYWlUb2EuZmluZEJ5SURcIiwgTG9haVRvYS5jbGFzcylcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwibWFMb2FpVG9hXCIsIGlkKVxuICAgICAgICAgICAgICAgIC5nZXRTaW5nbGVSZXN1bHQoKTtcbiAgICB9XG4gICAgcHVibGljIGJvb2xlYW4gc2F2ZShMb2FpVG9hIGxvYWlUb2Epe1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgdHJ5IHtcbiAgICAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgICAgZW0ucGVyc2lzdChsb2FpVG9hKTtcbiAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgIH1jYXRjaCAoRXhjZXB0aW9uIGUpe1xuICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgIH1cbiAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xvYWlUb2FUYXVEQU8uamF2YVxucGFja2FnZSBkYW87XG5cbmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7XG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlUcmFuc2FjdGlvbjtcbmltcG9ydCBsb21ib2suQWxsQXJnc0NvbnN0cnVjdG9yO1xuaW1wb3J0IG1vZGVsLkxvYWlUb2E7XG5cbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBMb2FpVG9hVGF1REFPIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG5cbiAgICBwdWJsaWMgTGlzdDxMb2FpVG9hPiBnZXRMaXN0TG9haVRvYSgpe1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlTmFtZWRRdWVyeShcIkxvYWlUb2EuZmluZEFsbFwiLCBMb2FpVG9hLmNsYXNzKVxuICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIExvYWlUb2EgZ2V0TG9haVRvYUJ5SWQoU3RyaW5nIGlkKXtcbiAgICAgICAgcmV0dXJuIGVtLmNyZWF0ZU5hbWVkUXVlcnkoXCJMb2FpVG9hLmZpbmRCeUlEXCIsIExvYWlUb2EuY2xhc3MpXG4gICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcIm1hTG9haVRvYVwiLCBpZClcbiAgICAgICAgICAgICAgICAuZ2V0U2luZ2xlUmVzdWx0KCk7XG4gICAgfVxuICAgIHB1YmxpYyBib29sZWFuIHNhdmUoTG9haVRvYSBsb2FpVG9hKXtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgIHRyeSB7XG4gICAgICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgICAgIGVtLnBlcnNpc3QobG9haVRvYSk7XG4gICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICB9Y2F0Y2ggKEV4Y2VwdGlvbiBlKXtcbiAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICB9XG4gICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9UYXVEQU9JbXBsLmphdmFcbi4uLlxuXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgVGF1REFPSW1wbCB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgcHVibGljIExpc3Q8VGF1PiBnZXRBbGxMaXN0VCgpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICBMaXN0PFRhdT4gbGlzdCA9IG51bGw7XG4gICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgdCBmcm9tIFRhdSB0XCIsIFRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgVGF1IGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVGF1LmNsYXNzLCBpZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gc2F2ZShUYXUgdCkge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgICAgICAgICAgZW0ucGVyc2lzdCh0KTtcbiAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbi4uLlxuUGF0aDogUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9Mb2FpVG9hVGF1REFPSW1wbC5qYXZhXG5wYWNrYWdlIGRhby5pbXBsO1xuXG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyO1xuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5VHJhbnNhY3Rpb247XG5pbXBvcnQgbG9tYm9rLkFsbEFyZ3NDb25zdHJ1Y3RvcjtcbmltcG9ydCBtb2RlbC5Mb2FpVG9hO1xuXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgTG9haVRvYVRhdURBT0ltcGwge1xuICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbTtcblxuICAgIHB1YmxpYyBMaXN0PExvYWlUb2E+IGdldExpc3RMb2FpVG9hKCl7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiTG9haVRvYS5maW5kQWxsXCIsIExvYWlUb2EuY2xhc3MpXG4gICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgTG9haVRvYSBnZXRMb2FpVG9hQnlJZChTdHJpbmcgaWQpe1xuICAgICAgICByZXR1cm4gZW0uY3JlYXRlTmFtZWRRdWVyeShcIkxvYWlUb2EuZmluZEJ5SURcIiwgTG9haVRvYS5jbGFzcylcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwibWFMb2FpVG9hXCIsIGlkKVxuICAgICAgICAgICAgICAgIC5nZXRTaW5nbGVSZXN1bHQoKTtcbiAgICB9XG4gICAgcHVibGljIGJvb2xlYW4gc2F2ZShMb2FpVG9hIGxvYWlUb2Epe1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgdHJ5IHtcbiAgICAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgICAgZW0ucGVyc2lzdChsb2FpVG9hKTtcbiAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgIH1jYXRjaCAoRXhjZXB0aW9uIGUpe1xuICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgIH1cbiAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9UYWlLaG9hbkRBTy5qYXZhXG4uLi5cblxuQEFsbEFyZ3NDb25zdHJ1Y3RvclxucHVibGljIGNsYXNzIFRhaUtob2FuREFPIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG5cbiAgICBwdWJsaWMgVGFpS2hvYW4gZ2V0VGFpS2hvYW5CeUlkKFN0cmluZyBpZCkge1xuICAgICAgICByZXR1cm4gZW0uZmluZChUYWlLaG9hbi5jbGFzcywgaWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBib29sZWFuIHNhdmUgKFRhaUtob2FuIHRrKSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gIGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgICAgICAgICAgZW0ucGVyc2lzdCh0ayk7XG4gICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbi8vIHVwZGF0ZSBwYXNzd29yZCB24bubaSBtYU5WXG4gICAgcHVibGljIGJvb2xlYW4gdXBkYXRlUGFzc3dvcmQgKFN0cmluZyBtYU5WLCBTdHJpbmcgcGFzc1dvcmQpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIFRhaUtob2FuIHRrID0gZW0uZmluZChUYWlLaG9hbi5jbGFzcywgbWFOVik7XG4gICAgICAgICAgICBpZiAodGsgIT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgdGsuc2V0UGFzc1dvcmQocGFzc1dvcmQpO1xuICAgICAgICAgICAgICAgIGVtLm1lcmdlKHRrKTtcbiAgICAgICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvVGFpS2hvYW5EQU8uamF2YVxuLi4uXG5cbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBUYWlLaG9hbkRBTyB7XG4gICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuXG4gICAgcHVibGljIFRhaUtob2FuIGdldFRhaUtob2FuQnlJZChTdHJpbmcgaWQpIHtcbiAgICAgICAgcmV0dXJuIGVtLmZpbmQoVGFpS2hvYW4uY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiBzYXZlIChUYWlLaG9hbiB0aykge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9ICBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIGVtLnBlcnNpc3QodGspO1xuICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4vLyB1cGRhdGUgcGFzc3dvcmQgduG7m2kgbWFOVlxuICAgIHB1YmxpYyBib29sZWFuIHVwZGF0ZVBhc3N3b3JkIChTdHJpbmcgbWFOViwgU3RyaW5nIHBhc3NXb3JkKSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgICAgICAgICBUYWlLaG9hbiB0ayA9IGVtLmZpbmQoVGFpS2hvYW4uY2xhc3MsIG1hTlYpO1xuICAgICAgICAgICAgaWYgKHRrICE9IG51bGwpe1xuICAgICAgICAgICAgICAgIHRrLnNldFBhc3NXb3JkKHBhc3NXb3JkKTtcbiAgICAgICAgICAgICAgICBlbS5tZXJnZSh0ayk7XG4gICAgICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuLi4uXG5QYXRoOiBQcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9Ub2FUYXVEQU8uamF2YVxuLi4uXG5cbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbkBBbGxBcmdzQ29uc3RydWN0b3JcbnB1YmxpYyBjbGFzcyBUb2FUYXVEQU8ge1xuICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbSA7XG5cblxuICAgIHB1YmxpYyBMaXN0PFRvYVRhdT4gbGlzdFRvYVRhdUJ5U29HaGUoaW50IGZvcm0sIGludCB0byl7XG4gICAgICAgIFN0cmluZyBxdWVyeSA9IFwic2VsZWN0IHR0IGZyb20gVG9hVGF1IHR0IFwiK1xuICAgICAgICAgICAgICAgIFwid2hlcmUgc29HaGUgYmV0d2VlbiA6Zm9ybSBhbmQgOnRvXCI7XG4gICAgICAgIHJldHVybiBlbS5jcmVhdGVRdWVyeShxdWVyeSlcbiAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZm9ybVwiLCBmb3JtKVxuICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJ0b1wiLCB0bylcbiAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBMaXN0PFRvYVRhdT4gZ2V0bGlzdFRvYVRhdSgpIHtcbiAgICAgICAgTGlzdDxUb2FUYXU+IGxpc3RUb2FUYXUgPSBudWxsO1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHR4LmJlZ2luKCk7XG4gICAgICAgICAgICBsaXN0VG9hVGF1ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgdHQgZnJvbSBUb2FUYXUgdHRcIiwgVG9hVGF1LmNsYXNzKS5nZXRSZXN1bHRMaXN0KCk7XG4gICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhuqV5IGRhbmggc8OhY2ggVG9hVGF1IHRow6BuaCBjw7RuZ1wiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4bqleSBkYW5oIHPDoWNoIFRvYVRhdSB0aOG6pXQgYuG6oWlcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3RUb2FUYXU7XG4gICAgfVxuXG4gICAgcHVibGljIFRvYVRhdSBnZXRUb2FUYXVCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICByZXR1cm4gZW0uZmluZChUb2FUYXUuY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiBzYXZlKFRvYVRhdSB0b2FUYXUpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgICAgIGVtLnBlcnNpc3QodG9hVGF1KTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiB1cGRhdGUoVG9hVGF1IHRvYVRhdSkge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICAgICAgZW0ubWVyZ2UodG9hVGF1KTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvVGFpS2hvYW5EQU9JbXBsLmphdmFcbi4uLlxuXG5AQWxsQXJnc0NvbnN0cnVjdG9yXG5wdWJsaWMgY2xhc3MgVGFpS2hvYW5EQU9JbXBsIHtcbiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG5cbiAgICBwdWJsaWMgVGFpS2hvYW4gZ2V0VGFpS2hvYW5CeUlkKFN0cmluZyBpZCkge1xuICAgICAgICByZXR1cm4gZW0uZmluZChUYWlLaG9hbi5jbGFzcywgaWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBib29sZWFuIHNhdmUgKFRhaUtob2FuIHRrKSB7XG4gICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gIGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgICAgICAgICAgZW0ucGVyc2lzdCh0ayk7XG4gICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbi8vIHVwZGF0ZSBwYXNzd29yZCB24bubaSBtYU5WXG4gICAgcHVibGljIGJvb2xlYW4gdXBkYXRlUGFzc3dvcmQgKFN0cmluZyBtYU5WLCBTdHJpbmcgcGFzc1dvcmQpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICAgICAgICAgIFRhaUtob2FuIHRrID0gZW0uZmluZChUYWlLaG9hbi5jbGFzcywgbWFOVik7XG4gICAgICAgICAgICBpZiAodGsgIT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgdGsuc2V0UGFzc1dvcmQocGFzc1dvcmQpO1xuICAgICAgICAgICAgICAgIGVtLm1lcmdlKHRrKTtcbiAgICAgICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4uLi5cblBhdGg6IFByb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvVG9hVGF1REFPLmphdmFcbi4uLlxuXG4gICAgcHVibGljIFRvYVRhdSBnZXRUb2FUYXVCeUlkKFN0cmluZyBpZCkge1xuICAgICAgICByZXR1cm4gZW0uZmluZChUb2FUYXUuY2xhc3MsIGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiBzYXZlKFRvYVRhdSB0b2FUYXUpIHtcbiAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHguYmVnaW4oKTtcbiAgICAgICAgICAgIGVtLnBlcnNpc3QodG9hVGF1KTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1jYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiB1cGRhdGUoVG9hVGF1IHRvYVRhdSkge1xuICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0eC5iZWdpbigpO1xuICAgICAgICAgICAgZW0ubWVyZ2UodG9hVGF1KTtcbiAgICAgICAgICAgIHR4LmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRyLi4uIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiNjZmZDI3MWMtNDI3MC00YjAzLWEwMGItNThhNTEyYWRlYzkxO3Rvb2x1X3ZydHhfMDE2d3dzUDVramdHYzlCRnBWNWlzSHRjIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9UdXllblRhdURBT0ltcGwuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDEwXHRcbiAgICAxMVx0QEFsbEFyZ3NDb25zdHJ1Y3RvclxuICAgIDEyXHRwdWJsaWMgY2xhc3MgVHV5ZW5UYXVEQU9JbXBsIHtcbiAgICAxM1x0ICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbTtcbiAgICAxNFx0ICAgIHB1YmxpYyBMaXN0PFR1eWVuVGF1PiBnZXRMaXN0VHV5ZW5UYXVCeUdhRGlHYURlbihTdHJpbmcgZ2FEaSwgU3RyaW5nIGdhRGVuKSB7XG4gICAgMTVcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgIDE2XHQgICAgICAgIExpc3Q8VHV5ZW5UYXU+IGxpc3QgPSBudWxsO1xuICAgIDE3XHQgICAgICAgIHRyeSB7XG4gICAgMThcdCAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgMTlcdCAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiVHV5ZW5UYXUuZmluZEJ5R2FEaUdhRGVuXCIsIFR1eWVuVGF1LmNsYXNzKVxuICAgIDIwXHQgICAgICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJnYURpXCIsIGdhRGkpXG4gICAgMjFcdCAgICAgICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImdhRGVuXCIsIGdhRGVuKVxuICAgIDIyXHQgICAgICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7XG4gICAgMjNcdCAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgIDI0XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgMjVcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgMjZcdCAgICAgICAgICAgIGlmICh0ci5pc0FjdGl2ZSgpKSB7XG4gICAgMjdcdCAgICAgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgIDI4XHQgICAgICAgICAgICB9XG4gICAgMjlcdCAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSBs4bqleSBkYW5oIHPDoWNoIFR1eWVuVGF1IHRoZW8gZ2FEaSB2w6AgZ2FEZW5cIik7XG4gICAgMzBcdCAgICAgICAgfVxuICAgIDMxXHQgICAgICAgIHJldHVybiBsaXN0O1xuICAgIDMyXHQgICAgfVxuICAgIDMzXHRcbiAgICAzNFx0ICAgIHB1YmxpYyBMaXN0PFR1eWVuVGF1PiBnZXRMaXN0VHV5ZW5UYXUoKXtcbiAgICAzNVx0ICAgICAgICByZXR1cm4gZW0uY3JlYXRlTmFtZWRRdWVyeShcIlR1eWVuVGF1LmZpbmRBbGxcIiwgVHV5ZW5UYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAzNlx0ICAgIH1cblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZDI2ZmQ1MTktOGNlYi00NWZkLTgzMmYtODhmMjFjZGYxMTlkO3Rvb2x1X3ZydHhfMDFEQ1FKQ0Q1SG1yRlF1YkRUTG04cDFNIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9UdXllblRhdURBT0ltcGwuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDMwXHQgICAgICAgIH1cbiAgICAzMVx0ICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAzMlx0ICAgIH1cbiAgICAzM1x0XG4gICAgMzRcdCAgICBwdWJsaWMgTGlzdDxUdXllblRhdT4gZ2V0TGlzdFR1eWVuVGF1KCl7XG4gICAgMzVcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgIDM2XHQgICAgICAgIExpc3Q8VHV5ZW5UYXU+IGxpc3QgPSBudWxsO1xuICAgIDM3XHQgICAgICAgIHRyeSB7XG4gICAgMzhcdCAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgMzlcdCAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVOYW1lZFF1ZXJ5KFwiVHV5ZW5UYXUuZmluZEFsbFwiLCBUdXllblRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIDQwXHQgICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICA0MVx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDQyXHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDQzXHQgICAgICAgICAgICBpZiAodHIuaXNBY3RpdmUoKSkge1xuICAgIDQ0XHQgICAgICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICA0NVx0ICAgICAgICAgICAgfVxuICAgIDQ2XHQgICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4buXaSBraGkgbOG6pXkgZGFuaCBzw6FjaCBUdXllblRhdVwiKTtcbiAgICA0N1x0ICAgICAgICB9XG4gICAgNDhcdCAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgNDlcdCAgICB9XG4gICAgNTBcdFxuICAgIDUxXHQgICAgcHVibGljIFR1eWVuVGF1IGdldFR1eWVuVGF1QnlJZChTdHJpbmcgaWQpIHtcbiAgICA1Mlx0ICAgICAgICByZXR1cm4gZW0uZmluZChUdXllblRhdS5jbGFzcywgaWQpO1xuICAgIDUzXHQgICAgfVxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI4NzE2MWE5Yy01NTg1LTQ2ODktYmU3OC02NGIxNjYzMTUzODY7dG9vbHVfdnJ0eF8wMUhxZDI3WWlLa2hrUTVOZ3dBSHVjTGMiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL1R1eWVuVGF1REFPSW1wbC5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgNDdcdCAgICAgICAgfVxuICAgIDQ4XHQgICAgICAgIHJldHVybiBsaXN0O1xuICAgIDQ5XHQgICAgfVxuICAgIDUwXHRcbiAgICA1MVx0ICAgIHB1YmxpYyBUdXllblRhdSBnZXRUdXllblRhdUJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgNTJcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgIDUzXHQgICAgICAgIFR1eWVuVGF1IHR1eWVuVGF1ID0gbnVsbDtcbiAgICA1NFx0ICAgICAgICB0cnkge1xuICAgIDU1XHQgICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgIDU2XHQgICAgICAgICAgICB0dXllblRhdSA9IGVtLmZpbmQoVHV5ZW5UYXUuY2xhc3MsIGlkKTtcbiAgICA1N1x0ICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgNThcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICA1OVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICA2MFx0ICAgICAgICAgICAgaWYgKHRyLmlzQWN0aXZlKCkpIHtcbiAgICA2MVx0ICAgICAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgNjJcdCAgICAgICAgICAgIH1cbiAgICA2M1x0ICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IFR1eWVuVGF1IHRoZW8gSURcIik7XG4gICAgNjRcdCAgICAgICAgfVxuICAgIDY1XHQgICAgICAgIHJldHVybiB0dXllblRhdTtcbiAgICA2Nlx0ICAgIH1cbiAgICA2N1x0XG4gICAgNjhcdCAgICBwdWJsaWMgIGJvb2xlYW4gc2F2ZShUdXllblRhdSB0dXllblRhdSl7XG4gICAgNjlcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgIDcwXHQgICAgICAgIHRyeSB7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImQ4YjAwNmM5LWQ0ZmUtNDg4NS1hZmU3LTJhZmEzYWNmOWMwODt0b29sdV92cnR4XzAxMXBFTlJ3OVl3dzNYQ2R0eW9iV1ZlQiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIEQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPSW1wbC5qYXZhOlxuICAgICAxXHRwYWNrYWdlIGRhby5pbXBsO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGRhby5MaWNoVHJpbmhUYXVEQU87XG4gICAgIDRcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7XG4gICAgIDVcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eVRyYW5zYWN0aW9uO1xuICAgICA2XHRpbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5QZXJzaXN0ZW5jZTtcbiAgICAgN1x0aW1wb3J0IG1vZGVsLkxpY2hUcmluaFRhdTtcbiAgICAgOFx0XG4gICAgIDlcdGltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbiAgICAxMFx0XG4gICAgMTFcdHB1YmxpYyBjbGFzcyBMaWNoVHJpbmhUYXVEQU9JbXBsIGltcGxlbWVudHMgTGljaFRyaW5oVGF1REFPIHtcbiAgICAxMlx0ICAgIHB1YmxpYyBMaXN0PExpY2hUcmluaFRhdT4gZ2V0QWxsTGlzdCgpIHtcbiAgICAxM1x0ICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoXCJtYXJpYWRiXCIpXG4gICAgMTRcdCAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5TWFuYWdlcigpO1xuICAgIDE1XHQgICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAxNlx0ICAgICAgICBMaXN0PExpY2hUcmluaFRhdT4gbGlzdCA9IG51bGw7XG4gICAgMTdcdCAgICAgICAgdHguYmVnaW4oKTtcbiAgICAxOFx0ICAgICAgICB0cnkge1xuICAgIDE5XHQgICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJzZWxlY3QgbHR0IGZyb20gTGljaFRyaW5oVGF1IGx0dFwiLCBMaWNoVHJpbmhUYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAyMFx0ICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgMjFcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAyMlx0ICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAyM1x0ICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggTGljaFRyaW5oVGF1XCIpO1xuICAgIDI0XHQgICAgICAgIH1cbiAgICAyNVx0ICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAyNlx0ICAgIH1cbiAgICAyN1x0XG4gICAgMjhcdCAgICBwdWJsaWMgTGljaFRyaW5oVGF1IGdldEJ5SWQoU3RyaW5nIGlkKSB7XG4gICAgMjlcdCAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgIDMwXHQgICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICAzMVx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgMzJcdCAgICAgICAgcmV0dXJuIGVtLmZpbmQoTGljaFRyaW5oVGF1LmNsYXNzLCBpZCk7XG4gICAgMzNcdCAgICB9XG4gICAgMzRcdFxuICAgIDM1XHQgICAgcHVibGljIGJvb2xlYW4gc2F2ZShMaWNoVHJpbmhUYXUgdCkge1xuICAgIDM2XHQgICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAzN1x0ICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgMzhcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgIDM5XHQgICAgICAgIHRyeSB7XG4gICAgNDBcdCAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgNDFcdCAgICAgICAgICAgIGVtLnBlcnNpc3QodCk7XG4gICAgNDJcdCAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgIDQzXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICA0NFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDQ1XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDQ2XHQgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgIDQ3XHQgICAgICAgIH1cbiAgICA0OFx0ICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgNDlcdCAgICB9XG4gICAgNTBcdFxuICAgIDUxXHQgICAgcHVibGljIGJvb2xlYW4gdXBkYXRlKExpY2hUcmluaFRhdSB0KSB7XG4gICAgNTJcdCAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgIDUzXHQgICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICA1NFx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgNTVcdCAgICAgICAgdHJ5IHtcbiAgICA1Nlx0ICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICA1N1x0ICAgICAgICAgICAgZW0ubWVyZ2UodCk7XG4gICAgNThcdCAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgIDU5XHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICA2MFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDYxXHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDYyXHQgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgIDYzXHQgICAgICAgIH1cbiAgICA2NFx0ICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgNjVcdCAgICB9XG4gICAgNjZcdFxuICAgIDY3XHQgICAgQE92ZXJyaWRlXG4gICAgNjhcdCAgICBwdWJsaWMgYm9vbGVhbiBkZWxldGUoTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdSkge1xuICAgIDY5XHQgICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICA3MFx0ICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgNzFcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgIDcyXHQgICAgICAgIHRyeSB7XG4gICAgNzNcdCAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgNzRcdCAgICAgICAgICAgIGlmICghZW0uY29udGFpbnMobGljaFRyaW5oVGF1KSkge1xuICAgIDc1XHQgICAgICAgICAgICAgICAgbGljaFRyaW5oVGF1ID0gZW0ubWVyZ2UobGljaFRyaW5oVGF1KTtcbiAgICA3Nlx0ICAgICAgICAgICAgfVxuICAgIDc3XHQgICAgICAgICAgICBlbS5yZW1vdmUobGljaFRyaW5oVGF1KTtcbiAgICA3OFx0ICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgNzlcdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIDgwXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgODFcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgODJcdCAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgODNcdCAgICAgICAgfVxuICAgIDg0XHQgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICA4NVx0ICAgIH1cbiAgICA4Nlx0XG4gICAgODdcdCAgICBwdWJsaWMgYm9vbGVhbiBkZWxldGUoU3RyaW5nIGlkKSB7XG4gICAgODhcdCAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKVxuICAgIDg5XHQgICAgICAgICAgICAgICAgLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTtcbiAgICA5MFx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgOTFcdCAgICAgICAgdHJ5IHtcbiAgICA5Mlx0ICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICA5M1x0ICAgICAgICAgICAgTGljaFRyaW5oVGF1IHQgPSBlbS5maW5kKExpY2hUcmluaFRhdS5jbGFzcywgaWQpO1xuICAgIDk0XHQgICAgICAgICAgICBlbS5yZW1vdmUodCk7XG4gICAgOTVcdCAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgIDk2XHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICA5N1x0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDk4XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDk5XHQgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgMTAwXHQgICAgICAgIH1cbiAgIDEwMVx0ICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAxMDJcdCAgICB9XG4gICAxMDNcdH1cbiAgIDEwNFx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAxMDRcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImVhNmJhM2E4LWZmZDctNDQ3ZS05OWYyLTU2YzBiYWRkMjRkOTt0b29sdV92cnR4XzAxNDVaTmVyOGY2QkxLeFNBVURhNUtkcyI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIEQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPSW1wbC5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDFcdHBhY2thZ2UgZGFvLmltcGw7XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgZGFvLkxpY2hUcmluaFRhdURBTztcbiAgICAgNFx0aW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjtcbiAgICAgNVx0aW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5VHJhbnNhY3Rpb247XG4gICAgIDZcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLlBlcnNpc3RlbmNlO1xuICAgICA3XHRpbXBvcnQgbG9tYm9rLkFsbEFyZ3NDb25zdHJ1Y3RvcjtcbiAgICAgOFx0aW1wb3J0IG1vZGVsLkxpY2hUcmluaFRhdTtcbiAgICAgOVx0XG4gICAgMTBcdGltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbiAgICAxMVx0XG4gICAgMTJcdEBBbGxBcmdzQ29uc3RydWN0b3JcbiAgICAxM1x0cHVibGljIGNsYXNzIExpY2hUcmluaFRhdURBT0ltcGwgaW1wbGVtZW50cyBMaWNoVHJpbmhUYXVEQU8ge1xuICAgIDE0XHQgICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyIGVtO1xuICAgIDE1XHQgICAgcHVibGljIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRBbGxMaXN0KCkge1xuICAgIDE2XHQgICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShcIm1hcmlhZGJcIilcbiAgICAxN1x0ICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7XG4gICAgMThcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJmNGM2MGM4NS02YmEyLTQwYzAtYWQ0Mi05NDRmODJiMmU2N2E7dG9vbHVfdnJ0eF8wMTVSYlczRmZFWEZncWR5M3VHYUV1WVkiOnsicGhhc2UiOjh9LCIyODJhYTVlOC1kZjMxLTQyOWQtYWQ5NS03YjljNmJkZmM1Mjc7dG9vbHVfdnJ0eF8wMUZ0ZWdUWkdjYVhEcXdnU214dWp3WUoiOnsicGhhc2UiOjgsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xpY2hUcmluaFRhdURBT0ltcGwuamF2YTpcbiAgICAgMVx0cGFja2FnZSBkYW8uaW1wbDtcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBkYW8uTGljaFRyaW5oVGF1REFPO1xuICAgICA0XHRpbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyO1xuICAgICA1XHRpbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlUcmFuc2FjdGlvbjtcbiAgICAgNlx0aW1wb3J0IGxvbWJvay5BbGxBcmdzQ29uc3RydWN0b3I7XG4gICAgIDdcdGltcG9ydCBtb2RlbC5MaWNoVHJpbmhUYXU7XG4gICAgIDhcdFxuICAgICA5XHRpbXBvcnQgamF2YS51dGlsLkxpc3Q7XG4gICAgMTBcdFxuICAgIDExXHRAQWxsQXJnc0NvbnN0cnVjdG9yXG4gICAgMTJcdHB1YmxpYyBjbGFzcyBMaWNoVHJpbmhUYXVEQU9JbXBsIGltcGxlbWVudHMgTGljaFRyaW5oVGF1REFPIHtcbiAgICAxM1x0ICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbTtcbiAgICAxNFx0XG4gICAgMTVcdCAgICBAT3ZlcnJpZGVcbiAgICAxNlx0ICAgIHB1YmxpYyBMaXN0PExpY2hUcmluaFRhdT4gZ2V0QWxsTGlzdCgpIHtcbiAgICAxN1x0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgMThcdCAgICAgICAgTGlzdDxMaWNoVHJpbmhUYXU+IGxpc3QgPSBudWxsO1xuICAgIDE5XHQgICAgICAgIHRyeSB7XG4gICAgMjBcdCAgICAgICAgICAgIHR4LmJlZ2luKCk7XG4gICAgMjFcdCAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShcIlNFTEVDVCBsdHQgRlJPTSBMaWNoVHJpbmhUYXUgbHR0XCIsIExpY2hUcmluaFRhdS5jbGFzcykuZ2V0UmVzdWx0TGlzdCgpO1xuICAgIDIyXHQgICAgICAgICAgICB0eC5jb21taXQoKTtcbiAgICAyM1x0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDI0XHQgICAgICAgICAgICB0eC5yb2xsYmFjaygpO1xuICAgIDI1XHQgICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4buXaSBraGkgbOG6pXkgZGFuaCBzw6FjaCBMaWNoVHJpbmhUYXVcIik7XG4gICAgMjZcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgMjdcdCAgICAgICAgfVxuICAgIDI4XHQgICAgICAgIHJldHVybiBsaXN0O1xuICAgIDI5XHQgICAgfVxuICAgIDMwXHRcbiAgICAzMVx0ICAgIEBPdmVycmlkZVxuICAgIDMyXHQgICAgcHVibGljIExpY2hUcmluaFRhdSBnZXRCeUlkKFN0cmluZyBpZCkge1xuICAgIDMzXHQgICAgICAgIHJldHVybiBlbS5maW5kKExpY2hUcmluaFRhdS5jbGFzcywgaWQpO1xuICAgIDM0XHQgICAgfVxuICAgIDM1XHRcbiAgICAzNlx0ICAgIEBPdmVycmlkZVxuICAgIDM3XHQgICAgcHVibGljIGJvb2xlYW4gc2F2ZShMaWNoVHJpbmhUYXUgdCkge1xuICAgIDM4XHQgICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAzOVx0ICAgICAgICB0cnkge1xuICAgIDQwXHQgICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgIDQxXHQgICAgICAgICAgICBlbS5wZXJzaXN0KHQpO1xuICAgIDQyXHQgICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICA0M1x0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgNDRcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICA0NVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICA0Nlx0ICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICA0N1x0ICAgICAgICB9XG4gICAgNDhcdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIDQ5XHQgICAgfVxuICAgIDUwXHRcbiAgICA1MVx0ICAgIEBPdmVycmlkZVxuICAgIDUyXHQgICAgcHVibGljIGJvb2xlYW4gdXBkYXRlKExpY2hUcmluaFRhdSB0KSB7XG4gICAgNTNcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgIDU0XHQgICAgICAgIHRyeSB7XG4gICAgNTVcdCAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgNTZcdCAgICAgICAgICAgIGVtLm1lcmdlKHQpO1xuICAgIDU3XHQgICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICA1OFx0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgNTlcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICA2MFx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICA2MVx0ICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICA2Mlx0ICAgICAgICB9XG4gICAgNjNcdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIDY0XHQgICAgfVxuICAgIDY1XHRcbiAgICA2Nlx0ICAgIEBPdmVycmlkZVxuICAgIDY3XHQgICAgcHVibGljIGJvb2xlYW4gZGVsZXRlKExpY2hUcmluaFRhdSBsaWNoVHJpbmhUYXUpIHtcbiAgICA2OFx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgNjlcdCAgICAgICAgdHJ5IHtcbiAgICA3MFx0ICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICA3MVx0ICAgICAgICAgICAgaWYgKCFlbS5jb250YWlucyhsaWNoVHJpbmhUYXUpKSB7XG4gICAgNzJcdCAgICAgICAgICAgICAgICBsaWNoVHJpbmhUYXUgPSBlbS5tZXJnZShsaWNoVHJpbmhUYXUpO1xuICAgIDczXHQgICAgICAgICAgICB9XG4gICAgNzRcdCAgICAgICAgICAgIGVtLnJlbW92ZShsaWNoVHJpbmhUYXUpO1xuICAgIDc1XHQgICAgICAgICAgICB0ci5jb21taXQoKTtcbiAgICA3Nlx0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgNzdcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICA3OFx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICA3OVx0ICAgICAgICAgICAgdHIucm9sbGJhY2soKTtcbiAgICA4MFx0ICAgICAgICB9XG4gICAgODFcdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIDgyXHQgICAgfVxuICAgIDgzXHRcbiAgICA4NFx0ICAgIHB1YmxpYyBib29sZWFuIGRlbGV0ZShTdHJpbmcgaWQpIHtcbiAgICA4NVx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgODZcdCAgICAgICAgdHJ5IHtcbiAgICA4N1x0ICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICA4OFx0ICAgICAgICAgICAgTGljaFRyaW5oVGF1IHQgPSBlbS5maW5kKExpY2hUcmluaFRhdS5jbGFzcywgaWQpO1xuICAgIDg5XHQgICAgICAgICAgICBpZiAodCAhPSBudWxsKSB7XG4gICAgOTBcdCAgICAgICAgICAgICAgICBlbS5yZW1vdmUodCk7XG4gICAgOTFcdCAgICAgICAgICAgIH1cbiAgICA5Mlx0ICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgOTNcdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIDk0XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgOTVcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgOTZcdCAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgOTdcdCAgICAgICAgfVxuICAgIDk4XHQgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICA5OVx0ICAgIH1cbiAgIDEwMFx0fVxuICAgMTAxXHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDEwMVxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZDA5NDk3ZGMtNzZjZC00ODYzLWJmYmUtNmU0NTM4ZGNmNzc4O3Rvb2x1X3ZydHhfMDFDRVpXTndnMnNRdFU2bnhCVVNkYmZYIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9MaWNoVHJpbmhUYXVEQU9JbXBsLmphdmE6XG4gICAgIDFcdHBhY2thZ2UgZGFvLmltcGw7XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgZGFvLkxpY2hUcmluaFRhdURBTztcbiAgICAgNFx0aW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjtcbiAgICAgNVx0aW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5VHJhbnNhY3Rpb247XG4gICAgIDZcdGltcG9ydCBsb21ib2suQWxsQXJnc0NvbnN0cnVjdG9yO1xuICAgICA3XHRpbXBvcnQgbW9kZWwuTGljaFRyaW5oVGF1O1xuICAgICA4XHRcbiAgICAgOVx0aW1wb3J0IGphdmEudXRpbC5MaXN0O1xuICAgIDEwXHRcbiAgICAxMVx0QEFsbEFyZ3NDb25zdHJ1Y3RvclxuICAgIDEyXHRwdWJsaWMgY2xhc3MgTGljaFRyaW5oVGF1REFPSW1wbCBpbXBsZW1lbnRzIExpY2hUcmluaFRhdURBTyB7XG4gICAgMTNcdCAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG4gICAgMTRcdFxuICAgIDE1XHQgICAgQE92ZXJyaWRlXG4gICAgMTZcdCAgICBwdWJsaWMgTGlzdDxMaWNoVHJpbmhUYXU+IGdldEFsbExpc3QoKSB7XG4gICAgMTdcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgIDE4XHQgICAgICAgIExpc3Q8TGljaFRyaW5oVGF1PiBsaXN0ID0gbnVsbDtcbiAgICAxOVx0ICAgICAgICB0cnkge1xuICAgIDIwXHQgICAgICAgICAgICB0eC5iZWdpbigpO1xuICAgIDIxXHQgICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJTRUxFQ1QgbHR0IEZST00gTGljaFRyaW5oVGF1IGx0dFwiLCBMaWNoVHJpbmhUYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAyMlx0ICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgMjNcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAyNFx0ICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAyNVx0ICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggTGljaFRyaW5oVGF1XCIpO1xuICAgIDI2XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDI3XHQgICAgICAgIH1cbiAgICAyOFx0ICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAyOVx0ICAgIH1cbiAgICAzMFx0XG4gICAgMzFcdCAgICBAT3ZlcnJpZGVcbiAgICAzMlx0ICAgIHB1YmxpYyBMaWNoVHJpbmhUYXUgZ2V0QnlJZChTdHJpbmcgaWQpIHtcbiAgICAzM1x0ICAgICAgICByZXR1cm4gZW0uZmluZChMaWNoVHJpbmhUYXUuY2xhc3MsIGlkKTtcbiAgICAzNFx0ICAgIH1cbiAgICAzNVx0XG4gICAgMzZcdCAgICBAT3ZlcnJpZGVcbiAgICAzN1x0ICAgIHB1YmxpYyBib29sZWFuIHNhdmUoTGljaFRyaW5oVGF1IHQpIHtcbiAgICAzOFx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgMzlcdCAgICAgICAgdHJ5IHtcbiAgICA0MFx0ICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICA0MVx0ICAgICAgICAgICAgZW0ucGVyc2lzdCh0KTtcbiAgICA0Mlx0ICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgNDNcdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIDQ0XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgNDVcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgNDZcdCAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgNDdcdCAgICAgICAgfVxuICAgIDQ4XHQgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICA0OVx0ICAgIH1cbiAgICA1MFx0XG4gICAgNTFcdCAgICBAT3ZlcnJpZGVcbiAgICA1Mlx0ICAgIHB1YmxpYyBib29sZWFuIHVwZGF0ZShMaWNoVHJpbmhUYXUgdCkge1xuICAgIDUzXHQgICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICA1NFx0ICAgICAgICB0cnkge1xuICAgIDU1XHQgICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgIDU2XHQgICAgICAgICAgICBlbS5tZXJnZSh0KTtcbiAgICA1N1x0ICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgNThcdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIDU5XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgNjBcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgNjFcdCAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgNjJcdCAgICAgICAgfVxuICAgIDYzXHQgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICA2NFx0ICAgIH1cbiAgICA2NVx0XG4gICAgNjZcdCAgICBAT3ZlcnJpZGVcbiAgICA2N1x0ICAgIHB1YmxpYyBib29sZWFuIGRlbGV0ZShMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1KSB7XG4gICAgNjhcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgIDY5XHQgICAgICAgIHRyeSB7XG4gICAgNzBcdCAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgNzFcdCAgICAgICAgICAgIGlmICghZW0uY29udGFpbnMobGljaFRyaW5oVGF1KSkge1xuICAgIDcyXHQgICAgICAgICAgICAgICAgbGljaFRyaW5oVGF1ID0gZW0ubWVyZ2UobGljaFRyaW5oVGF1KTtcbiAgICA3M1x0ICAgICAgICAgICAgfVxuICAgIDc0XHQgICAgICAgICAgICBlbS5yZW1vdmUobGljaFRyaW5oVGF1KTtcbiAgICA3NVx0ICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgNzZcdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIDc3XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgNzhcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgNzlcdCAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgODBcdCAgICAgICAgfVxuICAgIDgxXHQgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICA4Mlx0ICAgIH1cbiAgICA4M1x0XG4gICAgODRcdCAgICBwdWJsaWMgYm9vbGVhbiBkZWxldGUoU3RyaW5nIGlkKSB7XG4gICAgODVcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgIDg2XHQgICAgICAgIHRyeSB7XG4gICAgODdcdCAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgODhcdCAgICAgICAgICAgIExpY2hUcmluaFRhdSB0ID0gZW0uZmluZChMaWNoVHJpbmhUYXUuY2xhc3MsIGlkKTtcbiAgICA4OVx0ICAgICAgICAgICAgaWYgKHQgIT0gbnVsbCkge1xuICAgIDkwXHQgICAgICAgICAgICAgICAgZW0ucmVtb3ZlKHQpO1xuICAgIDkxXHQgICAgICAgICAgICB9XG4gICAgOTJcdCAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgIDkzXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICA5NFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDk1XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDk2XHQgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgIDk3XHQgICAgICAgIH1cbiAgICA5OFx0ICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgOTlcdCAgICB9XG4gICAxMDBcdH1cbiAgIDEwMVx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAxMDFcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjAyNjY0ZDg0LWRjNTktNDZiNi1hNDEyLTQzNDkwYjcyOWFiOTt0b29sdV92cnR4XzAxWTdDeTRUZ0RqYUdzdVV0cmlGOVhqZyI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIEQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL0xpY2hUcmluaFRhdURBTy5qYXZhOlxuICAgICAxXHRwYWNrYWdlIGRhbztcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBtb2RlbC5MaWNoVHJpbmhUYXU7XG4gICAgIDRcdFxuICAgICA1XHRpbXBvcnQgamF2YS51dGlsLkxpc3Q7XG4gICAgIDZcdFxuICAgICA3XHRwdWJsaWMgaW50ZXJmYWNlIExpY2hUcmluaFRhdURBTyB7XG4gICAgIDhcdCAgICBMaXN0PExpY2hUcmluaFRhdT4gZ2V0QWxsTGlzdCgpO1xuICAgICA5XHQgICAgTGljaFRyaW5oVGF1IGdldEJ5SWQoU3RyaW5nIGlkKTtcbiAgICAxMFx0ICAgIGJvb2xlYW4gc2F2ZShMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1KTtcbiAgICAxMVx0ICAgIGJvb2xlYW4gdXBkYXRlKExpY2hUcmluaFRhdSBsaWNoVHJpbmhUYXUpO1xuICAgIDEyXHQgICAgYm9vbGVhbiBkZWxldGUoTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdSk7XG4gICAgMTNcdH1cbiAgICAxNFx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAxNFxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZTRiNTNhOTMtZjM0MC00YWFmLWE0MmUtY2ZhMmNmODE3ODk2O3Rvb2x1X3ZydHhfMDFNZ1dpQWFQTXJIa3ZCN01aVjJUWU5pIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9tb2RlbC9MaWNoVHJpbmhUYXUuamF2YTpcbiAgICAgMVx0cGFja2FnZSBtb2RlbDtcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLio7XG4gICAgIDRcdGltcG9ydCBsb21ib2suRGF0YTtcbiAgICAgNVx0aW1wb3J0IGxvbWJvay5FcXVhbHNBbmRIYXNoQ29kZTtcbiAgICAgNlx0aW1wb3J0IGxvbWJvay5Ub1N0cmluZztcbiAgICAgN1x0XG4gICAgIDhcdGltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlO1xuICAgICA5XHRpbXBvcnQgamF2YS50aW1lLkxvY2FsVGltZTtcbiAgICAxMFx0aW1wb3J0IGphdmEudXRpbC5TZXQ7XG4gICAgMTFcdFxuICAgIDEyXHRARW50aXR5XG4gICAgMTNcdEBEYXRhXG4gICAgMTRcdEBFcXVhbHNBbmRIYXNoQ29kZShvbmx5RXhwbGljaXRseUluY2x1ZGVkID0gdHJ1ZSlcbiAgICAxNVx0QFRhYmxlKG5hbWUgPSBcImxpY2h0cmluaHRhdVwiKVxuICAgIDE2XHRwdWJsaWMgY2xhc3MgTGljaFRyaW5oVGF1IHtcbiAgICAxN1x0ICAgIEBJZFxuICAgIDE4XHQgICAgQENvbHVtbihuYW1lID0gXCJtYV9saWNoXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcIlZBUkNIQVIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlLHVuaXF1ZSA9IHRydWUpXG4gICAgMTlcdCAgICBwcml2YXRlICBTdHJpbmcgbWFMaWNoO1xuICAgIDIwXHQgICAgQENvbHVtbihuYW1lID0gXCJnaW9fZGlcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiVElNRVwiLG51bGxhYmxlID0gZmFsc2UpXG4gICAgMjFcdCAgICBwcml2YXRlIExvY2FsVGltZSBnaW9EaTtcbiAgICAyMlx0ICAgIEBDb2x1bW4obmFtZSA9IFwibmdheV9kaVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJEQVRFXCIsbnVsbGFibGUgPSBmYWxzZSlcbiAgICAyM1x0ICAgIHByaXZhdGUgTG9jYWxEYXRlIG5nYXlEaTtcbiAgICAyNFx0ICAgIEBDb2x1bW4obmFtZSA9IFwidHJhbmdfdGhhaVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJOVkFSQ0hBUig1MClcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICAyNVx0ICAgIHByaXZhdGUgU3RyaW5nIHRyYW5nVGhhaTtcbiAgICAyNlx0XG4gICAgMjdcdCAgICBATWFueVRvT25lXG4gICAgMjhcdCAgICBASm9pbkNvbHVtbihuYW1lID0gXCJ0YXVfbWFfdGF1XCIsIHJlZmVyZW5jZWRDb2x1bW5OYW1lID0gXCJtYV90YXVcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICAyOVx0ICAgIHByaXZhdGUgVGF1IHRhdTtcbiAgICAzMFx0XG4gICAgMzFcdCAgICBAT25lVG9NYW55KG1hcHBlZEJ5ID0gXCJsaWNoVHJpbmhUYXVcIilcbiAgICAzMlx0ICAgIEBUb1N0cmluZy5FeGNsdWRlXG4gICAgMzNcdCAgICBwcml2YXRlIFNldDxWZVRhdT4gdmVfdGF1cztcbiAgICAzNFx0fVxuICAgIDM1XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDM1XG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJiMWY4NGQ4NC0zZjdjLTQ5MWMtYjZmMC03YTRlMTU0NWNkM2Y7dG9vbHVfdnJ0eF8wMTZ0M3JuRVRROGVMVk1vczhQTXVOUXoiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9MaWNoVHJpbmhUYXVEQU8uamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgICAxXHRwYWNrYWdlIGRhbztcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBtb2RlbC5MaWNoVHJpbmhUYXU7XG4gICAgIDRcdFxuICAgICA1XHRpbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZTtcbiAgICAgNlx0aW1wb3J0IGphdmEudXRpbC5MaXN0O1xuICAgICA3XHRcbiAgICAgOFx0cHVibGljIGludGVyZmFjZSBMaWNoVHJpbmhUYXVEQU8ge1xuICAgICA5XHQgICAgTGlzdDxMaWNoVHJpbmhUYXU+IGdldEFsbExpc3QoKTtcbiAgICAxMFx0ICAgIExpY2hUcmluaFRhdSBnZXRCeUlkKFN0cmluZyBpZCk7XG4gICAgMTFcdCAgICBib29sZWFuIHNhdmUoTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdSk7XG4gICAgMTJcdCAgICBib29sZWFuIHVwZGF0ZShMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1KTtcbiAgICAxM1x0ICAgIGJvb2xlYW4gZGVsZXRlKExpY2hUcmluaFRhdSBsaWNoVHJpbmhUYXUpO1xuICAgIDE0XHQgICAgTGlzdDxMaWNoVHJpbmhUYXU+IGdldExpc3RMaWNoVHJpbmhUYXVCeURhdGUoTG9jYWxEYXRlIGRhdGUpO1xuICAgIDE1XHR9XG4gICAgMTZcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI0YzliNjkxMi1jMzJhLTRjYjUtOTQxNy04ZGZjNjUzMWUxN2U7dG9vbHVfdnJ0eF8wMTlmQTRHYTZuczlid1lzQ0R5SEFKYWoiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xpY2hUcmluaFRhdURBT0ltcGwuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgICAxXHRwYWNrYWdlIGRhby5pbXBsO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGRhby5MaWNoVHJpbmhUYXVEQU87XG4gICAgIDRcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7XG4gICAgIDVcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eVRyYW5zYWN0aW9uO1xuICAgICA2XHRpbXBvcnQgbG9tYm9rLkFsbEFyZ3NDb25zdHJ1Y3RvcjtcbiAgICAgN1x0aW1wb3J0IG1vZGVsLkxpY2hUcmluaFRhdTtcbiAgICAgOFx0XG4gICAgIDlcdGltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlO1xuICAgIDEwXHRpbXBvcnQgamF2YS51dGlsLkxpc3Q7XG4gICAgMTFcdFxuICAgIDEyXHRAQWxsQXJnc0NvbnN0cnVjdG9yXG4gICAgMTNcdHB1YmxpYyBjbGFzcyBMaWNoVHJpbmhUYXVEQU9JbXBsIGltcGxlbWVudHMgTGljaFRyaW5oVGF1REFPIHtcbiAgICAxNFx0ICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBlbTtcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZTQ2NTU3NjMtMjA3Ni00ZjkxLWExMDUtYzcxNTM3MDIwZDZhO3Rvb2x1X3ZydHhfMDFLUUNHNVRXTkNzanUzckphVlBSdjRrIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vaW1wbC9MaWNoVHJpbmhUYXVEQU9JbXBsLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICA4MVx0ICAgICAgICB9XG4gICAgODJcdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIDgzXHQgICAgfVxuICAgIDg0XHRcbiAgICA4NVx0ICAgIHB1YmxpYyBib29sZWFuIGRlbGV0ZShTdHJpbmcgaWQpIHtcbiAgICA4Nlx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgODdcdCAgICAgICAgdHJ5IHtcbiAgICA4OFx0ICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICA4OVx0ICAgICAgICAgICAgTGljaFRyaW5oVGF1IHQgPSBlbS5maW5kKExpY2hUcmluaFRhdS5jbGFzcywgaWQpO1xuICAgIDkwXHQgICAgICAgICAgICBpZiAodCAhPSBudWxsKSB7XG4gICAgOTFcdCAgICAgICAgICAgICAgICBlbS5yZW1vdmUodCk7XG4gICAgOTJcdCAgICAgICAgICAgIH1cbiAgICA5M1x0ICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgOTRcdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIDk1XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgOTZcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgOTdcdCAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgOThcdCAgICAgICAgfVxuICAgIDk5XHQgICAgICAgIHJldHVybiBmYWxzZTtcbiAgIDEwMFx0ICAgIH1cbiAgIDEwMVx0XG4gICAxMDJcdCAgICBAT3ZlcnJpZGVcbiAgIDEwM1x0ICAgIHB1YmxpYyBMaXN0PExpY2hUcmluaFRhdT4gZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZShMb2NhbERhdGUgZGF0ZSkge1xuICAgMTA0XHQgICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgIDEwNVx0ICAgICAgICBMaXN0PExpY2hUcmluaFRhdT4gbGlzdCA9IG51bGw7XG4gICAxMDZcdCAgICAgICAgdHJ5IHtcbiAgIDEwN1x0ICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgIDEwOFx0ICAgICAgICAgICAgU3RyaW5nIGpwcWwgPSBcIlNFTEVDVCBsdHQgRlJPTSBMaWNoVHJpbmhUYXUgbHR0IFdIRVJFIGx0dC5uZ2F5RGkgPSA6ZGF0ZVwiO1xuICAgMTA5XHQgICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoanBxbCwgTGljaFRyaW5oVGF1LmNsYXNzKVxuICAgMTEwXHQgICAgICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJkYXRlXCIsIGRhdGUpXG4gICAxMTFcdCAgICAgICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgIDExMlx0ICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAxMTNcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDExNFx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDExNVx0ICAgICAgICAgICAgaWYgKHRyLmlzQWN0aXZlKCkpIHtcbiAgIDExNlx0ICAgICAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAxMTdcdCAgICAgICAgICAgIH1cbiAgIDExOFx0ICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggTGljaFRyaW5oVGF1IHRoZW8gbmfDoHlcIik7XG4gICAxMTlcdCAgICAgICAgfVxuICAgMTIwXHQgICAgICAgIHJldHVybiBsaXN0O1xuICAgMTIxXHQgICAgfVxuICAgMTIyXHR9XG4gICAxMjNcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJhNGRhZjdkZS1lMDZjLTRlNzEtOWYxYS1kOWQ2ZTQ0YjA2MTI7dG9vbHVfdnJ0eF8wMUs0Q1pKNHR3bVNRWnc0UWdOMWRzR0oiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL2Rhby9pbXBsL0xpY2hUcmluaFRhdURBT0ltcGwuamF2YTpcbiAgICAgMVx0cGFja2FnZSBkYW8uaW1wbDtcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBkYW8uTGljaFRyaW5oVGF1REFPO1xuICAgICA0XHRpbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyO1xuICAgICA1XHRpbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5FbnRpdHlUcmFuc2FjdGlvbjtcbiAgICAgNlx0aW1wb3J0IGxvbWJvay5BbGxBcmdzQ29uc3RydWN0b3I7XG4gICAgIDdcdGltcG9ydCBtb2RlbC5MaWNoVHJpbmhUYXU7XG4gICAgIDhcdFxuICAgICA5XHRpbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZTtcbiAgICAxMFx0aW1wb3J0IGphdmEudXRpbC5MaXN0O1xuICAgIDExXHRcbiAgICAxMlx0QEFsbEFyZ3NDb25zdHJ1Y3RvclxuICAgIDEzXHRwdWJsaWMgY2xhc3MgTGljaFRyaW5oVGF1REFPSW1wbCBpbXBsZW1lbnRzIExpY2hUcmluaFRhdURBTyB7XG4gICAgMTRcdCAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG4gICAgMTVcdFxuICAgIDE2XHQgICAgQE92ZXJyaWRlXG4gICAgMTdcdCAgICBwdWJsaWMgTGlzdDxMaWNoVHJpbmhUYXU+IGdldEFsbExpc3QoKSB7XG4gICAgMThcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHggPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgIDE5XHQgICAgICAgIExpc3Q8TGljaFRyaW5oVGF1PiBsaXN0ID0gbnVsbDtcbiAgICAyMFx0ICAgICAgICB0cnkge1xuICAgIDIxXHQgICAgICAgICAgICB0eC5iZWdpbigpO1xuICAgIDIyXHQgICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoXCJTRUxFQ1QgbHR0IEZST00gTGljaFRyaW5oVGF1IGx0dFwiLCBMaWNoVHJpbmhUYXUuY2xhc3MpLmdldFJlc3VsdExpc3QoKTtcbiAgICAyM1x0ICAgICAgICAgICAgdHguY29tbWl0KCk7XG4gICAgMjRcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAyNVx0ICAgICAgICAgICAgdHgucm9sbGJhY2soKTtcbiAgICAyNlx0ICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggTGljaFRyaW5oVGF1XCIpO1xuICAgIDI3XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDI4XHQgICAgICAgIH1cbiAgICAyOVx0ICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAzMFx0ICAgIH1cbiAgICAzMVx0XG4gICAgMzJcdCAgICBAT3ZlcnJpZGVcbiAgICAzM1x0ICAgIHB1YmxpYyBMaWNoVHJpbmhUYXUgZ2V0QnlJZChTdHJpbmcgaWQpIHtcbiAgICAzNFx0ICAgICAgICByZXR1cm4gZW0uZmluZChMaWNoVHJpbmhUYXUuY2xhc3MsIGlkKTtcbiAgICAzNVx0ICAgIH1cbiAgICAzNlx0XG4gICAgMzdcdCAgICBAT3ZlcnJpZGVcbiAgICAzOFx0ICAgIHB1YmxpYyBib29sZWFuIHNhdmUoTGljaFRyaW5oVGF1IHQpIHtcbiAgICAzOVx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgNDBcdCAgICAgICAgdHJ5IHtcbiAgICA0MVx0ICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgICA0Mlx0ICAgICAgICAgICAgZW0ucGVyc2lzdCh0KTtcbiAgICA0M1x0ICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgNDRcdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIDQ1XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgNDZcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgNDdcdCAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgNDhcdCAgICAgICAgfVxuICAgIDQ5XHQgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICA1MFx0ICAgIH1cbiAgICA1MVx0XG4gICAgNTJcdCAgICBAT3ZlcnJpZGVcbiAgICA1M1x0ICAgIHB1YmxpYyBib29sZWFuIHVwZGF0ZShMaWNoVHJpbmhUYXUgdCkge1xuICAgIDU0XHQgICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICA1NVx0ICAgICAgICB0cnkge1xuICAgIDU2XHQgICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgIDU3XHQgICAgICAgICAgICBlbS5tZXJnZSh0KTtcbiAgICA1OFx0ICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgNTlcdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIDYwXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgNjFcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgNjJcdCAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgNjNcdCAgICAgICAgfVxuICAgIDY0XHQgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICA2NVx0ICAgIH1cbiAgICA2Nlx0XG4gICAgNjdcdCAgICBAT3ZlcnJpZGVcbiAgICA2OFx0ICAgIHB1YmxpYyBib29sZWFuIGRlbGV0ZShMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1KSB7XG4gICAgNjlcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgIDcwXHQgICAgICAgIHRyeSB7XG4gICAgNzFcdCAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgNzJcdCAgICAgICAgICAgIGlmICghZW0uY29udGFpbnMobGljaFRyaW5oVGF1KSkge1xuICAgIDczXHQgICAgICAgICAgICAgICAgbGljaFRyaW5oVGF1ID0gZW0ubWVyZ2UobGljaFRyaW5oVGF1KTtcbiAgICA3NFx0ICAgICAgICAgICAgfVxuICAgIDc1XHQgICAgICAgICAgICBlbS5yZW1vdmUobGljaFRyaW5oVGF1KTtcbiAgICA3Nlx0ICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAgNzdcdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIDc4XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgNzlcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgODBcdCAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAgODFcdCAgICAgICAgfVxuICAgIDgyXHQgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICA4M1x0ICAgIH1cbiAgICA4NFx0XG4gICAgODVcdCAgICBwdWJsaWMgYm9vbGVhbiBkZWxldGUoU3RyaW5nIGlkKSB7XG4gICAgODZcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgIDg3XHQgICAgICAgIHRyeSB7XG4gICAgODhcdCAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAgODlcdCAgICAgICAgICAgIExpY2hUcmluaFRhdSB0ID0gZW0uZmluZChMaWNoVHJpbmhUYXUuY2xhc3MsIGlkKTtcbiAgICA5MFx0ICAgICAgICAgICAgaWYgKHQgIT0gbnVsbCkge1xuICAgIDkxXHQgICAgICAgICAgICAgICAgZW0ucmVtb3ZlKHQpO1xuICAgIDkyXHQgICAgICAgICAgICB9XG4gICAgOTNcdCAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgIDk0XHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICA5NVx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDk2XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDk3XHQgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgIDk4XHQgICAgICAgIH1cbiAgICA5OVx0ICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAxMDBcdCAgICB9XG4gICAxMDFcdFxuICAgMTAyXHQgICAgQE92ZXJyaWRlXG4gICAxMDNcdCAgICBwdWJsaWMgTGlzdDxMaWNoVHJpbmhUYXU+IGdldExpc3RMaWNoVHJpbmhUYXVCeURhdGUoTG9jYWxEYXRlIGRhdGUpIHtcbiAgIDEwNFx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAxMDVcdCAgICAgICAgTGlzdDxMaWNoVHJpbmhUYXU+IGxpc3QgPSBudWxsO1xuICAgMTA2XHQgICAgICAgIHRyeSB7XG4gICAxMDdcdCAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAxMDhcdCAgICAgICAgICAgIFN0cmluZyBqcHFsID0gXCJTRUxFQ1QgbHR0IEZST00gTGljaFRyaW5oVGF1IGx0dCBXSEVSRSBsdHQubmdheURpID0gOmRhdGVcIjtcbiAgIDEwOVx0ICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZVF1ZXJ5KGpwcWwsIExpY2hUcmluaFRhdS5jbGFzcylcbiAgIDExMFx0ICAgICAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZGF0ZVwiLCBkYXRlKVxuICAgMTExXHQgICAgICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7XG4gICAxMTJcdCAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgMTEzXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAxMTRcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAxMTVcdCAgICAgICAgICAgIGlmICh0ci5pc0FjdGl2ZSgpKSB7XG4gICAxMTZcdCAgICAgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgMTE3XHQgICAgICAgICAgICB9XG4gICAxMThcdCAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSBs4bqleSBkYW5oIHPDoWNoIExpY2hUcmluaFRhdSB0aGVvIG5nw6B5XCIpO1xuICAgMTE5XHQgICAgICAgIH1cbiAgIDEyMFx0ICAgICAgICByZXR1cm4gbGlzdDtcbiAgIDEyMVx0ICAgIH1cbiAgIDEyMlx0fVxuICAgMTIzXHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDEyM1xuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiNjk3MjU0ZjUtOGI3Ny00ZTgzLWFlZjctNGQ5N2ExN2UxMzk5O3Rvb2x1X3ZydHhfMDFXNEM0Q3lab2JTZ2cxZGszaTJzQUh1Ijp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9kYW8vTGljaFRyaW5oVGF1REFPLmphdmE6XG4gICAgIDFcdHBhY2thZ2UgZGFvO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IG1vZGVsLkxpY2hUcmluaFRhdTtcbiAgICAgNFx0XG4gICAgIDVcdGltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlO1xuICAgICA2XHRpbXBvcnQgamF2YS51dGlsLkxpc3Q7XG4gICAgIDdcdFxuICAgICA4XHRwdWJsaWMgaW50ZXJmYWNlIExpY2hUcmluaFRhdURBTyB7XG4gICAgIDlcdCAgICBMaXN0PExpY2hUcmluaFRhdT4gZ2V0QWxsTGlzdCgpO1xuICAgIDEwXHQgICAgTGljaFRyaW5oVGF1IGdldEJ5SWQoU3RyaW5nIGlkKTtcbiAgICAxMVx0ICAgIGJvb2xlYW4gc2F2ZShMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1KTtcbiAgICAxMlx0ICAgIGJvb2xlYW4gdXBkYXRlKExpY2hUcmluaFRhdSBsaWNoVHJpbmhUYXUpO1xuICAgIDEzXHQgICAgYm9vbGVhbiBkZWxldGUoTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdSk7XG4gICAgMTRcdCAgICBMaXN0PExpY2hUcmluaFRhdT4gZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZShMb2NhbERhdGUgZGF0ZSk7XG4gICAgMTVcdH1cbiAgICAxNlx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAxNlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiNjg0ZTQ1ODItNTUzMi00YzhjLWE0ZTQtMzRjMTljYTI3ZmEwO3Rvb2x1X3ZydHhfMDE5dnJZTjVmc3g1WWthRGZNbmIzd0FWIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gRDovQ29kZS9QaGFuVGFuSmF2YU5ob21HUFQvUHJvamVjdF9CYW5WZVRhdVRhaUdhc0xhY0hvbmcvc3JjL21haW4vamF2YS9tb2RlbC9MaWNoVHJpbmhUYXUuamF2YTpcbiAgICAgMVx0cGFja2FnZSBtb2RlbDtcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLio7XG4gICAgIDRcdGltcG9ydCBsb21ib2suRGF0YTtcbiAgICAgNVx0aW1wb3J0IGxvbWJvay5FcXVhbHNBbmRIYXNoQ29kZTtcbiAgICAgNlx0aW1wb3J0IGxvbWJvay5Ub1N0cmluZztcbiAgICAgN1x0XG4gICAgIDhcdGltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlO1xuICAgICA5XHRpbXBvcnQgamF2YS50aW1lLkxvY2FsVGltZTtcbiAgICAxMFx0aW1wb3J0IGphdmEudXRpbC5TZXQ7XG4gICAgMTFcdFxuICAgIDEyXHRARW50aXR5XG4gICAgMTNcdEBEYXRhXG4gICAgMTRcdEBFcXVhbHNBbmRIYXNoQ29kZShvbmx5RXhwbGljaXRseUluY2x1ZGVkID0gdHJ1ZSlcbiAgICAxNVx0QFRhYmxlKG5hbWUgPSBcImxpY2h0cmluaHRhdVwiKVxuICAgIDE2XHRwdWJsaWMgY2xhc3MgTGljaFRyaW5oVGF1IHtcbiAgICAxN1x0ICAgIEBJZFxuICAgIDE4XHQgICAgQENvbHVtbihuYW1lID0gXCJtYV9saWNoXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcIlZBUkNIQVIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlLHVuaXF1ZSA9IHRydWUpXG4gICAgMTlcdCAgICBwcml2YXRlICBTdHJpbmcgbWFMaWNoO1xuICAgIDIwXHQgICAgQENvbHVtbihuYW1lID0gXCJnaW9fZGlcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwiVElNRVwiLG51bGxhYmxlID0gZmFsc2UpXG4gICAgMjFcdCAgICBwcml2YXRlIExvY2FsVGltZSBnaW9EaTtcbiAgICAyMlx0ICAgIEBDb2x1bW4obmFtZSA9IFwibmdheV9kaVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJEQVRFXCIsbnVsbGFibGUgPSBmYWxzZSlcbiAgICAyM1x0ICAgIHByaXZhdGUgTG9jYWxEYXRlIG5nYXlEaTtcbiAgICAyNFx0ICAgIEBDb2x1bW4obmFtZSA9IFwidHJhbmdfdGhhaVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJOVkFSQ0hBUig1MClcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICAyNVx0ICAgIHByaXZhdGUgU3RyaW5nIHRyYW5nVGhhaTtcbiAgICAyNlx0XG4gICAgMjdcdCAgICBATWFueVRvT25lXG4gICAgMjhcdCAgICBASm9pbkNvbHVtbihuYW1lID0gXCJ0YXVfbWFfdGF1XCIsIHJlZmVyZW5jZWRDb2x1bW5OYW1lID0gXCJtYV90YXVcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICAyOVx0ICAgIHByaXZhdGUgVGF1IHRhdTtcbiAgICAzMFx0XG4gICAgMzFcdCAgICBAT25lVG9NYW55KG1hcHBlZEJ5ID0gXCJsaWNoVHJpbmhUYXVcIilcbiAgICAzMlx0ICAgIEBUb1N0cmluZy5FeGNsdWRlXG4gICAgMzNcdCAgICBwcml2YXRlIFNldDxWZVRhdT4gdmVfdGF1cztcbiAgICAzNFx0fVxuICAgIDM1XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDM1XG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJiY2Y5NTcxZi0zYmJmLTRjZTUtODVjZC02OGQwYTdkM2Q4MDI7dG9vbHVfdnJ0eF8wMUNWOVJHWXZTSlRuWm15VWt3Wlo0SEIiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL21vZGVsL1RhdS5qYXZhOlxuICAgICAxXHRwYWNrYWdlIG1vZGVsO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuKjtcbiAgICAgNFx0aW1wb3J0IGxvbWJvay5EYXRhO1xuICAgICA1XHRpbXBvcnQgbG9tYm9rLkVxdWFsc0FuZEhhc2hDb2RlO1xuICAgICA2XHRpbXBvcnQgbG9tYm9rLlRvU3RyaW5nO1xuICAgICA3XHRcbiAgICAgOFx0aW1wb3J0IGphdmEudXRpbC5TZXQ7XG4gICAgIDlcdFxuICAgIDEwXHRARGF0YVxuICAgIDExXHRARW50aXR5XG4gICAgMTJcdEBFcXVhbHNBbmRIYXNoQ29kZShvbmx5RXhwbGljaXRseUluY2x1ZGVkID0gdHJ1ZSlcbiAgICAxM1x0QFRhYmxlKG5hbWUgPSBcInRhdVwiKVxuICAgIDE0XHRwdWJsaWMgY2xhc3MgVGF1IHtcbiAgICAxNVx0ICAgIEBJZFxuICAgIDE2XHQgICAgQEVxdWFsc0FuZEhhc2hDb2RlLkluY2x1ZGVcbiAgICAxN1x0ICAgIEBDb2x1bW4obmFtZSA9IFwibWFfdGF1XCIsIGNvbHVtbkRlZmluaXRpb24gPSBcInZhcmNoYXIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlLCB1bmlxdWUgPSB0cnVlKVxuICAgIDE4XHQgICAgcHJpdmF0ZSBTdHJpbmcgbWFUYXU7IC8vIE3DoyB0w6B1XG4gICAgMTlcdCAgICBAQ29sdW1uKG5hbWUgPSBcInRlbl90YXVcIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UpXG4gICAgMjBcdCAgICBARXF1YWxzQW5kSGFzaENvZGUuRXhjbHVkZVxuICAgIDIxXHQgICAgcHJpdmF0ZSBTdHJpbmcgdGVuVGF1O1xuICAgIDIyXHQgICAgQENvbHVtbihuYW1lID0gXCJzb190b2FcIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICAyM1x0ICAgIEBFcXVhbHNBbmRIYXNoQ29kZS5FeGNsdWRlLy8gVMOqbiB0w6B1XG4gICAgMjRcdCAgICBwcml2YXRlIGludCBzb1RvYTtcbiAgICAyNVx0ICAgIC8vIFPhu5EgdG9hXG4gICAgMjZcdCAgICBATWFueVRvT25lKGZldGNoID0gRmV0Y2hUeXBlLkxBWlkpXG4gICAgMjdcdCAgICBAVG9TdHJpbmcuRXhjbHVkZVxuICAgIDI4XHQgICAgQEpvaW5Db2x1bW4obmFtZSA9IFwibWFfdHV5ZW5cIiwgbnVsbGFibGUgPSBmYWxzZSlcbiAgICAyOVx0ICAgIHByaXZhdGUgVHV5ZW5UYXUgdHV5ZW5UYXU7IC8vIMSQ4buRaSB0xrDhu6NuZyBUdXllblRhdVxuICAgIDMwXHRcbiAgICAzMVx0ICAgIEBPbmVUb01hbnkobWFwcGVkQnkgPSBcInRhdVwiLCBjYXNjYWRlID0gQ2FzY2FkZVR5cGUuQUxMLCBvcnBoYW5SZW1vdmFsID0gdHJ1ZSlcbiAgICAzMlx0ICAgIEBUb1N0cmluZy5FeGNsdWRlXG4gICAgMzNcdCAgICBwcml2YXRlIFNldDxUb2FUYXU+IGRhbmhTYWNoVG9hVGF1O1xuICAgIDM0XHRcbiAgICAzNVx0ICAgIEBPbmVUb01hbnkobWFwcGVkQnkgPSBcInRhdVwiLCBjYXNjYWRlID0gQ2FzY2FkZVR5cGUuQUxMLCBvcnBoYW5SZW1vdmFsID0gdHJ1ZSlcbiAgICAzNlx0ICAgIEBUb1N0cmluZy5FeGNsdWRlXG4gICAgMzdcdCAgICBwcml2YXRlIFNldDxMaWNoVHJpbmhUYXU+IExpY2hUcmluaFRhdTtcbiAgICAzOFx0fVxuICAgIDM5XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDM5XG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCIzZTk0YzA0Yy01N2M0LTQyZWEtOTIyYS00MmUyN2JlMDM4ODM7dG9vbHVfdnJ0eF8wMUFUZG95Wm01eFJZQWFZaWV0ZEhlVlYiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBEOi9Db2RlL1BoYW5UYW5KYXZhTmhvbUdQVC9Qcm9qZWN0X0JhblZlVGF1VGFpR2FzTGFjSG9uZy9zcmMvbWFpbi9qYXZhL21vZGVsL1R1eWVuVGF1LmphdmE6XG4gICAgIDFcdHBhY2thZ2UgbW9kZWw7XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS4qO1xuICAgICA0XHRpbXBvcnQgbG9tYm9rLkRhdGE7XG4gICAgIDVcdGltcG9ydCBsb21ib2suRXF1YWxzQW5kSGFzaENvZGU7XG4gICAgIDZcdGltcG9ydCBsb21ib2suVG9TdHJpbmc7XG4gICAgIDdcdFxuICAgICA4XHRpbXBvcnQgamF2YS51dGlsLlNldDtcbiAgICAgOVx0XG4gICAgMTBcdEBEYXRhXG4gICAgMTFcdEBFbnRpdHlcbiAgICAxMlx0QFRhYmxlKG5hbWUgPSBcInR1eWVudGF1XCIpXG4gICAgMTNcdEBFcXVhbHNBbmRIYXNoQ29kZShvbmx5RXhwbGljaXRseUluY2x1ZGVkID0gdHJ1ZSlcbiAgICAxNFx0QE5hbWVkTmF0aXZlUXVlcmllcyh7XG4gICAgMTVcdCAgICAgICAgQE5hbWVkTmF0aXZlUXVlcnkobmFtZSA9IFwiVHV5ZW5UYXUuZmluZEJ5R2FEaUdhRGVuXCIsXG4gICAgMTZcdCAgICAgICAgICAgICAgICBxdWVyeSA9IFwic2VsZWN0ICogZnJvbSB0dXllbnRhdSB3aGVyZSBnYV9kaSA9ID8xIGFuZCBnYV9kZW4gPSA/MlwiLFxuICAgIDE3XHQgICAgICAgIHJlc3VsdENsYXNzID0gVHV5ZW5UYXUuY2xhc3MpLFxuICAgIDE4XHQgICAgICAgIEBOYW1lZE5hdGl2ZVF1ZXJ5KG5hbWUgPSBcIlR1eWVuVGF1LmZpbmRBbGxcIixcbiAgICAxOVx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5ID0gXCJzZWxlY3QgKiBmcm9tIHR1eWVudGF1XCIsXG4gICAgMjBcdCAgICAgICAgcmVzdWx0Q2xhc3MgPSBUdXllblRhdS5jbGFzcylcbiAgICAyMVx0fSlcbiAgICAyMlx0cHVibGljIGNsYXNzIFR1eWVuVGF1IHtcbiAgICAyM1x0ICAgIEBJZFxuICAgIDI0XHQgICAgQENvbHVtbihuYW1lID0gXCJtYV90dXllblwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIix1bmlxdWUgPSB0cnVlLCBudWxsYWJsZSA9IGZhbHNlKVxuICAgIDI1XHQgICAgQEVxdWFsc0FuZEhhc2hDb2RlLkluY2x1ZGVcbiAgICAyNlx0ICAgIHByaXZhdGUgU3RyaW5nIG1hVHV5ZW47XG4gICAgMjdcdCAgICBAQ29sdW1uKG5hbWUgPSBcInRlbl90dXllblwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSApXG4gICAgMjhcdCAgICBARXF1YWxzQW5kSGFzaENvZGUuRXhjbHVkZVxuICAgIDI5XHQgICAgcHJpdmF0ZSBTdHJpbmcgdGVuVHV5ZW47XG4gICAgMzBcdCAgICBAQ29sdW1uKG5hbWUgPSBcImdhX2RpXCIsIGNvbHVtbkRlZmluaXRpb24gPSBcInZhcmNoYXIoMjU1KVwiLCBudWxsYWJsZSA9IGZhbHNlIClcbiAgICAzMVx0ICAgIEBFcXVhbHNBbmRIYXNoQ29kZS5FeGNsdWRlXG4gICAgMzJcdCAgICBwcml2YXRlIFN0cmluZyBnYURpO1xuICAgIDMzXHQgICAgQENvbHVtbihuYW1lID0gXCJnYV9kZW5cIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UgKVxuICAgIDM0XHQgICAgQEVxdWFsc0FuZEhhc2hDb2RlLkV4Y2x1ZGVcbiAgICAzNVx0ICAgIHByaXZhdGUgU3RyaW5nIGdhRGVuO1xuICAgIDM2XHQgICAgQENvbHVtbihuYW1lID0gXCJkaWFfZGllbV9kaVwiLCBjb2x1bW5EZWZpbml0aW9uID0gXCJ2YXJjaGFyKDI1NSlcIiwgbnVsbGFibGUgPSBmYWxzZSApXG4gICAgMzdcdCAgICBARXF1YWxzQW5kSGFzaENvZGUuRXhjbHVkZVxuICAgIDM4XHQgICAgcHJpdmF0ZSBTdHJpbmcgZGlhRGllbURpO1xuICAgIDM5XHQgICAgQENvbHVtbihuYW1lID0gXCJkaWFfZGllbV9kZW5cIiwgY29sdW1uRGVmaW5pdGlvbiA9IFwidmFyY2hhcigyNTUpXCIsIG51bGxhYmxlID0gZmFsc2UgKVxuICAgIDQwXHQgICAgQEVxdWFsc0FuZEhhc2hDb2RlLkV4Y2x1ZGVcbiAgICA0MVx0ICAgIHByaXZhdGUgU3RyaW5nIGRpYURpZW1EZW47XG4gICAgNDJcdCAgICBAT25lVG9NYW55KG1hcHBlZEJ5ID0gXCJ0dXllblRhdVwiLCBjYXNjYWRlID0gQ2FzY2FkZVR5cGUuQUxMLCBvcnBoYW5SZW1vdmFsID0gdHJ1ZSlcbiAgICA0M1x0ICAgIEBUb1N0cmluZy5FeGNsdWRlXG4gICAgNDRcdCAgICBwcml2YXRlIFNldDxUYXU+IGRhbmhTYWNoVGF1O1xuICAgIDQ1XHR9XG4gICAgNDZcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogNDZcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImQ2NzhlMWI5LTE1M2YtNDNiNS05ZDBjLTYyNTlhZDk4YzZkZDt0b29sdV92cnR4XzAxQTFXVkxIaFU5ako2dHluNWFnckViTSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIEQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL0xpY2hUcmluaFRhdURBTy5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDFcdHBhY2thZ2UgZGFvO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IG1vZGVsLkxpY2hUcmluaFRhdTtcbiAgICAgNFx0XG4gICAgIDVcdGltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlO1xuICAgICA2XHRpbXBvcnQgamF2YS51dGlsLkxpc3Q7XG4gICAgIDdcdFxuICAgICA4XHRwdWJsaWMgaW50ZXJmYWNlIExpY2hUcmluaFRhdURBTyB7XG4gICAgIDlcdCAgICBMaXN0PExpY2hUcmluaFRhdT4gZ2V0QWxsTGlzdCgpO1xuICAgIDEwXHQgICAgTGljaFRyaW5oVGF1IGdldEJ5SWQoU3RyaW5nIGlkKTtcbiAgICAxMVx0ICAgIGJvb2xlYW4gc2F2ZShMaWNoVHJpbmhUYXUgbGljaFRyaW5oVGF1KTtcbiAgICAxMlx0ICAgIGJvb2xlYW4gdXBkYXRlKExpY2hUcmluaFRhdSBsaWNoVHJpbmhUYXUpO1xuICAgIDEzXHQgICAgYm9vbGVhbiBkZWxldGUoTGljaFRyaW5oVGF1IGxpY2hUcmluaFRhdSk7XG4gICAgMTRcdCAgICBMaXN0PExpY2hUcmluaFRhdT4gZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZShMb2NhbERhdGUgZGF0ZSk7XG4gICAgMTVcdCAgICBMaXN0PExpY2hUcmluaFRhdT4gZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZUFuZEdhRGkoTG9jYWxEYXRlIGRhdGUsIFN0cmluZyBnYURpKTtcbiAgICAxNlx0ICAgIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlQW5kR2FEaUdhRGVuKExvY2FsRGF0ZSBkYXRlLCBTdHJpbmcgZ2FEaSwgU3RyaW5nIGdhRGVuKTtcbiAgICAxN1x0ICAgIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlQW5kR2FEaUdhRGVuQW5kR2lvRGkoTG9jYWxEYXRlIGRhdGUsIFN0cmluZyBnYURpLCBTdHJpbmcgZ2FEZW4sIFN0cmluZyBnaW9EaSk7XG4gICAgMThcdH1cbiAgICAxOVx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImMxNTg2NTkwLTdkMjMtNDBjNC05NGI5LThmZGFhMTExZWQ2Zjt0b29sdV92cnR4XzAxMWh2eldHRVlVMnR0OVpVRWdkVUNWVyI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIEQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPSW1wbC5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDVcdGltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLkVudGl0eVRyYW5zYWN0aW9uO1xuICAgICA2XHRpbXBvcnQgbG9tYm9rLkFsbEFyZ3NDb25zdHJ1Y3RvcjtcbiAgICAgN1x0aW1wb3J0IG1vZGVsLkxpY2hUcmluaFRhdTtcbiAgICAgOFx0XG4gICAgIDlcdGltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlO1xuICAgIDEwXHRpbXBvcnQgamF2YS50aW1lLkxvY2FsVGltZTtcbiAgICAxMVx0aW1wb3J0IGphdmEudXRpbC5MaXN0O1xuICAgIDEyXHRcbiAgICAxM1x0QEFsbEFyZ3NDb25zdHJ1Y3RvclxuICAgIDE0XHRwdWJsaWMgY2xhc3MgTGljaFRyaW5oVGF1REFPSW1wbCBpbXBsZW1lbnRzIExpY2hUcmluaFRhdURBTyB7XG4gICAgMTVcdCAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZW07XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImIwYTg2NzZiLWVlZjktNDU4OC1iNjA2LTRiNGFhYTM5MDIxODt0b29sdV92cnR4XzAxNkZWRWJScnZYa3pleDc3bWI0bWJORiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIEQ6L0NvZGUvUGhhblRhbkphdmFOaG9tR1BUL1Byb2plY3RfQmFuVmVUYXVUYWlHYXNMYWNIb25nL3NyYy9tYWluL2phdmEvZGFvL2ltcGwvTGljaFRyaW5oVGF1REFPSW1wbC5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgOTlcdCAgICAgICAgfVxuICAgMTAwXHQgICAgICAgIHJldHVybiBmYWxzZTtcbiAgIDEwMVx0ICAgIH1cbiAgIDEwMlx0XG4gICAxMDNcdCAgICBAT3ZlcnJpZGVcbiAgIDEwNFx0ICAgIHB1YmxpYyBMaXN0PExpY2hUcmluaFRhdT4gZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZShMb2NhbERhdGUgZGF0ZSkge1xuICAgMTA1XHQgICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTtcbiAgIDEwNlx0ICAgICAgICBMaXN0PExpY2hUcmluaFRhdT4gbGlzdCA9IG51bGw7XG4gICAxMDdcdCAgICAgICAgdHJ5IHtcbiAgIDEwOFx0ICAgICAgICAgICAgdHIuYmVnaW4oKTtcbiAgIDEwOVx0ICAgICAgICAgICAgU3RyaW5nIGpwcWwgPSBcIlNFTEVDVCBsdHQgRlJPTSBMaWNoVHJpbmhUYXUgbHR0IFdIRVJFIGx0dC5uZ2F5RGkgPSA6ZGF0ZVwiO1xuICAgMTEwXHQgICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoanBxbCwgTGljaFRyaW5oVGF1LmNsYXNzKVxuICAgMTExXHQgICAgICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJkYXRlXCIsIGRhdGUpXG4gICAxMTJcdCAgICAgICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgIDExM1x0ICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAxMTRcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDExNVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDExNlx0ICAgICAgICAgICAgaWYgKHRyLmlzQWN0aXZlKCkpIHtcbiAgIDExN1x0ICAgICAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAxMThcdCAgICAgICAgICAgIH1cbiAgIDExOVx0ICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggTGljaFRyaW5oVGF1IHRoZW8gbmfDoHlcIik7XG4gICAxMjBcdCAgICAgICAgfVxuICAgMTIxXHQgICAgICAgIHJldHVybiBsaXN0O1xuICAgMTIyXHQgICAgfVxuICAgMTIzXHRcbiAgIDEyNFx0ICAgIEBPdmVycmlkZVxuICAgMTI1XHQgICAgcHVibGljIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlQW5kR2FEaShMb2NhbERhdGUgZGF0ZSwgU3RyaW5nIGdhRGkpIHtcbiAgIDEyNlx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAxMjdcdCAgICAgICAgTGlzdDxMaWNoVHJpbmhUYXU+IGxpc3QgPSBudWxsO1xuICAgMTI4XHQgICAgICAgIHRyeSB7XG4gICAxMjlcdCAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAxMzBcdCAgICAgICAgICAgIFN0cmluZyBqcHFsID0gXCJTRUxFQ1QgbHR0IEZST00gTGljaFRyaW5oVGF1IGx0dCBXSEVSRSBsdHQubmdheURpID0gOmRhdGUgQU5EIGx0dC50YXUudHV5ZW5UYXUuZ2FEaSA9IDpnYURpXCI7XG4gICAxMzFcdCAgICAgICAgICAgIGxpc3QgPSBlbS5jcmVhdGVRdWVyeShqcHFsLCBMaWNoVHJpbmhUYXUuY2xhc3MpXG4gICAxMzJcdCAgICAgICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImRhdGVcIiwgZGF0ZSlcbiAgIDEzM1x0ICAgICAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZ2FEaVwiLCBnYURpKVxuICAgMTM0XHQgICAgICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7XG4gICAxMzVcdCAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgMTM2XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAxMzdcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAxMzhcdCAgICAgICAgICAgIGlmICh0ci5pc0FjdGl2ZSgpKSB7XG4gICAxMzlcdCAgICAgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgMTQwXHQgICAgICAgICAgICB9XG4gICAxNDFcdCAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSBs4bqleSBkYW5oIHPDoWNoIExpY2hUcmluaFRhdSB0aGVvIG5nw6B5IHbDoCBnYSDEkWlcIik7XG4gICAxNDJcdCAgICAgICAgfVxuICAgMTQzXHQgICAgICAgIHJldHVybiBsaXN0O1xuICAgMTQ0XHQgICAgfVxuICAgMTQ1XHRcbiAgIDE0Nlx0ICAgIEBPdmVycmlkZVxuICAgMTQ3XHQgICAgcHVibGljIExpc3Q8TGljaFRyaW5oVGF1PiBnZXRMaXN0TGljaFRyaW5oVGF1QnlEYXRlQW5kR2FEaUdhRGVuKExvY2FsRGF0ZSBkYXRlLCBTdHJpbmcgZ2FEaSwgU3RyaW5nIGdhRGVuKSB7XG4gICAxNDhcdCAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHIgPSBlbS5nZXRUcmFuc2FjdGlvbigpO1xuICAgMTQ5XHQgICAgICAgIExpc3Q8TGljaFRyaW5oVGF1PiBsaXN0ID0gbnVsbDtcbiAgIDE1MFx0ICAgICAgICB0cnkge1xuICAgMTUxXHQgICAgICAgICAgICB0ci5iZWdpbigpO1xuICAgMTUyXHQgICAgICAgICAgICBTdHJpbmcganBxbCA9IFwiU0VMRUNUIGx0dCBGUk9NIExpY2hUcmluaFRhdSBsdHQgV0hFUkUgbHR0Lm5nYXlEaSA9IDpkYXRlIEFORCBsdHQudGF1LnR1eWVuVGF1LmdhRGkgPSA6Z2FEaSBBTkQgbHR0LnRhdS50dXllblRhdS5nYURlbiA9IDpnYURlblwiO1xuICAgMTUzXHQgICAgICAgICAgICBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoanBxbCwgTGljaFRyaW5oVGF1LmNsYXNzKVxuICAgMTU0XHQgICAgICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJkYXRlXCIsIGRhdGUpXG4gICAxNTVcdCAgICAgICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImdhRGlcIiwgZ2FEaSlcbiAgIDE1Nlx0ICAgICAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZ2FEZW5cIiwgZ2FEZW4pXG4gICAxNTdcdCAgICAgICAgICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTtcbiAgIDE1OFx0ICAgICAgICAgICAgdHIuY29tbWl0KCk7XG4gICAxNTlcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDE2MFx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDE2MVx0ICAgICAgICAgICAgaWYgKHRyLmlzQWN0aXZlKCkpIHtcbiAgIDE2Mlx0ICAgICAgICAgICAgICAgIHRyLnJvbGxiYWNrKCk7XG4gICAxNjNcdCAgICAgICAgICAgIH1cbiAgIDE2NFx0ICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggTGljaFRyaW5oVGF1IHRoZW8gbmfDoHksIGdhIMSRaSB2w6AgZ2EgxJHhur9uXCIpO1xuICAgMTY1XHQgICAgICAgIH1cbiAgIDE2Nlx0ICAgICAgICByZXR1cm4gbGlzdDtcbiAgIDE2N1x0ICAgIH1cbiAgIDE2OFx0XG4gICAxNjlcdCAgICBAT3ZlcnJpZGVcbiAgIDE3MFx0ICAgIHB1YmxpYyBMaXN0PExpY2hUcmluaFRhdT4gZ2V0TGlzdExpY2hUcmluaFRhdUJ5RGF0ZUFuZEdhRGlHYURlbkFuZEdpb0RpKExvY2FsRGF0ZSBkYXRlLCBTdHJpbmcgZ2FEaSwgU3RyaW5nIGdhRGVuLCBTdHJpbmcgZ2lvRGkpIHtcbiAgIDE3MVx0ICAgICAgICBFbnRpdHlUcmFuc2FjdGlvbiB0ciA9IGVtLmdldFRyYW5zYWN0aW9uKCk7XG4gICAxNzJcdCAgICAgICAgTGlzdDxMaWNoVHJpbmhUYXU+IGxpc3QgPSBudWxsO1xuICAgMTczXHQgICAgICAgIHRyeSB7XG4gICAxNzRcdCAgICAgICAgICAgIHRyLmJlZ2luKCk7XG4gICAxNzVcdCAgICAgICAgICAgIC8vIENvbnZlcnQgZ2lvRGkgc3RyaW5nIHRvIExvY2FsVGltZVxuICAgMTc2XHQgICAgICAgICAgICBMb2NhbFRpbWUgdGltZSA9IExvY2FsVGltZS5wYXJzZShnaW9EaSk7XG4gICAxNzdcdCAgICAgICAgICAgIFN0cmluZyBqcHFsID0gXCJTRUxFQ1QgbHR0IEZST00gTGljaFRyaW5oVGF1IGx0dCBXSEVSRSBsdHQubmdheURpID0gOmRhdGUgQU5EIGx0dC50YXUudHV5ZW5UYXUuZ2FEaSA9IDpnYURpIEFORCBsdHQudGF1LnR1eWVuVGF1LmdhRGVuID0gOmdhRGVuIEFORCBsdHQuZ2lvRGkgPSA6Z2lvRGlcIjtcbiAgIDE3OFx0ICAgICAgICAgICAgbGlzdCA9IGVtLmNyZWF0ZVF1ZXJ5KGpwcWwsIExpY2hUcmluaFRhdS5jbGFzcylcbiAgIDE3OVx0ICAgICAgICAgICAgICAgICAgICAuc2V0UGFyYW1ldGVyKFwiZGF0ZVwiLCBkYXRlKVxuICAgMTgwXHQgICAgICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJnYURpXCIsIGdhRGkpXG4gICAxODFcdCAgICAgICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcihcImdhRGVuXCIsIGdhRGVuKVxuICAgMTgyXHQgICAgICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoXCJnaW9EaVwiLCB0aW1lKVxuICAgMTgzXHQgICAgICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7XG4gICAxODRcdCAgICAgICAgICAgIHRyLmNvbW1pdCgpO1xuICAgMTg1XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAxODZcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAxODdcdCAgICAgICAgICAgIGlmICh0ci5pc0FjdGl2ZSgpKSB7XG4gICAxODhcdCAgICAgICAgICAgICAgICB0ci5yb2xsYmFjaygpO1xuICAgMTg5XHQgICAgICAgICAgICB9XG4gICAxOTBcdCAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSBs4bqleSBkYW5oIHPDoWNoIExpY2hUcmluaFRhdSB0aGVvIG5nw6B5LCBnYSDEkWksIGdhIMSR4bq/biB2w6AgZ2nhu50gxJFpXCIpO1xuICAgMTkxXHQgICAgICAgIH1cbiAgIDE5Mlx0ICAgICAgICByZXR1cm4gbGlzdDtcbiAgIDE5M1x0ICAgIH1cbiAgIDE5NFx0fVxuICAgMTk1XHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fX0sImRyYWZ0RXhjaGFuZ2UiOnsicmVxdWVzdF9tZXNzYWdlIjoiIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCJ9XX0sInN0YXR1cyI6ImRyYWZ0In0sInJlcXVlc3RJZHMiOltdLCJpc1Bpbm5lZCI6ZmFsc2UsImlzU2hhcmVhYmxlIjp0cnVlLCJleHRyYURhdGEiOnsiaXNBZ2VudENvbnZlcnNhdGlvbiI6dHJ1ZSwiaGFzQWdlbnRPbmJvYXJkZWQiOnRydWUsImhhc0RpcnR5RWRpdHMiOmZhbHNlLCJiYXNlbGluZVRpbWVzdGFtcCI6MTc0NDcyODQ2NTA1M30sInBlcnNvbmFUeXBlIjowfX0sImFnZW50RXhlY3V0aW9uTW9kZSI6Im1hbnVhbCIsImlzQWdlbnRFZGl0c0NvbGxhcHNlZCI6dHJ1ZX0=" />
      </map>
    </option>
  </component>
</project>